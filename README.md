# Teknion Configurator (POC)

**DEMO: https://wallabyway.github.io/teknion/**

> see [script/README](script/README.md) instructions for details on how to automate SVF preparation and configs.


![patternfabric](https://user-images.githubusercontent.com/440241/61196417-63fd9300-a683-11e9-8332-9c09cf3747fd.jpg)
**SCREENSHOT: TASK CHAIR WITH RED TWEED**


### Notes:
1. all files hosted on github pages to demostrate 'self hosting'
2. a smaller subset of Teknion's textures are in folder `/textures`
3. textures resampled to 'power of 2' (better visual quality. needs mip-mapping). see 'resize.sh' script
2. Prism149 'Fabric' was used as base material (see [Prism-Fabric](http://help.autodesk.com/view/ARENDERING/ENU/?guid=GUID-97CC0DD3-35A8-4D8F-80A0-B1C4AD54D2B0) for details)
3. Chair.DWG svf as 'taken offline' and is hosted under the folder `/svf`
4. `[/config-xml.json](https://github.com/wallabyway/teknion/blob/master/docs/config-xml.json)` is a json version of the chair XML config file
5. experimented with '[two backdrops](https://github.com/wallabyway/teknion/blob/master/docs/img/background1.jpg)' 
6. experimented with [fast material change](https://github.com/wallabyway/teknion/blob/72bc9b536c7e80e9b379ea31020287100c9c20f8/docs/js/materials.js#L10-L11), of only the diffuse channel
7. settled on material changing using full prism material changing function called [setPrism149()](https://github.com/wallabyway/teknion/blob/72bc9b536c7e80e9b379ea31020287100c9c20f8/docs/js/materials.js#L9) which can apply any prism material to individual fragIDs (currently in use)
8. Layers information is accessible via layers extension or via the layers API (not implemented)
9. frame material changing, only [metal color](https://github.com/wallabyway/teknion/blob/72bc9b536c7e80e9b379ea31020287100c9c20f8/docs/js/materials.js#L15-L18)

Raw DWG file is accessible from the svf folder and the [URN is commented out](https://github.com/wallabyway/teknion/blob/72bc9b536c7e80e9b379ea31020287100c9c20f8/docs/js/app.js#L53).  I suspect that the UV's scale is wrong is the mapping is completely missing, since the reflection was visible but the texture looked extremely stretched out and possibly broken.  If DWG translation is broken then, we may need to use Design Automation, to add in the UV's programmatically.  It also means that Fusion must have fixed the material UV or scale bug in the DWG file, during import.


### Setup:

1. Run a local static server

```
cd docs
python -m SimpleHTTPServer 8080
```

2. open browser `http://localhost:8080`

### Screenshots:
**BACKDROP FEATURE:**
![teknionjpg2](https://user-images.githubusercontent.com/440241/61027699-ac5b3f00-a36b-11e9-8955-f923f124024b.jpg)




## Teknion experiments:
### Textures:
A sample of the Teknion textures were supplied. The prism fabric normal and specular maps don't not exactly match, but they look ok from a distance.
> fabric_wire_norm.png
![fabric_wire_norm.png](https://wallabyway.github.io/teknion/img/textures/fabric_wire_norm.png)

In order to use existing data, I tried creating a fake bump map from the supplied textures.  I used some off-the-shelf software called '[http://crazybump.com](http://crazybump.com)' to create a normal map from 'D326_Thistle Tweed.jpg'...

![D326_Thistle Tweed.jpg](https://wallabyway.github.io/teknion/img/textures/D326_Thistle%20Tweed.jpg)
![D326-NRM.png](https://wallabyway.github.io/teknion/img/textures/D326-NRM.png)

However, the initial results weren't so great and I forgot to save the specular map generated by crazyBump.
In hindsight, it will be easier to experiement with material and lighting inside the Fusion360 rendering canvas, where it is has better UI controls for scale, bump, specular effects.


