// LMV v3.3.6
//
// Copyright 2019 Autodesk, Inc.
// All rights reserved.
// 
// This computer source code and related instructions and comments are the
// unpublished confidential and proprietary information of Autodesk, Inc.
// and are protected under Federal copyright and state trade secret law.
// They may not be disclosed to, copied or used by any third party without
// the prior written consent of Autodesk, Inc.
function getGlobal(){return"undefined"!=typeof window&&null!==window?window:"undefined"!=typeof self&&null!==self?self:global}var WGS=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d,e,f,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c,h){"object"===g(b)&&void 0!==a?h(b):(e=[b],d=h,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f))}(0,function(a){"use strict";function b(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function d(a,b){return b={exports:{}},a(b,b.exports),b.exports}function e(a){return isFinite(a=+a)&&0!=a?a<0?-e(-a):Math.log(a+Math.sqrt(a*a+1)):a}function f(b){a.logger=b}function h(a){return"ErrorCode:"+a+"."}function i(b){return 403===b||401===b?a.ErrorCodes.NETWORK_ACCESS_DENIED:404===b?a.ErrorCodes.NETWORK_FILE_NOT_FOUND:b>=500?a.ErrorCodes.NETWORK_SERVER_ERROR:a.ErrorCodes.NETWORK_UNHANDLED_RESPONSE_CODE}function j(){return"undefined"!=typeof XMLHttpRequest?XMLHttpRequest:(eg||(eg=c(1),eg.prototype._restrictedHeaders.cookie=!1),eg)}function k(a){var b=a.split("/");if(0==b.length)return a;for(var c=[],d=0;d<b.length;++d){var e=b[d];"."!==e&&(".."===e&&c.length?c.pop():c.push(e))}return 0==c.length?"":c.join("/")}function l(a,b){for(var c=a.length-b,d=new ArrayBuffer(c),e=new Uint8Array(d,0),f=0,g=b;f<c;f++,g++)e[f]=255&a.charCodeAt(g);return e}function m(a,b){return-1===b.indexOf("file://")&&(-1!==b.indexOf("://")||(!!a||void 0))}function n(a,b,d,e){function f(a){if("json"==e.responseType)try{return JSON.parse(a.toString("utf8"))}catch(a){d(a)}return a}0===a.indexOf("file://")&&(a=a.substr(7)),c(2).readFile(a,function(g,h){g?d(0,0,{httpStatusText:g,url:a}):31==h[0]&&139==h[1]?c(3).gunzip(h,null,function(c,g){c?d(0,0,{httpStatusText:c,url:a}):(g=f(g),e.ondata&&e.ondata(g),b(g))}):(h=f(h),e.ondata&&e.ondata(h),b(h))})}function o(b,c){c.hasOwnProperty("asynchronous")?c.asynchronous||a.logger.warn("LMV: Sync XHR used. Performance warning."):c.asynchronous=!0,c.hasOwnProperty("responseType")||(c.responseType="arraybuffer"),c.hasOwnProperty("withCredentials")||(c.withCredentials=!!b.auth),c.headers=b.headers,c.queryParams=b.queryParams,c.endpoint=b.endpoint}function p(a){self.postMessage({debug:1,message:a})}function q(a,b){var c=255*b[2]+b[3],d=Math.pow(2,(c-127)/2),e=d/b[1],f=b[0]*e,g=Qg[0]*f+Qg[3]*d+Qg[6]*e,h=Qg[1]*f+Qg[4]*d+Qg[7]*e,i=Qg[2]*f+Qg[5]*d+Qg[8]*e;g<0&&(g=0),h<0&&(h=0),i<0&&(i=0),a[0]=g,a[1]=h,a[2]=i}function r(a,b,c){var d=.0625*Math.sqrt(b[0]*c),e=.0625*Math.sqrt(b[1]*c),f=.0625*Math.sqrt(b[2]*c),g=Math.max(Math.max(d,e),Math.max(f,1e-6));g>1&&(g=1);var h=Math.ceil(255*g)/255;d>1&&(d=1),e>1&&(e=1),f>1&&(f=1),a[3]=h;var i=1/h;a[0]=d*i,a[1]=e*i,a[2]=f*i}function s(a,b,c){var d=Math.sqrt(b[0]*c),e=Math.sqrt(b[1]*c),f=Math.sqrt(b[2]*c);d>65504&&(d=65504),e>65504&&(e=65504),f>65504&&(f=65504),a[0]=d,a[1]=e,a[2]=f}function t(a){for(var b=[],c=Array.isArray(a.image)?a.image:[a.image],d=0;d<c.length;d++)for(var e=c[d],f=0;f<e.mipmaps.length;f++){var g=e.mipmaps[f];b.push(g.data.buffer)}return b}function u(a,b){this.nodes=[],this.nextNode=0,this.children=[],this.nextChild=0,this.dbIdToIndex={},this.names=[],this.s2i={},this.strings=[],this.nameSuffixes=[],this.getIndex(0)}function v(a){var b=new Int32Array(a.length);return b.set(a),b}function w(a,b,c){this.nodes=a.nodes,this.children=a.children,this.dbIdToIndex=a.dbIdToIndex,this.names=a.names,this.nameSuffixes=a.nameSuffixes,this.strings=a.strings,this.rootId=b,this.numNodes=this.nodes.length/Xg,this.visibleIds=null,this.nodeBoxes=c||new Float32Array(6*this.numNodes)}function x(a,b){this.bytes_per_node=b?32:36;var c,d;a instanceof ArrayBuffer?(c=a.byteLength/this.bytes_per_node,d=a,this.nodeCount=c):(c=0|a,d=new ArrayBuffer(this.bytes_per_node*c),this.nodeCount=0),this.nodeCapacity=c,this.nodesRaw=d,this.is_lean_node=b,this.node_stride=this.bytes_per_node/4,this.node_stride_short=this.bytes_per_node/2,this.nodesF=new Float32Array(this.nodesRaw),this.nodesI=new Int32Array(this.nodesRaw),this.nodesS=new Uint16Array(this.nodesRaw)}function y(a,b){this.boxes=a.boxes,this.polygonCounts=a.polygonCounts,this.hasPolygonCounts=!!this.polygonCounts,this.materials=a.materials,this.materialDefs=b,this.count=a.length,this.boxStride=6}function z(a,b,c){this.finfo=c||new y(a,b),this.prim_count=this.finfo.getCount(),this.frags_per_leaf_node=-1,this.frags_per_inner_node=-1,this.nodes=null,this.work_buf=new ArrayBuffer(4*this.prim_count),this.sort_prims=new Int32Array(this.work_buf),this.primitives=new Int32Array(this.prim_count),this.centroids=new Float32Array(Yg*this.prim_count),this.boxv_o=new Float32Array(6),this.boxc_o=new Float32Array(6),this.boxv_t=new Float32Array(6),this.boxc_t=new Float32Array(6),this.recursion_stack=[]}function A(){return ch++}function B(){this.vb=null,this.vbstride=0,this.posOffset=0,this.normalOffset=0,this.matrices=null,this.ranges=null,this.dbIds=null,this.id=A()}function C(a){a.x=.5*(1+Math.atan2(a.y,a.x)/Math.PI),a.y=.5*(1+a.z),a.z=0}function D(a){var b=2*a.x-1,c=2*a.y-1,d=Math.sin(b*Math.PI),e=Math.cos(b*Math.PI),f=Math.sqrt(1-c*c),g=c;a.x=e*f,a.y=d*f,a.z=g}function E(a,b,c){b[c++]=255&a,b[c++]=a>>8&255,b[c++]=a>>16&255,b[c]=0}function F(a,b){return b.copy(a),b[12]=0,b[13]=0,b[14]=0,b.getInverse(b).transpose()}function G(a,b,c){for(var d=16*a,e=0;e<16;e++)c.elements[e]=b[e+d]}function H(a){return a.vb?a.vb.length/a.vbstride:a.attributes.positions?a.attributes.positions.count:0}function I(a,b,c){var d,e=a.attributes,f=a.vb||e.position.array,g=a.vb?a.vbstride:3;if(a.vblayout){if(!a.vblayout.position)return;d=a.vblayout.position.offset}else{if(!e.position)return;d=e.position.itemOffset||0}var h=f.length/g;eh||(eh=new nh);for(var i=d,j=0;j<h;j++,i+=g)eh.set(f[i],f[i+1],f[i+2]),c&&eh.applyMatrix4(c),b(eh,j)}function J(a,b){var c,d,e,f=a.attributes;fh||(fh=new nh,gh=new nh,hh=new nh,ih=new nh,jh=new nh,kh=new nh);var g,h=a.vb||f.position.array,i=a.vb||f.normal&&f.normal.array,j=a.vb?a.vbstride:3;if(a.vblayout){if(!a.vblayout.position)return;g=a.vblayout.position.offset}else{if(!f.position)return;g=f.position.itemOffset||0}var k=0,l=a.vblayout?a.vblayout.normal:f.normal||null;l?k=l.offset||l.itemOffset:i=null,!l||3===l.itemSize&&4===l.bytesPerItem||(i=null);var m=a.ib||a.indices||(f.index?f.index.array:null);if(m){var n=a.offsets;n&&0!==n.length||(n=[{start:0,count:m.length,index:0}]);for(var o=0,p=n.length;o<p;++o)for(var q=n[o].start,r=n[o].count,s=n[o].index,t=q,u=q+r;t<u;t+=3){c=s+m[t],d=s+m[t+1],e=s+m[t+2];var v=c*j+g,w=d*j+g,x=e*j+g;if(fh.x=h[v],fh.y=h[v+1],fh.z=h[v+2],gh.x=h[w],gh.y=h[w+1],gh.z=h[w+2],hh.x=h[x],hh.y=h[x+1],hh.z=h[x+2],i){var y=c*j+k,z=d*j+k,A=e*j+k;ih.x=i[y],ih.y=i[y+1],ih.z=i[y+2],jh.x=i[z],jh.y=i[z+1],jh.z=i[z+2],kh.x=i[A],kh.y=i[A+1],kh.z=i[A+2],b(fh,gh,hh,c,d,e,ih,jh,kh)}else b(fh,gh,hh,c,d,e)}}else for(var B=a.vb?a.vb.length/a.vbstride:h.length/3,C=0;C<B;C++){c=3*C,d=3*C+1,e=3*C+2;var v=c*j+g,w=d*j+g,x=e*j+g;if(fh.x=h[v],fh.y=h[v+1],fh.z=h[v+2],gh.x=h[w],gh.y=h[w+1],gh.z=h[w+2],hh.x=h[x],hh.y=h[x+1],hh.z=h[x+2],i){var y=c*j+k,z=d*j+k,A=e*j+k;ih.x=i[y],ih.y=i[y+1],ih.z=i[y+2],jh.x=i[z],jh.y=i[z+1],jh.z=i[z+2],kh.x=i[A],kh.y=i[A+1],kh.z=i[A+2],b(fh,gh,hh,c,d,e,ih,jh,kh)}else b(fh,gh,hh,c,d,e)}}function K(a,b){var c,d,e=a.attributes;lh||(lh=new nh,mh=new nh);var f=2;a.lineWidth&&(f=6);var g=a.ib||a.indices||(e.index?e.index.array:null);if(g){var h=a.vb?a.vb:e.position.array,i=a.vb?a.vbstride:3,j=a.offsets;j&&0!==j.length||(j=[{start:0,count:g.length,index:0}]);for(var k=0,l=j.length;k<l;++k)for(var m=j[k].start,n=j[k].count,o=j[k].index,p=m,q=m+n;p<q;p+=f)c=o+g[p],d=o+g[p+1],lh.x=h[c*i],lh.y=h[c*i+1],lh.z=h[c*i+2],mh.x=h[d*i],mh.y=h[d*i+1],mh.z=h[d*i+2],b(lh,mh,c,d)}else for(var h=a.vb?a.vb:e.position.array,i=a.vb?a.vbstride:3,r=0,s=h.length;r<s;r+=f)c=r,d=r+1,lh.x=h[c*i],lh.y=h[c*i+1],lh.z=h[c*i+2],mh.x=h[d*i],mh.y=h[d*i+1],mh.z=h[d*i+2],b(lh,mh,c,d)}function L(a,b){function c(a,b){var c=0|a.x*j,d=0|a.y*j,e=0|a.z*j,g=f[c];g||(f[c]=g={});var h=g[d];h||(g[d]=h={});var i=h[e];return void 0===i&&(h[e]=i=b),i}function d(a,b){var d=c(a,b);e[b]=d}var e=[],f={},g=1;if(a.boundingBox||b){var h=(new Kg).copy(a.boundingBox||b),i=h.size();g=Math.max(i.x,Math.max(i.y,i.z))}var j=65536/g;return rh(a,d),e}function M(a,b){function c(a,b){d[3*b]=a.x,d[3*b+1]=a.y,d[3*b+2]=a.z}var d=new Float32Array(3*ph(a));return rh(a,c,b),d}function N(a,b,c,d){function e(a,b){b.x=j[3*a],b.y=j[3*a+1],b.z=j[3*a+2]}function f(a,b,c,d){e(a,m),e(b,n),e(c,o),n.sub(m),o.sub(m),n.cross(o),d.copy(n).normalize()}function g(a,b,c){var e=i[a],g=i[b],h=i[c];if(e!==g&&e!==h&&g!==h){var j=!1;if(e>g){var m=e;e=g,g=m,j=!0}var n=k[e];if(n){var o=n[g];if(void 0===o)n[g]=j?-c-1:c;else{if(d)l.push(a),l.push(b);else{f(a,b,c,p),o<0?f(g,e,i[-o-1],q):f(e,g,i[o],q);var r=p.dot(q);Math.abs(r)<.25&&(l.push(a),l.push(b))}delete n[g]}}else k[e]={},k[e][g]=c}}function h(a,b,c,d,e,f){g(d,e,f),g(e,f,d),g(f,d,e)}if(!a.isLines&&!a.iblines){var i=L(a,c),j=M(a,b),k={},l=[],m=new og,n=new og,o=new og,p=new og,q=new og;qh(a,h);for(var r in k)for(var s in k[r])l.push(parseInt(r)),l.push(parseInt(s));l.length>1&&(a.iblines=new Uint16Array(l.length),a.iblines.set(l))}}function O(a,b,c){var d,e,f,g,h,i;for(d="",f=c,e=0;e<f;)switch((g=a[b+e++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d+=String.fromCharCode(g);break;case 12:case 13:h=a[b+e++],d+=String.fromCharCode((31&g)<<6|63&h);break;case 14:h=a[b+e++],i=a[b+e++],d+=String.fromCharCode((15&g)<<12|(63&h)<<6|(63&i)<<0)}return d}function P(a,b,c){if(void 0===b&&(b=0),void 0===c&&(c=a.length),zh)return O(a,b,c);for(var d="",e=b,f=b+c;e<f;e++)d+=String.fromCharCode(a[e]);return decodeURIComponent(escape(d))}function Q(a){var b=P(a,0,a.length);return JSON.parse(b)}function R(a,b){if(void 0===b)return"";for(var c=b;c<a.length-1;){var d=a[c];if(44==d&&(10==a[c+1]||13==a[c+1]))break;if(10==d||13==d)break;c++}var e=P(a,b,c-b);try{return JSON.parse(e)}catch(a){return console.error("Error parsing property blob to JSON : "+e),e}}function S(a,b){var c=0,d=b;for(34==a[d]&&d++;d<a.length-1;){var e=a[d];if(44==e&&(10==a[d+1]||13==a[d+1]))break;if(10==e||13==e||34==e)break;e>=48&&e<=57&&(c=10*c+(e-48)),d++}return c}function T(a,b){for(var c=0,d=0,e=a.length;d<e;d++)44==a[d]&&c++;c++;var f=new Uint32Array(c+(b?1:0));d=0;for(var g=a.length;91!=a[d]&&d<g;)d++;if(d==a.length)return null;d++;var h=!1;c=0;for(var i=0;d<g;){var j=a[d];j>=48&&j<=57?(i=10*i+(j-48),h=!0):44==j||93==j?h&&(f[c++]=i,h=!1,i=0):(h=!1,i=0),d++}return f}function U(a){for(var b=0,c=a.length-1,d=0;d<c;d++)44!=a[d]||10!=a[d+1]&&13!=a[d+1]||b++;if(!b)return null;b++;var e=new Uint32Array(b);for(d=0,b=0;91!=a[d]&&d<c;)d++;d++,e[b++]=d;for(var f=!1;d<c;)10==a[d]||13==a[d]?f=!0:f&&(f=!1,e[b++]=d),d++;return e}function V(a){this.buffer=a,this.offset=0,this.byteLength=a.length}function W(a){switch(a){case"meter":case"meters":case"m":return 1;case"feet and inches":case"foot":case"feet":case"ft":return.3048;case"inch":case"inches":case"in":return.0254;case"centimeter":case"centimeters":case"cm":return.01;case"millimeter":case"millimeters":case"mm":return.001;default:return 1}}function X(a){for(var b=a.elements,c=0;c<4;c++)for(var d=0;d<4;d++)if(c===d){if(1!==b[4*c+d])return!1}else if(0!==b[4*c+d])return!1;return!0}function Y(a,b){if(a.placementTransform=b.placementTransform,b.applyScaling){var c="m";a.metadata["distance unit"]&&(c=a.metadata["distance unit"].value),a.scalingUnit=c,"object"===jg(b.applyScaling)?(b.applyScaling.from&&(c=b.applyScaling.from),b.applyScaling.to&&(a.scalingUnit=b.applyScaling.to)):a.scalingUnit=b.applyScaling;var d=W(c)/W(a.scalingUnit);if(1!=d){var e=new Jg(!0),f=new Jg(!0);f.elements[0]=d,f.elements[5]=d,f.elements[10]=d,b.placementTransform&&e.copy(b.placementTransform),a.placementTransform=b.placementTransform=e.multiply(f)}}var g=a.metadata&&a.metadata["custom values"]&&a.metadata["custom values"].refPointTransform;if(g){a.refPointTransform=new Jg(!0);var h=a.refPointTransform.elements;h[0]=g[0],h[1]=g[1],h[2]=g[2],h[4]=g[3],h[5]=g[4],h[6]=g[5],h[8]=g[6],h[9]=g[7],h[10]=g[8],h[12]=g[9],h[13]=g[10],h[14]=g[11]}else{var i=a.metadata&&a.metadata.georeference&&a.metadata.georeference.refPointLMV,j=a.metadata&&a.metadata["custom values"]&&a.metadata["custom values"].angleToTrueNorth,k=j?Math.PI/180*j:0;if(i||k){a.refPointTransform=new Jg(!0);var h=a.refPointTransform.elements;k&&(h[0]=h[5]=Math.cos(k),h[1]=-Math.sin(k),h[4]=Math.sin(k)),i&&(h[12]=i[0],h[13]=i[1],h[14]=i[2])}}if(b.applyRefPoint&&a.refPointTransform){var l=new Jg(!0);b.placementTransform&&l.copy(b.placementTransform),l.multiply(a.refPointTransform),a.placementTransform=b.placementTransform=l}return a.placementTransform&&X(a.placementTransform)&&(a.placementTransform=null),a.placementTransform}function Z(a,b){if(a.metadata){var c=a.metadata["world bounding box"],d=new og(c.minXYZ[0],c.minXYZ[1],c.minXYZ[2]),e=new og(c.maxXYZ[0],c.maxXYZ[1],c.maxXYZ[2]);a.bbox=new Kg(d,e),a.globalOffset=b.globalOffset||{x:.5*(d.x+e.x),y:.5*(d.y+e.y),z:.5*(d.z+e.z)};var f=Y(a,b),g=a.globalOffset;if(g.x||g.y||g.z){if(f){var h=new Jg(!0);h.copy(f),f=h,f.elements[12]-=g.x,f.elements[13]-=g.y,f.elements[14]-=g.z}else f=new Jg(!0),f.makeTranslation(-g.x,-g.y,-g.z);a.placementWithOffset=f}else a.placementWithOffset=f;f&&a.bbox.applyMatrix4(f),a.metadata.hasOwnProperty("double sided geometry")&&a.metadata["double sided geometry"].value&&(a.doubleSided=!0)}}function $(a,b){a[0]-=b.x,a[1]-=b.y,a[2]-=b.z}function _(a){if(a.animations){var b=a.animations.animations;if(b)for(var c=a.globalOffset,d=(new Jg).makeTranslation(c.x,c.y,c.z),e=(new Jg).makeTranslation(-c.x,-c.y,-c.z),f=new Jg,g=new Jg,h=0;h<b.length;h++){var i=b[h];if(i.hierarchy)for(var j=0;j<i.hierarchy.length;j++){var k=i.hierarchy[j].keys;if(k)for(var l=0;l<k.length;l++){var m=k[l].pos;if(m){var n=c,o=k[l].rot;o&&(f.makeRotationFromQuaternion({x:o[0],y:o[1],z:o[2],w:o[3]}),g.multiplyMatrices(d,f).multiply(e),n={x:g.elements[12],y:g.elements[13],z:g.elements[14]}),$(m,n)}var p=k[l].target;p&&$(p,c);var q=k[l].points;if(q)for(var r=0;r<q.length;r++)$(q[r],c)}}}}}function aa(a,b){this.offset=0,this.byteLength=b,this.range=0,this.compressedBuffer=a,this.compressedByteLength=a.length,this.compressedOffset=0,this.decompressEnd=!1,this.resetCount=0,this.convBuf=new ArrayBuffer(8),this.convUint8=new Uint8Array(this.convBuf),this.convUint16=new Uint16Array(this.convBuf),this.convInt32=new Int32Array(this.convBuf),this.convUint32=new Uint32Array(this.convBuf),this.convFloat32=new Float32Array(this.convBuf),this.convFloat64=new Float64Array(this.convBuf),this.COMPRESSED_chunk_SIZE=524288,this.DECOMPRESSED_chunk_SIZE=262144,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.chunkPointer=null,this.chunkOffset=0,this.tempchunk={startIdx:0,endIdx:0,buffer:null},this.inflate=this.getInflate(),this.prepare(0,1024)}function ba(a){function b(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];Array.isArray(e)||(e=[e]);for(var f=0;f<e.length;f++){var g=e[f],h=b[g];void 0===h?b[g]=c:Array.isArray(h)?h.push(c):b[g]=[h,c]}}return b}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this;for(var s in a.attrs){c=Q(a.attrs[s]);for(var t=0;t<c.length;t++){switch(c[t][0]){case"Layer":q=t}switch(c[t][1]){case"__parent__":k=t;break;case"__child__":j=t;break;case"__name__":l=t;break;case"__instanceof__":m=t;break;case"__viewable_in__":n=t;break;case"__externalref__":o=t;break;case"__node_flags__":p=t}}break}for(var s in a.avs){e=T(a.avs[s],0),delete a.avs;break}for(var s in a.offsets){d=T(a.offsets[s],1),d[d.length-1]=e.length/2,delete a.offsets;break}for(var s in a.values){f=a.values[s],g=U(f);break}for(var s in a.ids){h=a.ids[s],i=U(h);break}this.getObjectCount=function(){return d.length-1},this.getValueAt=function(a){return R(f,g[a])},this.getIntValueAt=function(a){return S(f,g[a])},this.getIdAt=function(a){return R(h,i[a])},this.getObjectProperties=function(a,b,d,e){var f={dbId:a,properties:[]},g=!1,h=!1;if((!b||-1!==b.indexOf("externalId"))&&(f.externalId=this.getIdAt(a),g=!0,b&&1===b.length))return f;var i=null;if(this.enumObjectProperties(a,function(a,g){if(a==m){var p=r.getObjectProperties(r.getValueAt(g),b,d);return void(p&&p.properties&&(i=p))}var q=c[a];if(!(b&&-1===b.indexOf(q[0])&&-1===b.indexOf(q[5])||e&&(e.indexOf(q[0])>-1||e.indexOf(q[5])>-1)))if(a==l){var s=r.getValueAt(g);h=!0,f.name=s}else{var t=q[6]?q[6]:0,u=q[5]?q[5]:q[0],v=1&t||a==k||a==j||a==n||a==o;if(d&&v)return;f.properties.push({displayName:u,displayValue:r.getValueAt(g),displayCategory:q[1],attributeName:q[0],type:q[2],units:q[3],hidden:v,precision:q[7]||0})}}),i){for(var p={},q=f.properties,s=0;s<q.length;s++)p[q[s].displayName]=1;f.name||(f.name=i.name);for(var t=i.properties,s=0;s<t.length;s++)p.hasOwnProperty(t[s].displayName)||q.push(t[s])}return!b||f.properties.length||g||h?f:null},this.getExternalIdMapping=function(){var a={};if(i&&"length"in i)for(var b=1,c=i.length;b<c;++b){var d=this.getIdAt(b);a[d]=b}return a},this.findRootNodes=function(){var a=[];return this.enumObjects(function(b){var c=!1,d=!1,e=!1;r.enumObjectProperties(b,function(a,b){a==k?r.getIntValueAt(b)&&(d=!0):a==j?c=!0:a==l&&(e=!0)}),c&&e&&!d&&a.push(b)}),a},this.getNodeNameAndChildren=function(a,b){var c,d=a.dbId;return this.enumObjectProperties(d,function(d,e){var f;if(d==k);else if(d!=j||b)d==l?a.name=r.getValueAt(e):d==p&&(a.flags=r.getIntValueAt(e));else{f=r.getIntValueAt(e);var g={dbId:f,parent:a.dbId};c?c.push(g):c=[g]}}),a.name||this.enumObjectProperties(d,function(b,c){if(b==m){var d={dbId:r.getIntValueAt(c),name:null};r.getNodeNameAndChildren(d,!0),d&&d.name&&!a.name&&(a.name=d.name)}}),c};this.buildObjectTree=function(a,c,d,e){var f;return c&&(f=b(c)),this.buildObjectTreeRec(a,0,f,0,d,e)},this.buildObjectTreeRec=function(a,b,c,d,e,f){d>e[0]&&(e[0]=d);var g={dbId:a},h=this.getNodeNameAndChildren(g),i=[];if(h)for(var j=0;j<h.length;j++){var k=this.buildObjectTreeRec(h[j].dbId,a,c,d+1,e,f);k&&i.push(h[j].dbId)}var l;if(c){var m=c[a];void 0!==m&&(l=Array.isArray(m)?m:[m])}var n=g.flags||0;return void 0===n&&(n=l&&l.length?6:(i.length,0)),f.setNode(a,b,g.name,n,i,l),i.length+(l?l.length:0)},this.bruteForceSearch=function(a,b,d){a=a.toLowerCase();for(var e=a.match(/"[^"]+"|[^\s]+/g)||[],f=e.length;f--;)e[f]=e[f].replace(/"/g,"");for(var h=[],f=0;f<e.length;f++)(d||e[f].length>1)&&h.push(e[f]);if(0===h.length)return[];for(var i=[],j={},k=[],l=0;l<h.length;l++){for(var m=[],n=[],f=0,o=g.length;f<o;f++){var p=this.getValueAt(f);"string"==typeof p?-1!=p.toLowerCase().indexOf(h[l])&&n.push(f):-1!=p.toString().toLowerCase().indexOf(h[l])&&n.push(f)}this.enumObjects(function(a){var e="",f=null;r.enumObjectProperties(a,function(g,h){var i=c[g],j=i[5]?i[5]:i[0];if(d&&"name"===j.toLowerCase()&&(e=r.getValueAt(h)),-1!=n.indexOf(h)){if(b&&b.length&&-1===b.indexOf(c[g][0]))return;return m.push(a),f={id:a,nodeName:"",value:r.getValueAt(h),name:j},!0}}),f&&d&&0===l&&(f.nodeName=e,1===h.length?k.push(f):j[a]=f)}),i.push(m)}if(1===i.length)return d?k:i[0];for(var q={},s=i[0],f=0;f<s.length;f++)q[s[f]]=1;for(var t=1;t<i.length;t++){s=i[t];for(var u={},f=0;f<s.length;f++)1===q[s[f]]&&(u[s[f]]=1);q=u}var m=[];for(var v in q)m.push(parseInt(v)),d&&k.push(j[v]);return d?k:m},this.bruteForceFind=function(a){var b=[];return this.enumObjects(function(d){var e=!1;r.enumObjectProperties(d,function(b,d){var f=c[b],g=f[0],h=f[5];if(g===a||h===a)return e=!0,!0}),e&&b.push(d)}),b},this.getAttributeDef=function(a){var b=c[a];return{name:b[0],category:b[1],dataType:b[2],dataTypeContext:b[3],description:b[4],displayName:b[5],flags:b[6]}},this.enumAttributes=function(a){for(var b=1;b<c.length&&!a(b,this.getAttributeDef(b),c[b]);b++);},this.enumObjectProperties=function(a,b){for(var c=2*d[a],f=2*d[a+1],g=c;g<f;g+=2){if(b(e[g],e[g+1]))break}},this.findLayers=function(){var a={name:"root",id:1,index:1,children:[],isLayer:!1,childCount:0};if(void 0===q)return a;for(var b=[],c=e.length/2,d=0;d<c;++d){var f=2*d,g=e[f],h=e[f+1];if(g===q){var i=this.getValueAt(h);-1===b.indexOf(i)&&b.push(i)}}return b.sort(function(a,b){return a.localeCompare(b,void 0,{sensitivity:"base",numeric:!0})}),a.childCount=b.length,a.children=b.map(function(a,b){return{name:a,index:b+1,id:b+1,isLayer:!0}}),a},this.enumObjects=function(a){for(var b=d.length-1,c=1;c<b&&!a(c);c++);},this.getAttrChild=function(){return j},this.getAttrParent=function(){return k},this.getAttrName=function(){return l},this.getAttrLayers=function(){return q},this.getAttrInstanceOf=function(){return m},this.getAttrViewableIn=function(){return n},this.getAttrXref=function(){return o},this.getAttrNodeFlags=function(){return p}}function ca(a){var b;if(void 0!==("undefined"==typeof TextDecoder?"undefined":jg(TextDecoder)))b=new TextDecoder("utf-8").decode(a);else{for(var c="",d=0;d<a.length;d++)c+=String.fromCharCode(a[d]);b=decodeURIComponent(escape(c))}return JSON.parse(b)}function da(a){if(this.loadedBuffers={},a instanceof Uint8Array){var b=new Int32Array(a.buffer,0,20);1179937895!==b[0]&&debug("glb header "+b[0]);var c=b[3],d=new Uint8Array(a.buffer,20,c),e=a.buffer.slice(20+c);a=ca(d),this.loadedBuffers.binary_glTF=e}this.gltf=a,this.manifest=null,this.metadata=this.gltf.asset||{},this.metadata.gltf=this.metadata.version||1,this.materials=this.gltfMaterials={name:"GLTF Materials",version:"1.0",scene:{SceneUnit:"m"},materials:{}},this.materialToIndex={},this.materialList=[],this.geomToIndex={},this.geomList=[],this.geomsLoaded=0,this.fragments={length:0,numLoaded:0,boxes:null,transforms:null,materials:null,fragId2dbId:null,entityIndexes:null,mesh2frag:{}},this.geompacks=[],this.instances=[],this.cameras=[],this.lights=[],this.bbox=null,this.animations=null,this.pendingRequests=0,this.globalOffset={x:0,y:0,z:0},this.bbox=new Kg,this.nodeToDbId={},this.nextDbId=1,this.nextFragId=0}function ea(a,b){return Oh[0]=a[b],Oh[1]=a[b+1],Oh[2]=a[b+2],Oh[3]=a[b+3],Nh[0]}function fa(a,b){var c=b.definition,d=a.seekToEntry(c);if(!d)return null;if(d.version>2)return null;var e=a.stream,f={isPerspective:!e.getUint8(),position:a.readVector3f(),target:a.readVector3f(),up:a.readVector3f(),aspect:e.getFloat32(),fov:e.getFloat32()*(180/Math.PI)};return d.version<2&&(e.getFloat32(),e.getFloat32()),f.orthoScale=e.getFloat32(),f}function ga(){this.length=0,this.numLoaded=0,this.boxes=null,this.transforms=null,this.materials=null,this.packIds=null,this.entityIndexes=null,this.fragId2dbId=null,this.topoIndexes=null}function ha(a,b){var c=b.geomDataIndexes.length,d=a.stream,e=0,f={},g=b.mesh2frag={};b.polygonCounts=b.geomDataIndexes;for(var h=0;h<c;h++){var i=b.geomDataIndexes[h];if(f[i]){var j=f[i];b.polygonCounts[h]=b.polygonCounts[j],b.packIds[h]=b.packIds[j],b.entityIndexes[h]=b.entityIndexes[j],e+=b.polygonCounts[h]}else{if(!a.seekToEntry(i))return;d.getUint8(),d.seek(d.offset+24),b.polygonCounts[h]=d.getUint16(),b.packIds[h]=parseInt(a.readString()),b.entityIndexes[h]=a.readU32V(),e+=b.polygonCounts[h],f[i]=h}var k=b.packIds[h]+":"+b.entityIndexes[h],l=g[k];void 0===l?g[k]=h:Array.isArray(l)?l.push(h):g[k]=[l,h]}return b.geomDataIndexes=null,f=null,e}function ia(a,b){var c=a.getEntryCounts(),d=a.stream;b.length=c;for(var e,f=b.fragTypes=new Uint8Array(c),g=b.primCounts=new Uint16Array(c),h=b.packIds=new Int32Array(c),i=b.entityIndexes=new Int32Array(c),j=0,k=c;j<k;j++){var l=a.seekToEntry(j);if(!l)return;if(f[j]=d.getUint8(),d.seek(d.offset+24),g[j]=d.getUint16(),h[j]=parseInt(a.readString()),i[j]=a.readU32V(),l.version>2){var m=d.getInt32();if(-1!=m&&void 0===e){e=b.topoIndexes=new Int32Array(c);for(var n=0;n<j;n++)e[n]=-1}void 0!=e&&(e[j]=m)}}}function ja(a,b){var c=[];if(!b)return c;for(var d=a.getEntryCounts(),e=a.stream,f=0;f<d;f++){var g=a.seekToEntry(f);if(!g)return;if(g.version>5)return;g.version>4&&a.readU8(),a.readU32V(),g.version>2?a.readU32V():(a.readString(),a.readU32V()),a.readTransform(f,null,12*f);for(var h=0;h<6;h++)e.getFloat32();if(g.version>1){var i=a.readU32V();b.indexOf(i)>=0&&c.push(f)}}return c}function ka(a,b,c,d,e){var f=ja(a,e),g=f.length?f.length:a.getEntryCounts(),h=a.stream;Ph&&g>Ph&&(g=Ph),b.totalLength=a.getEntryCounts(),b.length=g,b.numLoaded=0;var i,j,k=b.boxes=new Float32Array(6*g),l=b.transforms=new Float32Array(12*g),m=b.materials=new Int32Array(g),n=b.packIds=new Int32Array(g),o=b.entityIndexes=new Int32Array(g),p=b.geomDataIndexes=new Int32Array(g),q=b.fragId2dbId=new Int32Array(g),r=[0,0,0];d&&(i=new Kg,j=new Jg(!0).fromArray(d.elements));for(var s=0,t=b.length;s<t;s++){var u=f.length?a.seekToEntry(f[s]):a.seekToEntry(s);if(!u)return;if(u.version>5)return;if(u.version>4){0!=(1&a.readU8())}if(m[s]=a.readU32V(),u.version>2?p[s]=a.readU32V():(n[s]=parseInt(a.readString()),o[s]=a.readU32V()),a.readTransform(s,l,12*s,d,c,r),u.version>3?function(a,b){for(var c=6*a,d=0;d<6;d++)k[c++]=h.getFloat32()+b[d%3]}(s,r):function(a){for(var b=6*a,c=0;c<6;c++)k[b++]=h.getFloat32()}(s),function(a){if(d){var b=6*a;i.setFromArray(k,b),i.applyMatrix4(j),i.copyToArray(k,b)}}(s),c){var v=6*s;k[v++]-=c.x,k[v++]-=c.y,k[v++]-=c.z,k[v++]-=c.x,k[v++]-=c.y,k[v++]-=c.z}u.version>1&&(q[s]=a.readU32V())}b.finishLoading=!0}function la(a,b){a.length=b.length,a.numLoaded=0;for(var c=a.length,d=[1/0,1/0,1/0,-1/0,-1/0,-1/0],e=new Float32Array(6*c),f=new Float32Array(12*c),g=new Int32Array(c),h=new Int32Array(c),i=new Int32Array(c),j={},k=0;k<b.length;++k){for(var l=b[k],m=6*l,n=6*k,o=0;o<6;++o)e[n++]=a.boxes[m++];m=12*l,n=12*k;for(var o=0;o<12;++o)f[n++]=a.transforms[m++];g[k]=a.materials[l],h[k]=a.packIds[l],i[k]=a.entityIndexes[l];var p=a.packIds[l]+":"+a.entityIndexes[l],q=j[p];void 0==q?j[p]=k:Array.isArray(q)?q.push(k):j[p]=[q,k];for(var r=6*k,o=0;o<3;++o)e[r+o]<d[o]&&(d[o]=e[r+o]);for(var o=3;o<6;++o)e[r+o]>d[o]&&(d[o]=e[r+o])}return a.boxes=e,a.transforms=f,a.materials=g,a.packIds=h,a.entityIndexes=i,a.mesh2frag=j,d}function ma(a,b){var c=Math.abs(b),d=Math.abs(a),e=Math.min(c,d)/Math.max(c,d),f=e*e,g=((-.0464964749*f+.15931422)*f-.327622764)*f*e+e;return d>c&&(g=1.57079637-g),b<0&&(g=3.14159274-g),a<0&&(g=-g),g}function na(a,b,c,d,e){var f=function(){return a.getString(a.getInt32())},g=a.getString(4);if("INDX"!=g)return null;var h=b.vertexCount,i=b.triangleCount,j=b.vbstride,k=h*j,l=k+(3*i*2+3)/4|0;if(b.sharedBufferBytes=4*l,!e){var m;if(c||(c=new ArrayBuffer(4*l),d=0),m=b.vb=new Float32Array(c,d,k),b.indices=new Uint16Array(c,d+4*k,3*i),a.getIndicesArray(m.buffer,d+4*k,3*i),"VERT"!=(g=a.getString(4)))return null;var n;b.vblayout.normal&&2===b.vblayout.normal.itemSize&&(n=new Uint16Array(m.buffer,m.byteOffset,m.byteLength/2)),a.getVector3Array(m,h,b.vblayout.position.offset,j);var o,p,q;if(1&b.flags){if("NORM"!=(g=a.getString(4)))return null;if(n)for(Qh.length<3*h&&(Qh=new Float32Array(3*h)),a.getVector3Array(Qh,h,0,3),o=0,q=b.vblayout.normal.offset;o<h;o++,q+=j){var r=.5*(ma(Qh[3*o+1],Qh[3*o])*Rh+1),s=.5*(Qh[3*o+2]+1);n[2*q]=65535*r|0,n[2*q+1]=65535*s|0}else a.getVector3Array(m,h,b.vblayout.normal.offset,j)}for(p=0;p<b.texMapCount;p++){if("TEXC"!=(g=a.getString(4)))return null;var t={name:f(),file:f()};b.uvs.push(t);var u="uv";p&&(u+=(p+1).toString()),a.getVector2Array(m,h,b.vblayout[u].offset,j)}var v=j-3*(b.attribMapCount||0);for(p=0;p<b.attribMapCount;p++){if("ATTR"!=(g=a.getString(4)))return null;var w,x={name:f()};if(-1!=x.name.indexOf("Color"))w="color";else{if(-1==x.name.indexOf("UVW")){b.attrs.push(x),a.getBytes(16*h);continue}w="uvw"}b.vblayout[w]={offset:v,itemSize:3};var y=[0,0,0,0];for(o=0,q=v;o<h;o++,q+=j)a.getVector4(y,0),m[q]=y[0],m[q+1]=y[1],m[q+2]=y[2];v+=3}}}function oa(a,b,c){var d=a.seekToEntry(b);return d?"Autodesk.CloudPlatform.OpenCTM"==d.entryType?Uh(a.stream,c.dstBuffer,c.startOffset,c.estimateSizeOnly,c.packNormals):"Autodesk.CloudPlatform.Lines"==d.entryType?Wh(a,d,c.estimateSizeOnly):"Autodesk.CloudPlatform.Points"==d.entryType?Xh(a,d,c.estimateSizeOnly):null:null}function pa(a,b,c,d){var e=a.seekToEntry(b);if(!e)return null;if(e.version>2)return null;if(e.version>1){0!=(1&a.readU8())}return{definition:a.stream.getUint32(),transform:a.readTransform(void 0,void 0,void 0,c,d),instanceNodePath:a.readPathID()}}function qa(a,b){for(var c=[],d=[],e=[],f=[],g=0,h=a.stream;h.offset<h.byteLength-8-1;){if(a.readTransform(g,c,12*g,void 0,void 0,void 0),b<5){h.getUint8()&&h.getUint32()}var i=h.getUint8();if(b>=5){h.getUint8()}if(b>=3&&(d[g]=h.getVarints()),g)switch(i){case Yh.NT_Inner:break;case Yh.NT_Geometry:if(b<2){var j=h.getUint16();if(1===j)e[g]=h.getUint32();else if(j>0){for(var k=[],l=0;l<j;l++)k.push(h.getUint32());e[g]=k}}else{var j=h.getVarints();if(1===j)e[g]=h.getVarints();else if(j>0){for(var k=[],l=0;l<j;l++)k.push(h.getVarints());e[g]=k}}break;case Yh.NT_Camera:case Yh.NT_Light:h.getUint8()&&h.getUint32();break;default:debug("Unrecognized instance tree node type.")}var m=0;i===Yh.NT_Inner&&(m=b<2?h.getUint16():h.getVarints()),f[g]=m,g++}var n=new Uint32Array(d.length);n.set(d);var o=new Float32Array(c.length);o.set(c);var p=new Uint32Array(f.length);return p.set(f),{dbIds:n,fragIds:e,transforms:o,childCounts:p}}function ra(a,b){var c=a.seekToEntry(b);if(!c)return null;if(c.version>1)return null;var d=a.stream;return{position:a.readVector3f(),dir:a.readVector3f(),r:d.getFloat32(),g:d.getFloat32(),b:d.getFloat32(),intensity:d.getFloat32(),spotAngle:d.getFloat32(),size:d.getFloat32(),type:d.getUint8()}}function sa(a,b,c){for(var d=new Float32Array(3*a.vertexCount),e=new Float32Array(3),f=new Float32Array(3),g=new Float32Array(9),h=function(b,c){for(var d=new Float32Array(3),e=new Float32Array(3),f=new Float32Array(3),g=new Uint32Array(3),h=new Float32Array(3*a.vertexCount),i=0,j=a.triangleCount;i<j;++i){var k;for(k=0;k<3;++k)g[k]=c[3*i+k];for(k=0;k<3;++k)d[k]=b[3*g[1]+k]-b[3*g[0]+k],e[k]=b[3*g[2]+k]-b[3*g[0]+k];f[0]=d[1]*e[2]-d[2]*e[1],f[1]=d[2]*e[0]-d[0]*e[2],f[2]=d[0]*e[1]-d[1]*e[0];var l=Math.sqrt(f[0]*f[0]+f[1]*f[1]+f[2]*f[2]);for(l=l>1e-10?1/l:1,k=0;k<3;++k)f[k]*=l;for(var m=0;m<3;++m)for(k=0;k<3;++k)h[3*g[m]+k]+=f[k]}return h}(a.vertices,a.indices),i=.5*Math.PI,j=0;j<a.vertexCount;++j){var k,l=b[3*j]*c,m=b[3*j+1],n=m*i*c;k=0==m?0:m<=4?i:2*Math.PI/m;var o=b[3*j+2]*k-Math.PI,p=Math.sin(n);for(f[0]=p*Math.cos(o),f[1]=p*Math.sin(o),f[2]=Math.cos(n),function(a,b,c){c[6]=a[b],c[7]=a[b+1],c[8]=a[b+2],c[0]=-a[b+1],c[1]=a[b]-a[b+2],c[2]=a[b+1];var d=Math.sqrt(2*c[0]*c[0]+c[1]*c[1]);d>1e-20&&(d=1/d,c[0]*=d,c[1]*=d,c[2]*=d),c[3]=c[7]*c[2]-c[8]*c[1],c[4]=c[8]*c[0]-c[6]*c[2],c[5]=c[6]*c[1]-c[7]*c[0]}(h,3*j,g),q=0;q<3;++q)e[q]=g[q]*f[0]+g[3+q]*f[1]+g[6+q]*f[2];for(var q=0;q<3;++q)d[3*j+q]=e[q]*l}return d}function ta(a){a[1]+=a[0],a[2]+=a[0];for(var b=3,c=a.length;b<c;b+=3)a[b]+=a[b-3],a[b+2]+=a[b],a[b]==a[b-3]?a[b+1]+=a[b-2]:a[b+1]+=a[b];var d=new Uint16Array(a.length);for(b=0,c=a.length;b<c;b++)d[b]=a[b];return d}function ua(a,b,c,d){var e=a.getUint32(),f=a.getBytes(e),g=new wh.Inflate(f).decompress(),h=b*c,i=2*h,j=3*h,k=d?new Int32Array(h):new Uint32Array(h);if(d)for(var l=0;l<b;++l)for(var m=l,n=0;n<c;++n){var o=g[m+j]|g[m+i]<<8|g[m+h]<<16|g[m]<<24,p=o;o=1&p?-(p+1>>1):p>>1,m+=b,k[l*c+n]=o}else for(var l=0;l<b;++l)for(var m=l,n=0;n<c;++n){var o=g[m+j]|g[m+i]<<8|g[m+h]<<16|g[m]<<24;m+=b,k[l*c+n]=o}return k}function va(a,b){for(var c=new Float32Array(a.length),d=0,e=0,f=0,g=a.length;f<g;f+=2){var h=a[f]+d,i=a[f+1]+e;c[f]=h*b,c[f+1]=i*b,d=h,e=i}return c}function wa(a,b){for(var c=new Float32Array(a.length),d=new Int32Array(4),e=new Int32Array(4),f=0,g=a.length/4;f<g;++f)for(var h=0;h<4;++h)d[h]=a[4*f+h]+e[h],c[4*f+h]=d[h]*b,e[h]=d[h];return c}function xa(a,b){var c,d,e={min:new Float32Array(3),max:new Float32Array(3),division:new Int32Array(3),size:new Float32Array(3)},f=b.vertexCount,g=function(){return a.getString(a.getInt32())},h=a.getString(4);if("MG2H"!=h)return null
;c=a.getFloat32(),d=a.getFloat32(),e.min[0]=a.getFloat32(),e.min[1]=a.getFloat32(),e.min[2]=a.getFloat32(),e.max[0]=a.getFloat32(),e.max[1]=a.getFloat32(),e.max[2]=a.getFloat32(),e.division[0]=a.getUint32(),e.division[1]=a.getUint32(),e.division[2]=a.getUint32();for(var i=0;i<3;++i)e.size[i]=(e.max[i]-e.min[i])/e.division[i];if("VERT"!=(h=a.getString(4)))return null;var j=ua(a,f,3,!1);if("GIDX"!=(h=a.getString(4)))return null;for(var k=ua(a,f,1,!1),i=1;i<f;++i)k[i]+=k[i-1];if(b.vertices=function(a,b){for(var d=e.division[0],f=d*e.division[1],g=new Float32Array(a.length),h=c,i=new Float32Array(3),j=2147483647,k=0,l=0,m=g.length/3;l<m;++l){var n=b[l];!function(a,b){var c=0|a/f;a-=c*f;var g=0|a/d;a-=g*d;var h=a;b[0]=h*e.size[0]+e.min[0],b[1]=g*e.size[1]+e.min[1],b[2]=c*e.size[2]+e.min[2]}(n,i);var o=a[3*l];n==j&&(o+=k),g[3*l]=h*o+i[0],g[3*l+1]=h*a[3*l+1]+i[1],g[3*l+2]=h*a[3*l+2]+i[2],j=n,k=o}return g}(j,k),"INDX"!=(h=a.getString(4)))return null;var l=ua(a,b.triangleCount,3,!1);if(b.indices=ta(l),1&b.flags){if("NORM"!=(h=a.getString(4)))return null;var l=ua(a,f,3,!1);b.normals=sa(b,l,d)}for(var m=0;m<b.uvs.length;m++){var n=a.getString(4);if("TEXC"!=n)return null;var o=b.uvs[m];o.name=g(),o.file=g();var p=a.getFloat32(),l=ua(a,f,2,!0);o.data=va(l,p)}for(var m=0;m<b.attrs.length;m++){if("ATTR"!=(n=a.getString(4)))return null;var q=b.attrs[m];q.name=g();var p=a.getFloat32(),l=ua(a,f,4,!0);q.data=wa(l,p)}}function ya(a){var b=this.stream=new V(a),c=b.getInt32();this.type=b.getString(c),this.version=b.getInt32(),this.types=null,this.entryOffsets=[];var d=b.offset;b.seek(b.byteLength-8);var e=b.getUint32();this.typesOffset=b.getUint32(),b.seek(this.typesOffset);var f=this.readU32V();this.types=[];for(var g=0;g<f;++g)this.types.push({entryClass:this.readString(),entryType:this.readString(),version:this.readU32V()});b.seek(e);for(var h=this.readU32V(),i=this.entryOffsets,g=0;g<h;++g)i.push(b.getUint32());b.seek(d)}function za(a,b){var c,d=!1;if(31==a[0]&&139==a[1])if(b){d=!0,c=new aa(a,b);var e=c.getInt32();this.type=c.getString(e),this.version=c.getInt32();var f=Math.floor(.9*c.byteLength);c.seek(f,c.byteLength-f)}else{var g=new fg.Gunzip(a);a=g.decompress(),c=new V(a);var e=c.getInt32();this.type=c.getString(e),this.version=c.getInt32()}else c=new V(a);this.stream=c,this.types=null,this.entryOffsets=[],c.seek(c.byteLength-8,8,d);var h=c.getUint32();this.typesOffset=c.getUint32(),c.seek(this.typesOffset,1,d);var i=this.readU32V();this.types=[];for(var j=0;j<i;++j)this.types.push({entryClass:this.readString(),entryType:this.readString(),version:this.readU32V()});c.seek(h,1,d);for(var k=this.readU32V(),l=this.entryOffsets,j=0;j<k;++j)l.push(c.getUint32());c.seek(0)}function Aa(a,b){this.unzip=new uh.Unzip(a),this.max_pf_files=b?b.max_pf_files||0:0,this.manifest=null,this.materials=null,this.metadata=null,this.fragments=null,this.geompacks=[],this.instances=[],this.cameras=[],this.lights=[],this.propertydb={attrs:[],avs:[],ids:[],values:[],offsets:[]},this.bbox=null,this.animations=null,this.pendingRequests=0,this.globalOffset={x:0,y:0,z:0},this.topologyPath=null}function Ba(a){Aa.call(this,a),this.memoryOptimizedMode=!1,this.pendingGeometryMetadataLoad={}}function Ca(b,c){try{c()}catch(c){b.worker.raiseError(a.ErrorCodes.BAD_DATA,"Unhandled exception while loading SVF",{url:b.url,exception:c.toString(),stack:c.stack}),b.worker.postMessage(null)}}function Da(b){var c=b.worker;Ca(b,function(){function d(d,f){if("svf"==d){var g,h,i=e.fragments,j=[i.transforms.buffer,i.packIds.buffer,i.entityIndexes.buffer,i.fragId2dbId.buffer];e.bvh?(h={nodes:e.bvh.nodes.getRawData(),primitives:e.bvh.primitives,useLeanNodes:32==e.bvh.nodes.bytes_per_node},j.push(h.nodes),j.push(h.primitives.buffer),j.push(i.boxes.buffer),j.push(i.polygonCounts.buffer),j.push(i.materials.buffer),g={svf:e,bvh:h,progress:1}):g={svf:e,progress:.8},c.postMessage(g,j)}else if("bvh"==d)h={nodes:e.bvh.nodes.getRawData(),primitives:e.bvh.primitives,useLeanNodes:32==e.bvh.nodes.bytes_per_node},c.postMessage({bvh:h,basePath:e.basePath,progress:1},[h.nodes,h.primitives.buffer]);else if("mesh"==d){var k=[];f.mesh&&k.push(f.mesh.vb.buffer),c.postMessage(f,k)}else"done"==d?c.postMessage({progress:1}):(c.raiseError(a.ErrorCodes.BAD_DATA,"Failure while loading SVF",{url:b.url}),c.postMessage(null))}var e=b.svf;b.loadDoneCB=d,e.loadRemainingSvf(b)})}function Ea(a){function b(b){c.postMessage({progress:.5}),Ca(a,function(){var e,f={max_pf_files:a.max_pf_files};e="gltf"===d||"glb"===d?new da(b):a.perfOpt&&a.perfOpt.memoryOptimizedSvfLoading?new Ba(new Uint8Array(b)):new Aa(new Uint8Array(b),f),a.svf=e,e.loadManifest(a),a.interceptManifest?c.postMessage({manifest:e.manifest}):(a.manifest=e.manifest,Da(a))})}var c=a.worker;c.postMessage({progress:.01});var d="svf",e=a.url.toLocaleLowerCase();e.lastIndexOf(".gltf")===e.length-5&&(d="gltf"),e.lastIndexOf(".glb")===e.length-4&&(d="glb");var f={responseType:"gltf"===d?"json":"arraybuffer"};hg.getItem(a,a.url,b,a.onFailureCallback,f),"svf"===d&&hg.getItem(a,a.basePath+"0.pf",function(){},function(){},f)}function Fa(a){function b(a){d.postMessage({"status-topology":{}});var b=null;try{var e=new V(a),f=a.byteLength;0<f&&(b=JSON.parse(e.getString(f))),b?d.postMessage({"fetch-topology":{error:null,topology:b}}):c("topology-no-content")}catch(a){c(a)}}function c(a){d.postMessage({"fetch-topology":{error:a,topology:null}})}var d=a.worker;hg.getItem(a,a.path,b,c,{asynchronous:!0})}function Ga(b,c){try{c()}catch(c){b.raiseError(a.ErrorCodes.BAD_DATA,"Unhandled exception while reading pack file",{url:b.url,exception:c.toString(),stack:c.stack})}}function Ha(b){function c(c){d.postMessage({url:b.url,workerId:b.workerId,progress:.5}),Ga(b,function(){var e,f,g=new ya(c),h=!1,i={estimateSizeOnly:!0,packNormals:void 0===b.packNormals||b.packNormals},j=g.getEntryCounts(),k=b.inMemory||[],l=0,m=function(a){var b=k[a>>5];return!(b&&b&1<<(31&a))};for(e=0;e<j;e++)m(e)&&(f=oa(g,e,i),l+=f&&f.sharedBufferBytes||0);var n=l?new ArrayBuffer(l):null,o=0,p={packId:b.packId,workerId:b.workerId,progress:1,meshes:[],sharedBuffer:n},q=n?[n]:[];for(i={dstBuffer:n,startOffset:0,estimateSizeOnly:!1,packNormals:void 0===b.packNormals||b.packNormals},e=0;e<j;e++)i.startOffset=o,m(e)&&(f=oa(g,e,i),f?(o+=f.sharedBufferBytes||0,p.meshes[e]=f,b.createWireframe&&(sh.createWireframe(f),f.iblines&&q.push(f.iblines.buffer))):(h||(d.raiseError(a.ErrorCodes.BAD_DATA,"Unable to load geometry",{url:b.url}),h=!0),d.postMessage(p)));d.postMessage(p,q)})}var d=b.worker,e={skipAssetCallback:b.skipAssetCallback};hg.getItem(b,b.url,c,b.onFailureCallback,e)}function Ia(){function a(a,b){var c=a*$h,d=e.boxes;b.min.x=d[c],b.min.y=d[c+1],b.min.z=d[c+2],b.max.x=d[c+3],b.max.y=d[c+4],b.max.z=d[c+5]}function b(){var b,c;s=g;var d=new Int32Array(g),h=new Int32Array(f);for(b=0;b<g;b++)d[b]=b;m=0;var i=o/p.areaConv;for(b=0;b<g;b++)j[b]=0;var q;for(b=0;b<f;b++){l[b]=0,a(b,n);var r=p.intersectsBox(n);r!==Ig.OUTSIDE&&(q=p.projectedBoxArea(n,r===Ig.CONTAINS))>i&&(j[e.packIds[b]]+=q,h[m++]=b)}for(Array.prototype.sort.call(d,function(a,b){return j[b]-j[a]}),b=0;b<g&&j[d[b]]>0;b++)k[d[b]]=b;for(s=b,c=h.subarray(0,m),b=0;b<m;b++)l[c[b]]=k[e.packIds[c[b]]];return Array.prototype.sort.call(c,function(a,b){return l[a]-l[b]}),{fragOrder:h,packOrder:d,pfVisible:s}}function c(){return b()}function d(a,b){var c;for(c=0;c<6;c++){var d=a.planes[c],e=b.planes[c];if(d.constant!==e.constant)return!1;if(!d.normal.equals(e.normal))return!1}return!0}var e,f,g,h,i,j,k,l,m,n=new zg,o=1,p=new Ig,q=new Dg,r=!0,s=0;this.setFragments=function(a){e=a,f=a.packIds.length,h=1/0,i=-1/0;for(var b=0;b<f;b++){var c=e.packIds[b];h=Math.min(h,c),i=Math.max(i,c)}if((g=i+1)<0)return{error:"Empty fragment list"};j=new Float32Array(g),k=new Int32Array(g),l=new Float32Array(f),m=f,r=!0},this.calculateStep=function(){return r?(r=!1,c()):{}},this.setFrustum=function(a,b){return p.reset(a),r=r||!d(q,p.frustum),q.copy(p.frustum),"number"==typeof b&&o!=b&&(o=b,r=!0),!0}}function Ja(a,b){a.lmv_timer=0;var c=a.lmv_calculator.calculateStep();if(c){var d=c.fragOrder?c.packOrder?[c.fragOrder.buffer,c.packOrder.buffer]:[c.fragOrder.buffer]:c.packOrder?[c.packOrder.buffer]:void 0;c.id=b,a.postMessage(c,d)}else a.lmv_timer=setTimeout(Ja,1,a,b)}function Ka(a,b){b&&a.postMessage(b)}function La(a){a.lmv_timer&&(clearTimeout(a.lmv_timer),a.lmv_timer=0)}function Ma(a){var b=a.worker,c=b.lmv_calculator;c||(b.lmv_calculator=c=new Ia),La(b),a.fragments&&Ka(b,c.setFragments(a.fragments)),a.camera&&(c.setFrustum(a.camera,a.pixelCullingThreshold),b.lmv_timer=setTimeout(Ja,1,b,a.id))}function Na(a,b){this.pdb=null,this.waitingCallbacks=[],this.error=!1,this.dbPath=a,this.dbFiles=null,this.isShared=b}function Oa(a){this.data=a,this.refCount=1}function Pa(a,b,c){function d(){var a=[];return a.push({filename:"objects_attrs.json",storage:i.attrs}),a.push({filename:"objects_vals.json",storage:i.values}),a.push({filename:"objects_avs.json",storage:i.avs}),a.push({filename:"objects_offs.json",storage:i.offsets}),a.push({filename:"objects_ids.json",storage:i.ids}),a}function e(b){if(l--,b||m++,!l)if(m){if(k){for(f.error=!0,c(null);f.waitingCallbacks.length;)f.waitingCallbacks.shift()(null);return}k=!0,j=d(),l=j.length,m=0,j.forEach(function(b){Qa(b.filename,a,e,b.storage)})}else try{for(f.pdb=new ba(i),f.pdb.refCount=0,f.loaded=!0,f.dbFiles=j,c(f.pdb);f.waitingCallbacks.length;)f.waitingCallbacks.shift()(f.pdb)}catch(a){c(null)}}a.worker.pdbCache||(a.worker.pdbCache={},a.worker.fileCache={});var f=a.worker.pdbCache[a.dbPath],g=!1;if(f?g=!0:a.worker.pdbCache[a.dbPath]=f=new Na(a.dbPath,a.sharedDbPath),f.pdb)return void c(f.pdb);if(f.error)return void c(null);if(g)return void f.waitingCallbacks.push(c);var h=a.propertydb;if(!h)return a.worker.propdbFailed=!0,void c(null);var i={ids:{},attrs:{},offsets:{},values:{},avs:{}},j=[];j.push({filename:h.attrs.length?h.attrs[0]:"objects_attrs.json.gz",storage:i.attrs}),j.push({filename:h.values.length?h.values[0]:"objects_vals.json.gz",storage:i.values}),j.push({filename:h.avs.length?h.avs[0]:"objects_avs.json.gz",storage:i.avs}),j.push({filename:h.offsets.length?h.offsets[0]:"objects_offs.json.gz",storage:i.offsets}),j.push({filename:h.ids.length?h.ids[0]:"objects_ids.json.gz",storage:i.ids});var k=!1,l=j.length,m=0;j.forEach(function(b){Qa(b.filename,a,e,b.storage)})}function Qa(a,b,c,d){function e(a,d,e){404!==a&&b.onFailureCallback(a,d,e),c(null)}var f;f=-1!==a.indexOf("://")?a:(b.dbPath||"")+a;var g=hg.generateUrl(b.endpoint,"items",f),h=function(a){b.worker.fileCache[g]=new Oa(a),d[g]=a,c(a)},i=b.worker.fileCache[g];i?(i.refCount++,h(i.data)):hg.getItem(b,f,h,e)}function Ra(a){function b(b){if(!b)return void c.postMessage({cbId:a.cbId,error:{instanceTree:null,maxTreeDepth:0}});b.refCount++,b.rootsDone||(b.idroots=b.findRootNodes(),b.objCount=b.getObjectCount(),b.rootsDone=!0);var d,e,f=[0],g=[],h=b.idroots;if(h&&h.length){if(e=new u(b.getObjectCount(),a.fragToDbId?a.fragToDbId.length:0),1==h.length)d=h[0],b.buildObjectTree(d,a.fragToDbId,f,e);else{d=-1e10;for(var i=[],j=0;j<h.length;j++)b.buildObjectTree(h[j],a.fragToDbId,f,e),i.push(h[j]);e.setNode(d,0,"",0,i,!1)}if(e.flatten(),g.push(e.nodes.buffer),g.push(e.children.buffer),a.fragBoxes){var k=new w(e,d);k.computeBoxes(a.fragBoxes),g.push(k.nodeBoxes.buffer)}}c.postMessage({cbId:a.cbId,result:{rootId:d,instanceTreeStorage:e,instanceBoxes:k?k.nodeBoxes:void 0,maxTreeDepth:f[0],objectCount:b.objCount}},g)}var c=a.worker;Pa(a,null,b)}function Sa(a){var b=a.worker,c=b.pdbCache&&b.pdbCache[a.dbPath];if(c&&c.pdb){var d=c.pdb.bruteForceSearch(a.searchText,a.attributeNames,a.completeInfo);b.postMessage({cbId:a.cbId,result:d})}}function Ta(a){var b=a.worker,c=b.pdbCache&&b.pdbCache[a.dbPath];if(c&&c.pdb){var d=c.pdb.bruteForceFind(a.propertyName);b.postMessage({cbId:a.cbId,result:d})}}function Ua(a){var b=a.worker,c=b.pdbCache&&b.pdbCache[a.dbPath];if(c&&c.pdb){var d=c.pdb.findLayers();b.postMessage({cbId:a.cbId,result:d})}}function Va(a){var b=a.worker,c=b.pdbCache&&b.pdbCache[a.dbPath];if(!c||!c.pdb)return void a.worker.postMessage({cbId:a.cbId,error:{msg:"Properties are not available."}});var d=a.dbId,e=a.dbIds,f=a.propFilter,g=a.ignoreHidden;if(void 0!==e){var h=[];if(e&&e.length)for(var i=0;i<e.length;i++){var j=c.pdb.getObjectProperties(e[i],f,g);j&&h.push(j)}else for(var i=1,k=c.pdb.getObjectCount();i<=k;i++){var j=c.pdb.getObjectProperties(i,f,g);j&&h.push(j)}a.worker.postMessage({cbId:a.cbId,result:h})}else{var j=c.pdb.getObjectProperties(d,f);a.worker.postMessage({cbId:a.cbId,result:j})}}function Wa(a){var b=a.worker,c=b.pdbCache&&b.pdbCache[a.dbPath];if(c&&c.pdb){var d=c.pdb.getExternalIdMapping();b.postMessage({cbId:a.cbId,result:d})}}function Xa(a){var b=a.worker;if(a.clearCaches)return b.pdbCache={},void(b.fileCache={});var c=b.pdbCache&&b.pdbCache[a.dbPath];if(c&&c.pdb&&0===--c.pdb.refCount&&(c.isShared||delete b.pdbCache[a.dbPath],!c.isShared))for(var d in c.dbFiles){var e=c.dbFiles[d];for(var f in e.storage){var g=b.fileCache[f];g&&0===--g.refCount&&delete b.fileCache[f]}}}function Ya(a){Tg(a.map,a.exposure,a.useHalfFloat),self.postMessage({map:a.map,id:a.id},t(a.map))}function Za(a){Object.keys(a).forEach(function(b){_h[b]=a[b]})}var $a=d(function(a){var b=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)}),_a={}.hasOwnProperty,ab=function(a,b){return _a.call(a,b)},bb=function(a){try{return!!a()}catch(a){return!0}},cb=!bb(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),db=d(function(a){var b=a.exports={version:"2.5.0"};"number"==typeof __e&&(__e=b)}),eb=function(a){return"object"===(void 0===a?"undefined":g(a))?null!==a:"function"==typeof a},fb=function(a){if(!eb(a))throw TypeError(a+" is not an object!");return a},gb=$a.document,hb=eb(gb)&&eb(gb.createElement),ib=function(a){return hb?gb.createElement(a):{}},jb=!cb&&!bb(function(){return 7!=Object.defineProperty(ib("div"),"a",{get:function(){return 7}}).a}),kb=function(a,b){if(!eb(a))return a;var c,d;if(b&&"function"==typeof(c=a.toString)&&!eb(d=c.call(a)))return d;if("function"==typeof(c=a.valueOf)&&!eb(d=c.call(a)))return d;if(!b&&"function"==typeof(c=a.toString)&&!eb(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value")},lb=Object.defineProperty,mb=cb?Object.defineProperty:function(a,b,c){if(fb(a),b=kb(b,!0),fb(c),jb)try{return lb(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a},nb={f:mb},ob=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},pb=cb?function(a,b,c){return nb.f(a,b,ob(1,c))}:function(a,b,c){return a[b]=c,a},qb=0,rb=Math.random(),sb=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++qb+rb).toString(36))},tb=d(function(a){var b=sb("src"),c=Function.toString,d=(""+c).split("toString");db.inspectSource=function(a){return c.call(a)},(a.exports=function(a,c,e,f){var g="function"==typeof e;g&&(ab(e,"name")||pb(e,"name",c)),a[c]!==e&&(g&&(ab(e,b)||pb(e,b,a[c]?""+a[c]:d.join(String(c)))),a===$a?a[c]=e:f?a[c]?a[c]=e:pb(a,c,e):(delete a[c],pb(a,c,e)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[b]||c.call(this)})}),ub=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a},vb=function(a,b,c){if(ub(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},wb=function a(b,c,d){var e,f,g,h,i=b&a.F,j=b&a.G,k=b&a.S,l=b&a.P,m=b&a.B,n=j?$a:k?$a[c]||($a[c]={}):($a[c]||{}).prototype,o=j?db:db[c]||(db[c]={}),p=o.prototype||(o.prototype={});j&&(d=c);for(e in d)f=!i&&n&&void 0!==n[e],g=(f?n:d)[e],h=m&&f?vb(g,$a):l&&"function"==typeof g?vb(Function.call,g):g,n&&tb(n,e,g,b&a.U),o[e]!=g&&pb(o,e,h),l&&p[e]!=g&&(p[e]=g)};$a.core=db,wb.F=1,wb.G=2,wb.S=4,wb.P=8,wb.B=16,wb.W=32,wb.U=64,wb.R=128;var xb=wb,yb=d(function(a){var b=sb("meta"),c=nb.f,d=0,e=Object.isExtensible||function(){return!0},f=!bb(function(){return e(Object.preventExtensions({}))}),h=function(a){c(a,b,{value:{i:"O"+ ++d,w:{}}})},i=function(a,c){if(!eb(a))return"symbol"==(void 0===a?"undefined":g(a))?a:("string"==typeof a?"S":"P")+a;if(!ab(a,b)){if(!e(a))return"F";if(!c)return"E";h(a)}return a[b].i},j=function(a,c){if(!ab(a,b)){if(!e(a))return!0;if(!c)return!1;h(a)}return a[b].w},k=function(a){return f&&l.NEED&&e(a)&&!ab(a,b)&&h(a),a},l=a.exports={KEY:b,NEED:!1,fastKey:i,getWeak:j,onFreeze:k}}),zb=$a["__core-js_shared__"]||($a["__core-js_shared__"]={}),Ab=function(a){return zb[a]||(zb[a]={})},Bb=d(function(a){var b=Ab("wks"),c=$a.Symbol,d="function"==typeof c;(a.exports=function(a){return b[a]||(b[a]=d&&c[a]||(d?c:sb)("Symbol."+a))}).store=b}),Cb=nb.f,Db=Bb("toStringTag"),Eb=function(a,b,c){a&&!ab(a=c?a:a.prototype,Db)&&Cb(a,Db,{configurable:!0,value:b})},Fb=Bb,Gb={f:Fb},Hb=nb.f,Ib={}.toString,Jb=function(a){return Ib.call(a).slice(8,-1)},Kb=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==Jb(a)?a.split(""):Object(a)},Lb=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a},Mb=function(a){return Kb(Lb(a))},Nb=Math.ceil,Ob=Math.floor,Pb=function(a){return isNaN(a=+a)?0:(a>0?Ob:Nb)(a)},Qb=Math.min,Rb=function(a){return a>0?Qb(Pb(a),9007199254740991):0},Sb=Math.max,Tb=Math.min,Ub=function(a,b){return a=Pb(a),a<0?Sb(a+b,0):Tb(a,b)},Vb=function(a){return function(b,c,d){var e,f=Mb(b),g=Rb(f.length),h=Ub(d,g);if(a&&c!=c){for(;g>h;)if((e=f[h++])!=e)return!0}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}},Wb=Ab("keys"),Xb=function(a){return Wb[a]||(Wb[a]=sb(a))},Yb=Vb(!1),Zb=Xb("IE_PROTO"),$b=function(a,b){var c,d=Mb(a),e=0,f=[];for(c in d)c!=Zb&&ab(d,c)&&f.push(c);for(;b.length>e;)ab(d,c=b[e++])&&(~Yb(f,c)||f.push(c));return f},_b="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ac=Object.keys||function(a){return $b(a,_b)},bc=function(a,b){for(var c,d=Mb(a),e=ac(d),f=e.length,g=0;f>g;)if(d[c=e[g++]]===b)return c},cc=Object.getOwnPropertySymbols,dc={f:cc},ec={}.propertyIsEnumerable,fc={f:ec},gc=function(a){var b=ac(a),c=dc.f;if(c)for(var d,e=c(a),f=fc.f,g=0;e.length>g;)f.call(a,d=e[g++])&&b.push(d);return b},hc=Array.isArray||function(a){return"Array"==Jb(a)},ic=cb?Object.defineProperties:function(a,b){fb(a);for(var c,d=ac(b),e=d.length,f=0;e>f;)nb.f(a,c=d[f++],b[c]);return a},jc=$a.document,kc=jc&&jc.documentElement,lc=Xb("IE_PROTO"),mc=function(){},nc=function(){var a,b=ib("iframe"),c=_b.length;for(b.style.display="none",kc.appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write("<script>document.F=Object<\/script>"),a.close(),nc=a.F;c--;)delete nc.prototype[_b[c]];return nc()},oc=Object.create||function(a,b){var c;return null!==a?(mc.prototype=fb(a),c=new mc,mc.prototype=null,c[lc]=a):c=nc(),void 0===b?c:ic(c,b)},pc=_b.concat("length","prototype"),qc=Object.getOwnPropertyNames||function(a){return $b(a,pc)},rc={f:qc},sc=rc.f,tc={}.toString,uc="object"==("undefined"==typeof window?"undefined":g(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vc=function(a){try{return sc(a)}catch(a){return uc.slice()}},wc=function(a){return uc&&"[object Window]"==tc.call(a)?vc(a):sc(Mb(a))},xc={f:wc},yc=Object.getOwnPropertyDescriptor,zc=cb?yc:function(a,b){if(a=Mb(a),b=kb(b,!0),jb)try{return yc(a,b)}catch(a){}if(ab(a,b))return ob(!fc.f.call(a,b),a[b])},Ac={f:zc},Bc=yb.KEY,Cc=Ac.f,Dc=nb.f,Ec=xc.f,Fc=$a.Symbol,Gc=$a.JSON,Hc=Gc&&Gc.stringify,Ic=Bb("_hidden"),Jc=Bb("toPrimitive"),Kc={}.propertyIsEnumerable,Lc=Ab("symbol-registry"),Mc=Ab("symbols"),Nc=Ab("op-symbols"),Oc=Object.prototype,Pc="function"==typeof Fc,Qc=$a.QObject,Rc=!Qc||!Qc.prototype||!Qc.prototype.findChild,Sc=cb&&bb(function(){return 7!=oc(Dc({},"a",{get:function(){return Dc(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=Cc(Oc,b);d&&delete Oc[b],Dc(a,b,c),d&&a!==Oc&&Dc(Oc,b,d)}:Dc,Tc=function(a){var b=Mc[a]=oc(Fc.prototype);return b._k=a,b},Uc=Pc&&"symbol"==g(Fc.iterator)?function(a){return"symbol"==(void 0===a?"undefined":g(a))}:function(a){return a instanceof Fc},Vc=function(a,b,c){return a===Oc&&Vc(Nc,b,c),fb(a),b=kb(b,!0),fb(c),ab(Mc,b)?(c.enumerable?(ab(a,Ic)&&a[Ic][b]&&(a[Ic][b]=!1),c=oc(c,{enumerable:ob(0,!1)})):(ab(a,Ic)||Dc(a,Ic,ob(1,{})),a[Ic][b]=!0),Sc(a,b,c)):Dc(a,b,c)},Wc=function(a,b){fb(a);for(var c,d=gc(b=Mb(b)),e=0,f=d.length;f>e;)Vc(a,c=d[e++],b[c]);return a},Xc=function(a,b){return void 0===b?oc(a):Wc(oc(a),b)},Yc=function(a){var b=Kc.call(this,a=kb(a,!0));return!(this===Oc&&ab(Mc,a)&&!ab(Nc,a))&&(!(b||!ab(this,a)||!ab(Mc,a)||ab(this,Ic)&&this[Ic][a])||b)},Zc=function(a,b){if(a=Mb(a),b=kb(b,!0),a!==Oc||!ab(Mc,b)||ab(Nc,b)){var c=Cc(a,b);return!c||!ab(Mc,b)||ab(a,Ic)&&a[Ic][b]||(c.enumerable=!0),c}},$c=function(a){for(var b,c=Ec(Mb(a)),d=[],e=0;c.length>e;)ab(Mc,b=c[e++])||b==Ic||b==Bc||d.push(b);return d},_c=function(a){for(var b,c=a===Oc,d=Ec(c?Nc:Mb(a)),e=[],f=0;d.length>f;)!ab(Mc,b=d[f++])||c&&!ab(Oc,b)||e.push(Mc[b]);return e};Pc||(Fc=function(){if(this instanceof Fc)throw TypeError("Symbol is not a constructor!");var a=sb(arguments.length>0?arguments[0]:void 0),b=function b(c){this===Oc&&b.call(Nc,c),ab(this,Ic)&&ab(this[Ic],a)&&(this[Ic][a]=!1),Sc(this,a,ob(1,c))};return cb&&Rc&&Sc(Oc,a,{configurable:!0,set:b}),Tc(a)},tb(Fc.prototype,"toString",function(){return this._k}),Ac.f=Zc,nb.f=Vc,rc.f=xc.f=$c,fc.f=Yc,dc.f=_c,cb&&tb(Oc,"propertyIsEnumerable",Yc,!0),Gb.f=function(a){return Tc(Bb(a))}),xb(xb.G+xb.W+xb.F*!Pc,{Symbol:Fc});for(var ad="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),bd=0;ad.length>bd;)Bb(ad[bd++]);for(var cd=ac(Bb.store),dd=0;cd.length>dd;)!function(a){var b=db.Symbol||(db.Symbol=$a.Symbol||{});"_"==a.charAt(0)||a in b||Hb(b,a,{value:Gb.f(a)})}(cd[dd++]);xb(xb.S+xb.F*!Pc,"Symbol",{for:function(a){return ab(Lc,a+="")?Lc[a]:Lc[a]=Fc(a)},keyFor:function(a){if(Uc(a))return bc(Lc,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){Rc=!0},useSimple:function(){Rc=!1}}),xb(xb.S+xb.F*!Pc,"Object",{create:Xc,defineProperty:Vc,defineProperties:Wc,getOwnPropertyDescriptor:Zc,getOwnPropertyNames:$c,getOwnPropertySymbols:_c}),Gc&&xb(xb.S+xb.F*(!Pc||bb(function(){var a=Fc();return"[null]"!=Hc([a])||"{}"!=Hc({a:a})||"{}"!=Hc(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!Uc(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&hc(b)||(b=function(a,b){if(c&&(b=c.call(this,a,b)),!Uc(b))return b}),d[1]=b,Hc.apply(Gc,d)}}}),Fc.prototype[Jc]||pb(Fc.prototype,Jc,Fc.prototype.valueOf),Eb(Fc,"Symbol"),Eb(Math,"Math",!0),Eb($a.JSON,"JSON",!0);var ed=Bb("toStringTag"),fd="Arguments"==Jb(function(){return arguments}()),gd=function(a,b){try{return a[b]}catch(a){}},hd=function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=gd(b=Object(a),ed))?c:fd?Jb(b):"Object"==(d=Jb(b))&&"function"==typeof b.callee?"Arguments":d},id={};id[Bb("toStringTag")]="z",id+""!="[object z]"&&tb(Object.prototype,"toString",function(){return"[object "+hd(this)+"]"},!0);var jd={},kd={};pb(kd,Bb("iterator"),function(){return this});var ld=function(a,b,c){a.prototype=oc(kd,{next:ob(1,c)}),Eb(a,b+" Iterator")},md=function(a){return Object(Lb(a))},nd=Xb("IE_PROTO"),od=Object.prototype,pd=Object.getPrototypeOf||function(a){return a=md(a),ab(a,nd)?a[nd]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?od:null},qd=Bb("iterator"),rd=!([].keys&&"next"in[].keys()),sd=function(){return this},td=function(a,b,c,d,e,f,g){ld(c,b,d);var h,i,j,k=function(a){if(!rd&&a in o)return o[a];switch(a){case"keys":case"values":return function(){return new c(this,a)}}return function(){return new c(this,a)}},l=b+" Iterator",m="values"==e,n=!1,o=a.prototype,p=o[qd]||o["@@iterator"]||e&&o[e],q=p||k(e),r=e?m?k("entries"):q:void 0,s="Array"==b?o.entries||p:p;if(s&&(j=pd(s.call(new a)))!==Object.prototype&&j.next&&(Eb(j,l,!0),ab(j,qd)||pb(j,qd,sd)),m&&p&&"values"!==p.name&&(n=!0,q=function(){return p.call(this)}),(rd||n||!o[qd])&&pb(o,qd,q),jd[b]=q,jd[l]=sd,e)if(h={values:m?q:k("values"),keys:f?q:k("keys"),entries:r},g)for(i in h)i in o||tb(o,i,h[i]);else xb(xb.P+xb.F*(rd||n),b,h);return h},ud=function(a){return function(b,c){var d,e,f=String(Lb(b)),g=Pb(c),h=f.length;return g<0||g>=h?a?"":void 0:(d=f.charCodeAt(g),d<55296||d>56319||g+1===h||(e=f.charCodeAt(g+1))<56320||e>57343?a?f.charAt(g):d:a?f.slice(g,g+2):e-56320+(d-55296<<10)+65536)}}(!0);td(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=ud(b,c),this._i+=a.length,{value:a,done:!1})}),xb(xb.S,"Array",{isArray:hc});var vd=function(a,b,c,d){try{return d?b(fb(c)[0],c[1]):b(c)}catch(b){var e=a.return;throw void 0!==e&&fb(e.call(a)),b}},wd=Bb("iterator"),xd=Array.prototype,yd=function(a){return void 0!==a&&(jd.Array===a||xd[wd]===a)},zd=function(a,b,c){b in a?nb.f(a,b,ob(0,c)):a[b]=c},Ad=Bb("iterator"),Bd=db.getIteratorMethod=function(a){if(void 0!=a)return a[Ad]||a["@@iterator"]||jd[hd(a)]},Cd=Bb("iterator"),Dd=!1;try{var Ed=[7][Cd]();Ed.return=function(){Dd=!0},Array.from(Ed,function(){throw 2})}catch(a){}var Fd=function(a,b){if(!b&&!Dd)return!1;var c=!1;try{var d=[7],e=d[Cd]();e.next=function(){return{done:c=!0}},d[Cd]=function(){return e},a(d)}catch(a){}return c};xb(xb.S+xb.F*!Fd(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,d,e,f=md(a),g="function"==typeof this?this:Array,h=arguments.length,i=h>1?arguments[1]:void 0,j=void 0!==i,k=0,l=Bd(f);if(j&&(i=vb(i,h>2?arguments[2]:void 0,2)),void 0==l||g==Array&&yd(l))for(b=Rb(f.length),c=new g(b);b>k;k++)zd(c,k,j?i(f[k],k):f[k]);else for(e=l.call(f),c=new g;!(d=e.next()).done;k++)zd(c,k,j?vd(e,i,[d.value,k],!0):d.value);return c.length=k,c}}),xb(xb.S+xb.F*bb(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,c=new("function"==typeof this?this:Array)(b);b>a;)zd(c,a,arguments[a++]);return c.length=b,c}});var Gd=function(a,b){return!!a&&bb(function(){b?a.call(null,function(){},1):a.call(null)})},Hd=[].join;xb(xb.P+xb.F*(Kb!=Object||!Gd(Hd)),"Array",{join:function(a){return Hd.call(Mb(this),void 0===a?",":a)}});var Id=[].slice;xb(xb.P+xb.F*bb(function(){kc&&Id.call(kc)}),"Array",{slice:function(a,b){var c=Rb(this.length),d=Jb(this);if(b=void 0===b?c:b,"Array"==d)return Id.call(this,a,b);for(var e=Ub(a,c),f=Ub(b,c),g=Rb(f-e),h=Array(g),i=0;i<g;i++)h[i]="String"==d?this.charAt(e+i):this[e+i];return h}});var Jd=[].sort,Kd=[1,2,3];xb(xb.P+xb.F*(bb(function(){Kd.sort(void 0)})||!bb(function(){Kd.sort(null)})||!Gd(Jd)),"Array",{sort:function(a){return void 0===a?Jd.call(md(this)):Jd.call(md(this),ub(a))}});var Ld=Bb("species"),Md=function(a){var b;return hc(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!hc(b.prototype)||(b=void 0),eb(b)&&null===(b=b[Ld])&&(b=void 0)),void 0===b?Array:b},Nd=function(a,b){return new(Md(a))(b)},Od=function(a,b){var c=1==a,d=2==a,e=3==a,f=4==a,g=6==a,h=5==a||g,i=b||Nd;return function(b,j,k){for(var l,m,n=md(b),o=Kb(n),p=vb(j,k,3),q=Rb(o.length),r=0,s=c?i(b,q):d?i(b,0):void 0;q>r;r++)if((h||r in o)&&(l=o[r],m=p(l,r,n),a))if(c)s[r]=m;else if(m)switch(a){case 3:return!0;case 5:return l;case 6:return r;case 2:s.push(l)}else if(f)return!1;return g?-1:e||f?f:s}},Pd=Od(0),Qd=Gd([].forEach,!0);xb(xb.P+xb.F*!Qd,"Array",{forEach:function(a){return Pd(this,a,arguments[1])}});var Rd=Od(1);xb(xb.P+xb.F*!Gd([].map,!0),"Array",{map:function(a){return Rd(this,a,arguments[1])}});var Sd=Od(2);xb(xb.P+xb.F*!Gd([].filter,!0),"Array",{filter:function(a){return Sd(this,a,arguments[1])}});var Td=Od(3);xb(xb.P+xb.F*!Gd([].some,!0),"Array",{some:function(a){return Td(this,a,arguments[1])}});var Ud=Od(4);xb(xb.P+xb.F*!Gd([].every,!0),"Array",{every:function(a){return Ud(this,a,arguments[1])}});var Vd=function(a,b,c,d,e){ub(b);var f=md(a),g=Kb(f),h=Rb(f.length),i=e?h-1:0,j=e?-1:1;if(c<2)for(;;){if(i in g){d=g[i],i+=j;break}if(i+=j,e?i<0:h<=i)throw TypeError("Reduce of empty array with no initial value")}for(;e?i>=0:h>i;i+=j)i in g&&(d=b(d,g[i],i,f));return d};xb(xb.P+xb.F*!Gd([].reduce,!0),"Array",{reduce:function(a){return Vd(this,a,arguments.length,arguments[1],!1)}}),xb(xb.P+xb.F*!Gd([].reduceRight,!0),"Array",{reduceRight:function(a){return Vd(this,a,arguments.length,arguments[1],!0)}});var Wd=Vb(!1),Xd=[].indexOf,Yd=!!Xd&&1/[1].indexOf(1,-0)<0;xb(xb.P+xb.F*(Yd||!Gd(Xd)),"Array",{indexOf:function(a){return Yd?Xd.apply(this,arguments)||0:Wd(this,a,arguments[1])}});var Zd=[].lastIndexOf,$d=!!Zd&&1/[1].lastIndexOf(1,-0)<0;xb(xb.P+xb.F*($d||!Gd(Zd)),"Array",{lastIndexOf:function(a){if($d)return Zd.apply(this,arguments)||0;var b=Mb(this),c=Rb(b.length),d=c-1;for(arguments.length>1&&(d=Math.min(d,Pb(arguments[1]))),d<0&&(d=c+d);d>=0;d--)if(d in b&&b[d]===a)return d||0;return-1}});var _d=[].copyWithin||function(a,b){var c=md(this),d=Rb(c.length),e=Ub(a,d),f=Ub(b,d),g=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===g?d:Ub(g,d))-f,d-e),i=1;for(f<e&&e<f+h&&(i=-1,f+=h-1,e+=h-1);h-- >0;)f in c?c[e]=c[f]:delete c[e],e+=i,f+=i;return c},ae=Bb("unscopables"),be=Array.prototype;void 0==be[ae]&&pb(be,ae,{});var ce=function(a){be[ae][a]=!0};xb(xb.P,"Array",{copyWithin:_d}),ce("copyWithin");var de=function(a){for(var b=md(this),c=Rb(b.length),d=arguments.length,e=Ub(d>1?arguments[1]:void 0,c),f=d>2?arguments[2]:void 0,g=void 0===f?c:Ub(f,c);g>e;)b[e++]=a;return b};xb(xb.P,"Array",{fill:de}),ce("fill");var ee=Od(5),fe=!0;"find"in[]&&Array(1).find(function(){fe=!1}),xb(xb.P+xb.F*fe,"Array",{find:function(a){return ee(this,a,arguments.length>1?arguments[1]:void 0)}}),ce("find");var ge=Od(6),he=!0;"findIndex"in[]&&Array(1).findIndex(function(){he=!1}),xb(xb.P+xb.F*he,"Array",{findIndex:function(a){return ge(this,a,arguments.length>1?arguments[1]:void 0)}}),ce("findIndex");var ie=Bb("species"),je=function(a){var b=$a[a];cb&&b&&!b[ie]&&nb.f(b,ie,{configurable:!0,get:function(){return this}})};je("Array");var ke=function(a,b){return{value:b,done:!!a}},le=td(Array,"Array",function(a,b){this._t=Mb(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,ke(1)):"keys"==b?ke(0,c):"values"==b?ke(0,a[c]):ke(0,[c,a[c]])},"values");jd.Arguments=jd.Array,ce("keys"),ce("values"),ce("entries");for(var me,ne=sb("typed_array"),oe=sb("view"),pe=!(!$a.ArrayBuffer||!$a.DataView),qe=pe,re=0,se="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");re<9;)(me=$a[se[re++]])?(pb(me.prototype,ne,!0),pb(me.prototype,oe,!0)):qe=!1;var te={ABV:pe,CONSTR:qe,TYPED:ne,VIEW:oe},ue=function(a,b,c){for(var d in b)tb(a,d,b[d],c);return a},ve=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a},we=function(a){if(void 0===a)return 0;var b=Pb(a),c=Rb(b);if(b!==c)throw RangeError("Wrong length!");return c},xe=d(function(a,b){function c(a,b,c){var d,e,f,g=Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?y(2,-24)-y(2,-77):0,l=0,m=a<0||0===a&&1/a<0?1:0;for(a=x(a),a!=a||a===v?(e=a!=a?1:0,d=i):(d=z(A(a)/B),a*(f=y(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*y(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*y(2,b),d+=j):(e=a*y(2,j-1)*y(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g}function d(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-v:v;d+=y(2,b),k-=g}
return(j?-1:1)*d*y(2,k-b)}function e(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function f(a){return[255&a]}function g(a){return[255&a,a>>8&255]}function h(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]}function i(a){return c(a,52,8)}function j(a){return c(a,23,4)}function k(a,b,c){o(a[p],b,{get:function(){return this[c]}})}function l(a,b,c,d){var e=+c,f=we(e);if(f+b>a[D])throw u(q);var g=a[C]._b,h=f+a[E],i=g.slice(h,h+b);return d?i:i.reverse()}function m(a,b,c,d,e,f){var g=+c,h=we(g);if(h+b>a[D])throw u(q);for(var i=a[C]._b,j=h+a[E],k=d(+e),l=0;l<b;l++)i[j+l]=k[f?l:b-l-1]}var n=rc.f,o=nb.f,p="prototype",q="Wrong index!",r=$a.ArrayBuffer,s=$a.DataView,t=$a.Math,u=$a.RangeError,v=$a.Infinity,w=r,x=t.abs,y=t.pow,z=t.floor,A=t.log,B=t.LN2,C=cb?"_b":"buffer",D=cb?"_l":"byteLength",E=cb?"_o":"byteOffset";if(te.ABV){if(!bb(function(){r(1)})||!bb(function(){new r(-1)})||bb(function(){return new r,new r(1.5),new r(NaN),"ArrayBuffer"!=r.name})){r=function(a){return ve(this,r),new w(we(a))};for(var F,G=r[p]=w[p],H=n(w),I=0;H.length>I;)(F=H[I++])in r||pb(r,F,w[F]);G.constructor=r}var J=new s(new r(2)),K=s[p].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||ue(s[p],{setInt8:function(a,b){K.call(this,a,b<<24>>24)},setUint8:function(a,b){K.call(this,a,b<<24>>24)}},!0)}else r=function(a){ve(this,r,"ArrayBuffer");var b=we(a);this._b=de.call(Array(b),0),this[D]=b},s=function(a,b,c){ve(this,s,"DataView"),ve(a,r,"DataView");var d=a[D],e=Pb(b);if(e<0||e>d)throw u("Wrong offset!");if(c=void 0===c?d-e:Rb(c),e+c>d)throw u("Wrong length!");this[C]=a,this[E]=e,this[D]=c},cb&&(k(r,"byteLength","_l"),k(s,"buffer","_b"),k(s,"byteLength","_l"),k(s,"byteOffset","_o")),ue(s[p],{getInt8:function(a){return l(this,1,a)[0]<<24>>24},getUint8:function(a){return l(this,1,a)[0]},getInt16:function(a){var b=l(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=l(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return e(l(this,4,a,arguments[1]))},getUint32:function(a){return e(l(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return d(l(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return d(l(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){m(this,1,a,f,b)},setUint8:function(a,b){m(this,1,a,f,b)},setInt16:function(a,b){m(this,2,a,g,b,arguments[2])},setUint16:function(a,b){m(this,2,a,g,b,arguments[2])},setInt32:function(a,b){m(this,4,a,h,b,arguments[2])},setUint32:function(a,b){m(this,4,a,h,b,arguments[2])},setFloat32:function(a,b){m(this,4,a,j,b,arguments[2])},setFloat64:function(a,b){m(this,8,a,i,b,arguments[2])}});Eb(r,"ArrayBuffer"),Eb(s,"DataView"),pb(s[p],te.VIEW,!0),b.ArrayBuffer=r,b.DataView=s}),ye=Bb("species"),ze=function(a,b){var c,d=fb(a).constructor;return void 0===d||void 0==(c=fb(d)[ye])?b:ub(c)},Ae=$a.ArrayBuffer,Be=xe.ArrayBuffer,Ce=xe.DataView,De=te.ABV&&Ae.isView,Ee=Be.prototype.slice,Fe=te.VIEW;xb(xb.G+xb.W+xb.F*(Ae!==Be),{ArrayBuffer:Be}),xb(xb.S+xb.F*!te.CONSTR,"ArrayBuffer",{isView:function(a){return De&&De(a)||eb(a)&&Fe in a}}),xb(xb.P+xb.U+xb.F*bb(function(){return!new Be(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(a,b){if(void 0!==Ee&&void 0===b)return Ee.call(fb(this),a);for(var c=fb(this).byteLength,d=Ub(a,c),e=Ub(void 0===b?c:b,c),f=new(ze(this,Be))(Rb(e-d)),g=new Ce(this),h=new Ce(f),i=0;d<e;)h.setUint8(i++,g.getUint8(d++));return f}}),je("ArrayBuffer"),xb(xb.G+xb.W+xb.F*!te.ABV,{DataView:xe.DataView});var Ge=d(function(a){if(cb){var b=$a,c=bb,d=xb,e=te,f=xe,h=vb,i=ve,j=ob,k=pb,l=ue,m=Pb,n=Rb,o=we,p=Ub,q=kb,r=ab,s=hd,t=eb,u=md,v=yd,w=oc,x=pd,y=rc.f,z=Bd,A=sb,B=Bb,C=Od,D=Vb,E=ze,F=le,G=jd,H=Fd,I=je,J=de,K=_d,L=nb,M=Ac,N=L.f,O=M.f,P=b.RangeError,Q=b.TypeError,R=b.Uint8Array,S=Array.prototype,T=f.ArrayBuffer,U=f.DataView,V=C(0),W=C(2),X=C(3),Y=C(4),Z=C(5),$=C(6),_=D(!0),aa=D(!1),ba=F.values,ca=F.keys,da=F.entries,ea=S.lastIndexOf,fa=S.reduce,ga=S.reduceRight,ha=S.join,ia=S.sort,ja=S.slice,ka=S.toString,la=S.toLocaleString,ma=B("iterator"),na=B("toStringTag"),oa=A("typed_constructor"),pa=A("def_constructor"),qa=e.CONSTR,ra=e.TYPED,sa=e.VIEW,ta=C(1,function(a,b){return ya(E(a,a[pa]),b)}),ua=c(function(){return 1===new R(new Uint16Array([1]).buffer)[0]}),va=!!R&&!!R.prototype.set&&c(function(){new R(1).set({})}),wa=function(a,b){var c=m(a);if(c<0||c%b)throw P("Wrong offset!");return c},xa=function(a){if(t(a)&&ra in a)return a;throw Q(a+" is not a typed array!")},ya=function(a,b){if(!(t(a)&&oa in a))throw Q("It is not a typed array constructor!");return new a(b)},za=function(a,b){return Aa(E(a,a[pa]),b)},Aa=function(a,b){for(var c=0,d=b.length,e=ya(a,d);d>c;)e[c]=b[c++];return e},Ba=function(a,b,c){N(a,b,{get:function(){return this._d[c]}})},Ca=function(a){var b,c,d,e,f,g,i=u(a),j=arguments.length,k=j>1?arguments[1]:void 0,l=void 0!==k,m=z(i);if(void 0!=m&&!v(m)){for(g=m.call(i),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);i=d}for(l&&j>2&&(k=h(k,arguments[2],2)),b=0,c=n(i.length),e=ya(this,c);c>b;b++)e[b]=l?k(i[b],b):i[b];return e},Da=function(){for(var a=0,b=arguments.length,c=ya(this,b);b>a;)c[a]=arguments[a++];return c},Ea=!!R&&c(function(){la.call(new R(1))}),Fa=function(){return la.apply(Ea?ja.call(xa(this)):xa(this),arguments)},Ga={copyWithin:function(a,b){return K.call(xa(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return Y(xa(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return J.apply(xa(this),arguments)},filter:function(a){return za(this,W(xa(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return Z(xa(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return $(xa(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){V(xa(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return aa(xa(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return _(xa(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return ha.apply(xa(this),arguments)},lastIndexOf:function(a){return ea.apply(xa(this),arguments)},map:function(a){return ta(xa(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return fa.apply(xa(this),arguments)},reduceRight:function(a){return ga.apply(xa(this),arguments)},reverse:function(){for(var a,b=this,c=xa(b).length,d=Math.floor(c/2),e=0;e<d;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return X(xa(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return ia.call(xa(this),a)},subarray:function(a,b){var c=xa(this),d=c.length,e=p(a,d);return new(E(c,c[pa]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,n((void 0===b?d:p(b,d))-e))}},Ha=function(a,b){return za(this,ja.call(xa(this),a,b))},Ia=function(a){xa(this);var b=wa(arguments[1],1),c=this.length,d=u(a),e=n(d.length),f=0;if(e+b>c)throw P("Wrong length!");for(;f<e;)this[b+f]=d[f++]},Ja={entries:function(){return da.call(xa(this))},keys:function(){return ca.call(xa(this))},values:function(){return ba.call(xa(this))}},Ka=function(a,b){return t(a)&&a[ra]&&"symbol"!=(void 0===b?"undefined":g(b))&&b in a&&String(+b)==String(b)},La=function(a,b){return Ka(a,b=q(b,!0))?j(2,a[b]):O(a,b)},Ma=function(a,b,c){return!(Ka(a,b=q(b,!0))&&t(c)&&r(c,"value"))||r(c,"get")||r(c,"set")||c.configurable||r(c,"writable")&&!c.writable||r(c,"enumerable")&&!c.enumerable?N(a,b,c):(a[b]=c.value,a)};qa||(M.f=La,L.f=Ma),d(d.S+d.F*!qa,"Object",{getOwnPropertyDescriptor:La,defineProperty:Ma}),c(function(){ka.call({})})&&(ka=la=function(){return ha.call(this)});var Na=l({},Ga);l(Na,Ja),k(Na,ma,Ja.values),l(Na,{slice:Ha,set:Ia,constructor:function(){},toString:ka,toLocaleString:Fa}),Ba(Na,"buffer","b"),Ba(Na,"byteOffset","o"),Ba(Na,"byteLength","l"),Ba(Na,"length","e"),N(Na,na,{get:function(){return this[ra]}}),a.exports=function(a,f,g,h){h=!!h;var j=a+(h?"Clamped":"")+"Array",l="get"+a,m="set"+a,p=b[j],q=p||{},r=p&&x(p),u=!p||!e.ABV,v={},z=p&&p.prototype,A=function(a,b){var c=a._d;return c.v[l](b*f+c.o,ua)},B=function(a,b,c){var d=a._d;h&&(c=(c=Math.round(c))<0?0:c>255?255:255&c),d.v[m](b*f+d.o,c,ua)},C=function(a,b){N(a,b,{get:function(){return A(this,b)},set:function(a){return B(this,b,a)},enumerable:!0})};u?(p=g(function(a,b,c,d){i(a,p,j,"_d");var e,g,h,l,m=0,q=0;if(t(b)){if(!(b instanceof T||"ArrayBuffer"==(l=s(b))||"SharedArrayBuffer"==l))return ra in b?Aa(p,b):Ca.call(p,b);e=b,q=wa(c,f);var r=b.byteLength;if(void 0===d){if(r%f)throw P("Wrong length!");if((g=r-q)<0)throw P("Wrong length!")}else if((g=n(d)*f)+q>r)throw P("Wrong length!");h=g/f}else h=o(b),g=h*f,e=new T(g);for(k(a,"_d",{b:e,o:q,l:g,e:h,v:new U(e)});m<h;)C(a,m++)}),z=p.prototype=w(Na),k(z,"constructor",p)):c(function(){p(1)})&&c(function(){new p(-1)})&&H(function(a){new p,new p(null),new p(1.5),new p(a)},!0)||(p=g(function(a,b,c,d){i(a,p,j);var e;return t(b)?b instanceof T||"ArrayBuffer"==(e=s(b))||"SharedArrayBuffer"==e?void 0!==d?new q(b,wa(c,f),d):void 0!==c?new q(b,wa(c,f)):new q(b):ra in b?Aa(p,b):Ca.call(p,b):new q(o(b))}),V(r!==Function.prototype?y(q).concat(y(r)):y(q),function(a){a in p||k(p,a,q[a])}),p.prototype=z,z.constructor=p);var D=z[ma],E=!!D&&("values"==D.name||void 0==D.name),F=Ja.values;k(p,oa,!0),k(z,ra,j),k(z,sa,!0),k(z,pa,p),(h?new p(1)[na]==j:na in z)||N(z,na,{get:function(){return j}}),v[j]=p,d(d.G+d.W+d.F*(p!=q),v),d(d.S,j,{BYTES_PER_ELEMENT:f}),d(d.S+d.F*c(function(){q.of.call(p,1)}),j,{from:Ca,of:Da}),"BYTES_PER_ELEMENT"in z||k(z,"BYTES_PER_ELEMENT",f),d(d.P,j,Ga),I(j),d(d.P+d.F*va,j,{set:Ia}),d(d.P+d.F*!E,j,Ja),z.toString!=ka&&(z.toString=ka),d(d.P+d.F*c(function(){new p(1).slice()}),j,{slice:Ha}),d(d.P+d.F*(c(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!c(function(){z.toLocaleString.call([1,2])})),j,{toLocaleString:Fa}),G[j]=E?D:F,E||k(z,ma,F)}}else a.exports=function(){}});Ge("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0),Ge("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}}),Ge("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}});var He=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)},Ie=Math.sqrt,Je=Math.acosh;xb(xb.S+xb.F*!(Je&&710==Math.floor(Je(Number.MAX_VALUE))&&Je(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:He(a-1+Ie(a-1)*Ie(a+1))}});var Ke=Math.asinh;xb(xb.S+xb.F*!(Ke&&1/Ke(0)>0),"Math",{asinh:e});var Le=Math.atanh;xb(xb.S+xb.F*!(Le&&1/Le(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}});var Me=Math.sign||function(a){return 0==(a=+a)||a!=a?a:a<0?-1:1};xb(xb.S,"Math",{cbrt:function(a){return Me(a=+a)*Math.pow(Math.abs(a),1/3)}}),xb(xb.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}});var Ne=Math.exp;xb(xb.S,"Math",{cosh:function(a){return(Ne(a=+a)+Ne(-a))/2}});var Oe=Math.expm1,Pe=!Oe||Oe(10)>22025.465794806718||Oe(10)<22025.465794806718||-2e-17!=Oe(-2e-17)?function(a){return 0==(a=+a)?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:Oe;xb(xb.S+xb.F*(Pe!=Math.expm1),"Math",{expm1:Pe});var Qe=Math.pow,Re=Qe(2,-52),Se=Qe(2,-23),Te=Qe(2,127)*(2-Se),Ue=Qe(2,-126),Ve=function(a){return a+1/Re-1/Re},We=Math.fround||function(a){var b,c,d=Math.abs(a),e=Me(a);return d<Ue?e*Ve(d/Ue/Se)*Ue*Se:(b=(1+Se/Re)*d,c=b-(b-d),c>Te||c!=c?e*(1/0):e*c)};xb(xb.S,"Math",{fround:We});var Xe=Math.abs;xb(xb.S,"Math",{hypot:function(a,b){for(var c,d,e=0,f=0,g=arguments.length,h=0;f<g;)c=Xe(arguments[f++]),h<c?(d=h/c,e=e*d*d+1,h=c):c>0?(d=c/h,e+=d*d):e+=c;return h===1/0?1/0:h*Math.sqrt(e)}});var Ye=Math.imul;xb(xb.S+xb.F*bb(function(){return-5!=Ye(4294967295,5)||2!=Ye.length}),"Math",{imul:function(a,b){var c=+a,d=+b,e=65535&c,f=65535&d;return 0|e*f+((65535&c>>>16)*f+e*(65535&d>>>16)<<16>>>0)}}),xb(xb.S,"Math",{log10:function(a){return Math.log(a)*Math.LOG10E}}),xb(xb.S,"Math",{log1p:He}),xb(xb.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}}),xb(xb.S,"Math",{sign:Me});var Ze=Math.exp;xb(xb.S+xb.F*bb(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(Pe(a)-Pe(-a))/2:(Ze(a-1)-Ze(-a-1))*(Math.E/2)}});var $e=Math.exp;xb(xb.S,"Math",{tanh:function(a){var b=Pe(a=+a),c=Pe(-a);return b==1/0?1:c==1/0?-1:(b-c)/($e(a)+$e(-a))}}),xb(xb.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}});var _e=function(a,b){if(fb(a),!eb(b)&&null!==b)throw TypeError(b+": can't set as prototype!")},af={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,c){try{c=vb(Function.call,Ac.f(Object.prototype,"__proto__").set,2),c(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,d){return _e(a,d),b?a.__proto__=d:c(a,d),a}}({},!1):void 0),check:_e},bf=af.set,cf=function(a,b,c){var d,e=b.constructor;return e!==c&&"function"==typeof e&&(d=e.prototype)!==c.prototype&&eb(d)&&bf&&bf(a,d),a},df="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",ef="["+df+"]",ff="​",gf=RegExp("^"+ef+ef+"*"),hf=RegExp(ef+ef+"*$"),jf=function(a,b,c){var d={},e=bb(function(){return!!df[a]()||ff[a]()!=ff}),f=d[a]=e?b(kf):df[a];c&&(d[c]=f),xb(xb.P+xb.F*e,"String",d)},kf=jf.trim=function(a,b){return a=String(Lb(a)),1&b&&(a=a.replace(gf,"")),2&b&&(a=a.replace(hf,"")),a},lf=jf,mf=rc.f,nf=Ac.f,of=nb.f,pf=lf.trim,qf=$a.Number,rf=qf,sf=qf.prototype,tf="Number"==Jb(oc(sf)),uf="trim"in String.prototype,vf=function(a){var b=kb(a,!1);if("string"==typeof b&&b.length>2){b=uf?b.trim():pf(b,3);var c,d,e,f=b.charCodeAt(0);if(43===f||45===f){if(88===(c=b.charCodeAt(2))||120===c)return NaN}else if(48===f){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var g,h=b.slice(2),i=0,j=h.length;i<j;i++)if((g=h.charCodeAt(i))<48||g>e)return NaN;return parseInt(h,d)}}return+b};if(!qf(" 0o1")||!qf("0b1")||qf("+0x1")){qf=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof qf&&(tf?bb(function(){sf.valueOf.call(c)}):"Number"!=Jb(c))?cf(new rf(vf(b)),c,qf):vf(b)};for(var wf,xf=cb?mf(rf):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),yf=0;xf.length>yf;yf++)ab(rf,wf=xf[yf])&&!ab(qf,wf)&&of(qf,wf,nf(rf,wf));qf.prototype=sf,sf.constructor=qf,tb($a,"Number",qf)}var zf=function(a,b){if("number"!=typeof a&&"Number"!=Jb(a))throw TypeError(b);return+a},Af=function(a){var b=String(Lb(this)),c="",d=Pb(a);if(d<0||d==1/0)throw RangeError("Count can't be negative");for(;d>0;(d>>>=1)&&(b+=b))1&d&&(c+=b);return c},Bf=1..toFixed,Cf=Math.floor,Df=[0,0,0,0,0,0],Ef="Number.toFixed: incorrect invocation!",Ff=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*Df[c],Df[c]=d%1e7,d=Cf(d/1e7)},Gf=function(a){for(var b=6,c=0;--b>=0;)c+=Df[b],Df[b]=Cf(c/a),c=c%a*1e7},Hf=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==Df[a]){var c=String(Df[a]);b=""===b?c:b+Af.call("0",7-c.length)+c}return b},If=function a(b,c,d){return 0===c?d:c%2==1?a(b,c-1,d*b):a(b*b,c/2,d)},Jf=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};xb(xb.P+xb.F*(!!Bf&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!bb(function(){Bf.call({})})),"Number",{toFixed:function(a){var b,c,d,e,f=zf(this,Ef),g=Pb(a),h="",i="0";if(g<0||g>20)throw RangeError(Ef);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(h="-",f=-f),f>1e-21)if(b=Jf(f*If(2,69,1))-69,c=b<0?f*If(2,-b,1):f/If(2,b,1),c*=4503599627370496,(b=52-b)>0){for(Ff(0,c),d=g;d>=7;)Ff(1e7,0),d-=7;for(Ff(If(10,d,1),0),d=b-1;d>=23;)Gf(1<<23),d-=23;Gf(1<<d),Ff(1,1),Gf(2),i=Hf()}else Ff(0,c),Ff(1<<-b,0),i=Hf()+Af.call("0",g);return g>0?(e=i.length,i=h+(e<=g?"0."+Af.call("0",g-e)+i:i.slice(0,e-g)+"."+i.slice(e-g))):i=h+i,i}});var Kf=1..toPrecision;xb(xb.P+xb.F*(bb(function(){return"1"!==Kf.call(1,void 0)})||!bb(function(){Kf.call({})})),"Number",{toPrecision:function(a){var b=zf(this,"Number#toPrecision: incorrect invocation!");return void 0===a?Kf.call(b):Kf.call(b,a)}}),xb(xb.S,"Number",{EPSILON:Math.pow(2,-52)});var Lf=$a.isFinite;xb(xb.S,"Number",{isFinite:function(a){return"number"==typeof a&&Lf(a)}});var Mf=Math.floor,Nf=function(a){return!eb(a)&&isFinite(a)&&Mf(a)===a};xb(xb.S,"Number",{isInteger:Nf}),xb(xb.S,"Number",{isNaN:function(a){return a!=a}});var Of=Math.abs;xb(xb.S,"Number",{isSafeInteger:function(a){return Nf(a)&&Of(a)<=9007199254740991}}),xb(xb.S,"Number",{MAX_SAFE_INTEGER:9007199254740991}),xb(xb.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});var Pf=$a.parseFloat,Qf=lf.trim,Rf=1/Pf(df+"-0")!=-1/0?function(a){var b=Qf(String(a),3),c=Pf(b);return 0===c&&"-"==b.charAt(0)?-0:c}:Pf;xb(xb.S+xb.F*(Number.parseFloat!=Rf),"Number",{parseFloat:Rf});var Sf=$a.parseInt,Tf=lf.trim,Uf=/^[-+]?0[xX]/,Vf=8!==Sf(df+"08")||22!==Sf(df+"0x16")?function(a,b){var c=Tf(String(a),3);return Sf(c,b>>>0||(Uf.test(c)?16:10))}:Sf;xb(xb.S+xb.F*(Number.parseInt!=Vf),"Number",{parseInt:Vf});var Wf=Object.assign,Xf=!Wf||bb(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=Wf({},a)[c]||Object.keys(Wf({},b)).join("")!=d})?function(a,b){for(var c=md(a),d=arguments.length,e=1,f=dc.f,g=fc.f;d>e;)for(var h,i=Kb(arguments[e++]),j=f?ac(i).concat(f(i)):ac(i),k=j.length,l=0;k>l;)g.call(i,h=j[l++])&&(c[h]=i[h]);return c}:Wf;xb(xb.S+xb.F,"Object",{assign:Xf}),function(a){a[a.DEBUG=5]="DEBUG",a[a.LOG=4]="LOG",a[a.INFO=3]="INFO",a[a.WARNING=2]="WARNING",a[a.ERROR=1]="ERROR",a[a.NONE=0]="NONE"}(a.LogLevels||(a.LogLevels={})),a.logger={initialize:function(a){},shutdown:function(){},track:function(a){},logToADP:function(a){return!1},updateRuntimeStats:function(a){},reportRuntimeStats:function(){},setLevel:function(a){},error:function(){},warn:function(){},info:function(){},log:function(){},debug:function(){}},function(a){a[a.UNKNOWN_FAILURE=1]="UNKNOWN_FAILURE",a[a.BAD_DATA=2]="BAD_DATA",a[a.NETWORK_FAILURE=3]="NETWORK_FAILURE",a[a.NETWORK_ACCESS_DENIED=4]="NETWORK_ACCESS_DENIED",a[a.NETWORK_FILE_NOT_FOUND=5]="NETWORK_FILE_NOT_FOUND",a[a.NETWORK_SERVER_ERROR=6]="NETWORK_SERVER_ERROR",a[a.NETWORK_UNHANDLED_RESPONSE_CODE=7]="NETWORK_UNHANDLED_RESPONSE_CODE",a[a.BROWSER_WEBGL_NOT_SUPPORTED=8]="BROWSER_WEBGL_NOT_SUPPORTED",a[a.BAD_DATA_NO_VIEWABLE_CONTENT=9]="BAD_DATA_NO_VIEWABLE_CONTENT",a[a.BROWSER_WEBGL_DISABLED=10]="BROWSER_WEBGL_DISABLED",a[a.BAD_DATA_MODEL_IS_EMPTY=11]="BAD_DATA_MODEL_IS_EMPTY",a[a.RTC_ERROR=12]="RTC_ERROR",a[a.UNSUPORTED_FILE_EXTENSION=13]="UNSUPORTED_FILE_EXTENSION",a[a.VIEWER_INTERNAL_ERROR=14]="VIEWER_INTERNAL_ERROR"}(a.ErrorCodes||(a.ErrorCodes={}));var Yf="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Zf=function(){return Yf.match(/ip(ad|hone|od)/)},$f=function(){return-1!==Yf.indexOf("android")},_f=function(){return Zf()||$f()},ag=function(){return-1!==Yf.indexOf("safari")&&-1===Yf.indexOf("chrome")},bg=function(){return"undefined"==typeof navigator},cg=(function(){ag()}(),[]),dg=(_f(),_f(),{});/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){function a(a){throw a}function b(a,b){var c=a.split("."),d=l;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||b===k?d=d[e]?d[e]:d[e]={}:d[e]=b}function c(a,b,c){var d,e="number"==typeof b?b:b=0,f="number"==typeof c?c:a.length;for(d=-1,e=7&f;e--;++b)d=d>>>8^r[255&(d^a[b])];for(e=f>>3;e--;b+=8)d=d>>>8^r[255&(d^a[b])],d=d>>>8^r[255&(d^a[b+1])],d=d>>>8^r[255&(d^a[b+2])],d=d>>>8^r[255&(d^a[b+3])],d=d>>>8^r[255&(d^a[b+4])],d=d>>>8^r[255&(d^a[b+5])],d=d>>>8^r[255&(d^a[b+6])],d=d>>>8^r[255&(d^a[b+7])];return(4294967295^d)>>>0}function d(){}function e(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=0,n=Number.POSITIVE_INFINITY;for(i=0;i<k;++i)a[i]>l&&(l=a[i]),a[i]<n&&(n=a[i]);for(b=1<<l,c=new(m?Uint32Array:Array)(b),d=1,e=0,f=2;d<=l;){for(i=0;i<k;++i)if(a[i]===d){for(g=0,h=e,j=0;j<d;++j)g=g<<1|1&h,h>>=1;for(j=g;j<b;j+=f)c[j]=d<<16|i;++e}++d,e<<=1,f<<=1}return[c,l,n]}function f(b,c){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=m?new Uint8Array(b):b,this.o=!1,this.k=w,this.w=!1,!c&&(c={})||(c.index&&(this.c=c.index),c.bufferSize&&(this.j=c.bufferSize),c.bufferType&&(this.k=c.bufferType),c.resize&&(this.w=c.resize)),this.k){case v:this.a=32768,this.b=new(m?Uint8Array:Array)(32768+this.j+258);break;case w:this.a=0,this.b=new(m?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:a(Error("invalid inflate mode"))}}function g(b,c){for(var d,e=b.f,f=b.d,g=b.input,h=b.c;f<c;)d=g[h++],d===k&&a(Error("input buffer is broken")),e|=d<<f,f+=8;return d=e&(1<<c)-1,b.f=e>>>c,b.d=f-c,b.c=h,d}function h(a,b){for(var c,d,e,f=a.f,g=a.d,h=a.input,i=a.c,j=b[0],l=b[1];g<l&&(c=h[i++])!==k;)f|=c<<g,g+=8;return d=j[f&(1<<l)-1],e=d>>>16,a.f=f>>e,a.d=g-e,a.c=i,65535&d}function i(a){function b(a,b,c){var d,e,f,i;for(i=0;i<a;)switch(d=h(this,b)){case 16:for(f=3+g(this,2);f--;)c[i++]=e;break;case 17:for(f=3+g(this,3);f--;)c[i++]=0;e=0;break;case 18:for(f=11+g(this,7);f--;)c[i++]=0;e=0;break;default:e=c[i++]=d}return c}var c,d,f,i,j=g(a,5)+257,k=g(a,5)+1,l=g(a,4)+4,n=new(m?Uint8Array:Array)(A.length);for(i=0;i<l;++i)n[A[i]]=g(a,3);c=e(n),d=new(m?Uint8Array:Array)(j),f=new(m?Uint8Array:Array)(k),a.l(e(b.call(a,j,c,d)),e(b.call(a,k,c,f)))}function j(a){this.input=a,this.c=0,this.m=[],this.s=!1}var k=void 0,l=this,m="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;new(m?Uint8Array:Array)(256);var n;for(n=0;256>n;++n)for(var o=n,p=7,o=o>>>1;o;o>>>=1)--p;var q=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],r=m?new Uint32Array(q):q;d.prototype.getName=function(){return this.name},d.prototype.getData=function(){return this.data},d.prototype.G=function(){return this.H},b("Zlib.GunzipMember",d),b("Zlib.GunzipMember.prototype.getName",d.prototype.getName),b("Zlib.GunzipMember.prototype.getData",d.prototype.getData),b("Zlib.GunzipMember.prototype.getMtime",d.prototype.G);var s,t=[];for(s=0;288>s;s++)switch(!0){case 143>=s:t.push([s+48,8]);break;case 255>=s:t.push([s-144+400,9]);break;case 279>=s:t.push([s-256+0,7]);break;case 287>=s:t.push([s-280+192,8]);break;default:a("invalid literal: "+s)}var u=function(){var b,c,d=[];for(b=3;258>=b;b++)c=function(b){switch(!0){case 3===b:return[257,b-3,0];case 4===b:return[258,b-4,0];case 5===b:return[259,b-5,0];case 6===b:return[260,b-6,0];case 7===b:return[261,b-7,0];case 8===b:return[262,b-8,0];case 9===b:return[263,b-9,0];case 10===b:return[264,b-10,0];case 12>=b:return[265,b-11,1];case 14>=b:return[266,b-13,1];case 16>=b:return[267,b-15,1];case 18>=b:return[268,b-17,1];case 22>=b:return[269,b-19,2];case 26>=b:return[270,b-23,2];case 30>=b:return[271,b-27,2];case 34>=b:return[272,b-31,2];case 42>=b:return[273,b-35,3];case 50>=b:return[274,b-43,3];case 58>=b:return[275,b-51,3];case 66>=b:return[276,b-59,3];case 82>=b:return[277,b-67,4];case 98>=b:return[278,b-83,4];case 114>=b:return[279,b-99,4];case 130>=b:return[280,b-115,4];case 162>=b:return[281,b-131,5];case 194>=b:return[282,b-163,5];case 226>=b:return[283,b-195,5];case 257>=b:return[284,b-227,5];case 258===b:return[285,b-258,0];default:a("invalid length: "+b)}}(b),d[b]=c[2]<<24|c[1]<<16|c[0];return d}();m&&new Uint32Array(u);var v=0,w=1;f.prototype.g=function(){for(;!this.o;){var b=g(this,3);switch(1&b&&(this.o=!0),b>>>=1){case 0:var c=this.input,d=this.c,e=this.b,f=this.a,h=k,j=k,l=k,n=e.length,o=k;switch(this.d=this.f=0,h=c[d++],h===k&&a(Error("invalid uncompressed block header: LEN (first byte)")),j=h,h=c[d++],h===k&&a(Error("invalid uncompressed block header: LEN (second byte)")),j|=h<<8,h=c[d++],h===k&&a(Error("invalid uncompressed block header: NLEN (first byte)")),l=h,h=c[d++],h===k&&a(Error("invalid uncompressed block header: NLEN (second byte)")),l|=h<<8,j===~l&&a(Error("invalid uncompressed block header: length verify")),d+j>c.length&&a(Error("input buffer is broken")),this.k){case v:for(;f+j>e.length;){if(o=n-f,j-=o,m)e.set(c.subarray(d,d+o),f),f+=o,d+=o;else for(;o--;)e[f++]=c[d++];this.a=f,e=this.e(),f=this.a}break;case w:for(;f+j>e.length;)e=this.e({t:2});break;default:a(Error("invalid inflate mode"))}if(m)e.set(c.subarray(d,d+j),f),f+=j,d+=j;else for(;j--;)e[f++]=c[d++];this.c=d,this.a=f,this.b=e;break;case 1:this.l(M,O);break;case 2:i(this);break;default:a(Error("unknown BTYPE: "+b))}}return this.q()};var x,y,z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=m?new Uint16Array(z):z,B=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],C=m?new Uint16Array(B):B,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],E=m?new Uint8Array(D):D,F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],G=m?new Uint16Array(F):F,H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=m?new Uint8Array(H):H,J=new(m?Uint8Array:Array)(288);for(x=0,y=J.length;x<y;++x)J[x]=143>=x?8:255>=x?9:279>=x?7:8;var K,L,M=e(J),N=new(m?Uint8Array:Array)(30);for(K=0,L=N.length;K<L;++K)N[K]=5;var O=e(N);f.prototype.l=function(a,b){var c=this.b,d=this.a;this.r=a;for(var e,f,i,j,k=c.length-258;256!==(e=h(this,a));)if(256>e)d>=k&&(this.a=d,c=this.e(),d=this.a),c[d++]=e;else for(f=e-257,j=C[f],0<E[f]&&(j+=g(this,E[f])),e=h(this,b),i=G[e],0<I[e]&&(i+=g(this,I[e])),d>=k&&(this.a=d,c=this.e(),d=this.a);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},f.prototype.C=function(a,b){var c=this.b,d=this.a;this.r=a;for(var e,f,i,j,k=c.length;256!==(e=h(this,a));)if(256>e)d>=k&&(c=this.e(),k=c.length),c[d++]=e;else for(f=e-257,j=C[f],0<E[f]&&(j+=g(this,E[f])),e=h(this,b),i=G[e],0<I[e]&&(i+=g(this,I[e])),d+j>k&&(c=this.e(),k=c.length);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},f.prototype.e=function(){var a,b,c=new(m?Uint8Array:Array)(this.a-32768),d=this.a-32768,e=this.b;if(m)c.set(e.subarray(32768,c.length));else for(a=0,b=c.length;a<b;++a)c[a]=e[a+32768];if(this.i.push(c),this.n+=c.length,m)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];return this.a=32768,e},f.prototype.D=function(a){var b,c,d,e,f=this.input.length/this.c+1|0,g=this.input,h=this.b;return a&&("number"==typeof a.t&&(f=a.t),"number"==typeof a.z&&(f+=a.z)),2>f?(c=(g.length-this.c)/this.r[2],e=c/2*258|0,d=e<h.length?h.length+e:h.length<<1):d=h.length*f,m?(b=new Uint8Array(d),b.set(h)):b=h,this.b=b},f.prototype.q=function(){var a,b,c,d,e,f=0,g=this.b,h=this.i,i=new(m?Uint8Array:Array)(this.n+(this.a-32768));if(0===h.length)return m?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(b=0,c=h.length;b<c;++b)for(a=h[b],d=0,e=a.length;d<e;++d)i[f++]=a[d];for(b=32768,c=this.a;b<c;++b)i[f++]=g[b];return this.i=[],this.buffer=i},f.prototype.A=function(){var a,b=this.a;return m?this.w?(a=new Uint8Array(b),a.set(this.b.subarray(0,b))):a=this.b.subarray(0,b):(this.b.length>b&&(this.b.length=b),a=this.b),this.buffer=a},j.prototype.F=function(){return this.s||this.g(),this.m.slice()},j.prototype.g=function(){for(var b=this.input.length;this.c<b;){var e=new d,g=k,h=k,i=k,j=k,l=k,n=k,o=k,p=k,q=k,r=this.input,s=this.c;switch(e.u=r[s++],e.v=r[s++],(31!==e.u||139!==e.v)&&a(Error("invalid file signature:"+e.u+","+e.v)),e.p=r[s++],e.p){case 8:break;default:a(Error("unknown compression method: "+e.p))}if(e.h=r[s++],p=r[s++]|r[s++]<<8|r[s++]<<16|r[s++]<<24,e.H=new Date(1e3*p),e.N=r[s++],e.M=r[s++],0<(4&e.h)&&(e.I=r[s++]|r[s++]<<8,s+=e.I),0<(8&e.h)){for(o=[],n=0;0<(l=r[s++]);)o[n++]=String.fromCharCode(l);e.name=o.join("")}if(0<(16&e.h)){for(o=[],n=0;0<(l=r[s++]);)o[n++]=String.fromCharCode(l);e.J=o.join("")}0<(2&e.h)&&(e.B=65535&c(r,0,s),e.B!==(r[s++]|r[s++]<<8)&&a(Error("invalid header crc16"))),g=r[r.length-4]|r[r.length-3]<<8|r[r.length-2]<<16|r[r.length-1]<<24,r.length-s-4-4<512*g&&(j=g),h=new f(r,{index:s,bufferSize:j}),e.data=i=h.g(),s=h.c,e.K=q=(r[s++]|r[s++]<<8|r[s++]<<16|r[s++]<<24)>>>0,c(i,k,k)!==q&&a(Error("invalid CRC-32 checksum: 0x"+c(i,k,k).toString(16)+" / 0x"+q.toString(16))),e.L=g=(r[s++]|r[s++]<<8|r[s++]<<16|r[s++]<<24)>>>0,(4294967295&i.length)!==g&&a(Error("invalid input size: "+(4294967295&i.length)+" / "+g)),this.m.push(e),this.c=s}this.s=!0;var t,u,v,w=this.m,x=0,y=0;for(t=0,u=w.length;t<u;++t)y+=w[t].data.length;if(m)for(v=new Uint8Array(y),t=0;t<u;++t)v.set(w[t].data,x),x+=w[t].data.length;else{for(v=[],t=0;t<u;++t)v[t]=w[t].data;v=Array.prototype.concat.apply([],v)}return v},b("Zlib.Gunzip",j),b("Zlib.Gunzip.prototype.decompress",j.prototype.g),b("Zlib.Gunzip.prototype.getMembers",j.prototype.F)}).call(dg);var eg,fg=dg.Zlib,gg="undefined"!=typeof self&&"undefined"==typeof window,hg={endpoint:{HTTP_REQUEST_HEADERS:{},getApiEndpoint:function(){return null},getManifestApi:function(a,b,c){return null},getItemApi:function(a,b,c){return null},getThumbnailApi:function(a,b,c){return null},makeOssPath:function(a,b,c){return null},getUseCredentials:function(){return!1},pathRequiresCredentials:function(a){return!1},getDomainParam:function(){return""},setUseCredentials:function(a){}}};hg.setEndpoint=function(a){this.endpoint=a};var ig=!1;hg.simplifyPath=k,hg.OSS_PREFIX="urn:adsk.objects:os.object:",hg.getDirectOSSUrl=function(a,b){var c=b.indexOf(hg.OSS_PREFIX);if(-1!==c){var d=b.substr(c+hg.OSS_PREFIX.length),e=d.substr(0,d.indexOf("/")),f=d.substr(d.indexOf("/")+1);return f=k(f),this.endpoint.makeOssPath(a,e,f)}},hg.generateUrl=function(a,b,c){if(bg()&&!m(a,c))return c;c=k(c);var d=c.indexOf("urn:"),e=c.indexOf("?");c=-1!=d?-1!==e?c.slice(0,d)+encodeURIComponent(c.slice(d,e))+c.slice(e):c.slice(0,d)+encodeURIComponent(c.slice(d)):encodeURI(c);var f=hg.getDirectOSSUrl(a,c);if(f)return f;if(0!==decodeURIComponent(c).indexOf("urn:"))return c;switch("items"!==b&&(c=c.substr(6)),b){case"items":return this.endpoint.getItemApi(a,c);case"bubbles":return this.endpoint.getManifestApi(a,c);case"thumbnails":return this.endpoint.getThumbnailApi(a,c)}},hg.rawGet=function(b,c,d,e,f,g){function h(a){f&&f(p.status,p.statusText,{url:d})}function i(b){if(200===p.status||206===p.status)if(p.response&&p.response instanceof ArrayBuffer){var c=new Uint8Array(p.response);if(!g.skipDecompress&&31==c[0]&&139==c[1]){ig||(ig=!0,a.logger.warn("An LMV resource ("+d+") was not uncompressed by the browser. This hurts performance. Check the Content-Encoding header returned by the server and check whether you're getting double-compressed streams. The warning prints only once but it's likely the problem affects multiple resources."));try{c=new fg.Gunzip(c).decompress()}catch(b){f(a.ErrorCodes.BAD_DATA,"Malformed data received when requesting file",{url:d,exception:b.toString(),stack:b.stack})}}e(c)}else e(p.response||p.responseText);else h(b)}var g=g||{};if(d=hg.generateUrl(b,c,d),bg()&&!m(b,d))return void n(d,e,f,g);if(g.queryParams){var k=-1===d.indexOf("?")?"?":"&";d=d+k+g.queryParams}var o=j(),p=new o;try{var q=!g.hasOwnProperty("asynchronous")||g.asynchronous;if(p.open(g.noBody?"HEAD":"GET",d,q),g.hasOwnProperty("responseType")&&(p.responseType=g.responseType),p.withCredentials=!0,g.hasOwnProperty("withCredentials")&&(p.withCredentials=g.withCredentials),g.headers)for(var r in g.headers)p.setRequestHeader(r,g.headers[r]),"authorization"===r.toLocaleLowerCase()&&(p.withCredentials=!1);q&&(p.onload=i,p.onerror=h,p.ontimeout=h,g.ondata&&(p.overrideMimeType("text/plain; charset=x-user-defined"),g._dlProgress={streamOffset:0,counter:0},p.onreadystatechange=function(){if(p.readyState>2){var a=p.responseText;if(g._dlProgress.streamOffset>=a.length)return;var b=l(a,g._dlProgress.streamOffset);g._dlProgress.streamOffset=a.length,g.ondata(b)}})),p.send(),g.skipAssetCallback||(gg?self.postMessage({assetRequest:[d,g.headers,null]}):cg&&cg.push([d,g.headers,null])),q||i()}catch(a){f(p.status,p.statusText,{url:d,exception:a})}},hg.defaultFailureCallback=function(b,c,d){403==b?this.raiseError(a.ErrorCodes.NETWORK_ACCESS_DENIED,"Access denied to remote resource",{url:d.url,httpStatus:b,httpStatusText:c}):404==b?this.raiseError(a.ErrorCodes.NETWORK_FILE_NOT_FOUND,"Remote resource not found",{url:d.url,httpStatus:b,httpStatusText:c}):b>=500&&b<600?this.raiseError(a.ErrorCodes.NETWORK_SERVER_ERROR,"Server error when accessing resource",{url:d.url,httpStatus:b,httpStatusText:c}):d.exception?this.raiseError(a.ErrorCodes.NETWORK_FAILURE,"Network failure",{url:d.url,exception:d.exception.toString(),stack:d.exception.stack}):this.raiseError(a.ErrorCodes.NETWORK_UNHANDLED_RESPONSE_CODE,"Unhandled response code from server",{url:d.url,httpStatus:b,httpStatusText:c,data:d})},hg.getItem=function(a,b,c,d,e){e=e||{},o(a,e),hg.rawGet(a.endpoint,"items",b,c,d,e)},hg.getManifest=function(a,b,c,d,e){e=e||{},e.hasOwnProperty("responseType")||(e.responseType="json"),o(a,e),hg.rawGet(a.endpoint,"bubbles",b,c,d,e)},hg.getThumbnail=function(a,b,c,d,e){e=e||{},o(a,e);var f=e.queryParams||"",g=[];if(-1===f.indexOf("guid=")&&g.push("guid="+encodeURIComponent(e.guid)),-1===f.indexOf("role=")){var h=e.role||"rendered";g.push("role="+h)}if(-1===f.indexOf("width=")){var i=e.size||400;g.push("width="+i)}if(-1===f.indexOf("height=")){var i=e.size||400;g.push("height="+i)}-1===f.indexOf("acmsession=")&&e.acmsession&&g.push("acmsession="+e.acmsession);var j=g.join("&");e.queryParams?e.queryParams=e.queryParams+"&"+j:e.queryParams=j,hg.rawGet(a.endpoint,"thumbnails",b,c,d,e)},hg.getACMSession=function(a,b,c,d){var e,f={};for(var g in b)"oauth2AccessToken"===g?e=b[g]:-1!==g.indexOf("x-ads-acm")&&(f[g]=b[g]);f.application="autodesk";var h=new XMLHttpRequest;h.open("POST",a+"/oss-ext/v2/acmsessions",!0),h.setRequestHeader("Content-Type","application/json"),h.setRequestHeader("Authorization","Bearer "+e),h.responseType="json",h.onload=function(){if(200===h.status&&h.response){var a="string"==typeof h.response?JSON.parse(h.response):h.response;a&&a.acmsession?c(a.acmsession):d(h.status,"Can't get acm session from response.")}else d(h.status)},h.onerror=d,h.ontimeout=d,h.send(JSON.stringify(f)),delete f.application};var jg="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},kg=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},lg=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),mg=function(){function a(){kg(this,a),this._workers=new Map}return lg(a,[{key:"dispatch",value:function(a){if(a.hasOwnProperty("operation")){var b=this._workers.get(a.operation);if(b){if(a.basePath="",a.url){var c=a.url.lastIndexOf("/");-1!=c&&(a.basePath=a.url.substr(0,c+1))}a.raiseError=function(){a.worker.raiseError.apply(a.worker,arguments)},a.onFailureCallback=hg.defaultFailureCallback.bind(a),b.doOperation(a)}}}},{key:"register",value:function(a,b){this._workers.set(a,b)}},{key:"unregister",value:function(a){this._workers.delete(a)}}]),a}(),ng=new mg,og=function(a,b,c){this.x=a||0,this.y=b||0,this.z=c||0};og.prototype={constructor:og,set:function(a,b,c){return this.x=a,this.y=b,this.z=c,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setZ:function(a){return this.z=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw new Error("index is out of range: "+a)}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b)):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this)},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},addScaledVector:function(a,b){return this.x+=a.x*b,this.y+=a.y*b,this.z+=a.z*b,this},sub:function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b)):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this)},subScalar:function(a){return this.x-=a,this.y-=a,this.z-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b)):(this.x*=a.x,this.y*=a.y,this.z*=a.z,this)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},multiplyVectors:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this},applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[3]*c+e[6]*d,this.y=e[1]*b+e[4]*c+e[7]*d,this.z=e[2]*b+e[5]*c+e[8]*d,this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[4]*c+e[8]*d+e[12],this.y=e[1]*b+e[5]*c+e[9]*d+e[13],this.z=e[2]*b+e[6]*c+e[10]*d+e[14],this},applyProjection:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements,f=1/(e[3]*b+e[7]*c+e[11]*d+e[15]);return this.x=(e[0]*b+e[4]*c+e[8]*d+e[12])*f,this.y=(e[1]*b+e[5]*c+e[9]*d+e[13])*f,this.z=(e[2]*b+e[6]*c+e[10]*d+e[14])*f,this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z,h=a.w,i=h*b+f*d-g*c,j=h*c+g*b-e*d,k=h*d+e*c-f*b,l=-e*b-f*c-g*d;return this.x=i*h+l*-e+j*-g-k*-f,this.y=j*h+l*-f+k*-e-i*-g,this.z=k*h+l*-g+i*-f-j*-e,this},transformDirection:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[4]*c+e[8]*d,this.y=e[1]*b+e[5]*c+e[9]*d,this.z=e[2]*b+e[6]*c+e[10]*d,this.normalize(),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this},divideScalar:function(a){if(0!==a){var b=1/a;this.x*=b,this.y*=b,this.z*=b}else this.x=0,this.y=0,this.z=0;return this},min:function(a){return this.x>a.x&&(this.x=a.x),this.y>a.y&&(this.y=a.y),this.z>a.z&&(this.z=a.z),this},max:function(a){return this.x<a.x&&(this.x=a.x),this.y<a.y&&(this.y=a.y),this.z<a.z&&(this.z=a.z),this},clamp:function(a,b){return this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x),this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y),this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z),this},clampScalar:function(){var a,b;return function(c,d){return void 0===a&&(a=new og,b=new og),a.set(c,c,c),b.set(d,d,d),this.clamp(a,b)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){var b=this.length();return 0!==b&&a!==b&&this.multiplyScalar(a/b),this},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this.z+=(a.z-this.z)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a),this},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;return this.x=d*a.z-e*a.y,this.y=e*a.x-c*a.z,this.z=c*a.y-d*a.x,this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;return this.x=d*h-e*g,this.y=e*f-c*h,this.z=c*g-d*f,this},projectOnVector:function(){var a,b;return function(c){return void 0===a&&(a=new og),a.copy(c).normalize(),b=this.dot(a),this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){return void 0===a&&(a=new og),a.copy(this).projectOnVector(b),this.sub(a)}}(),reflect:function(){var a;return function(b){return void 0===a&&(a=new og),this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return b*b+c*c+d*d},setEulerFromRotationMatrix:function(a,b){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(a,b){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(a,b)},setFromMatrixPosition:function(a){return this.x=a.elements[12],this.y=a.elements[13],this.z=a.elements[14],this},setFromMatrixScale:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),c=this.set(a.elements[4],a.elements[5],a.elements[6]).length(),d=this.set(a.elements[8],a.elements[9],a.elements[10]).length();return this.x=b,this.y=c,this.z=d,this},setFromMatrixColumn:function(a,b){var c=4*a,d=b.elements;return this.x=d[c],this.y=d[c+1],this.z=d[c+2],this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this.z=a[b+2],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a[b+2]=this.z,a},fromAttribute:function(a,b,c){return void 0===c&&(c=0),b=b*a.itemSize+c,this.x=a.array[b],this.y=a.array[b+1],this.z=a.array[b+2],this}};void 0===Math.sign&&(Math.sign=function(a){return a<0?-1:a>0?1:+a});var pg=function(){console.log.apply(console,arguments)},qg=function(){console.warn.apply(console,arguments)},rg=function(){console.error.apply(console,arguments)},sg={LEFT:0,MIDDLE:1,RIGHT:2},tg=function(){rg("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(a,b){qg("THREE.Projector: .projectVector() is now vector.project()."),a.project(b)},this.unprojectVector=function(a,b){qg("THREE.Projector: .unprojectVector() is now vector.unproject()."),a.unproject(b)},this.pickingRay=function(a,b){rg("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},ug=function(){rg("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},vg=function(a,b,c,d){this._x=a||0,this._y=b||0,this._z=c||0,this._w=void 0!==d?d:1};vg.prototype={constructor:vg,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(a){this._x=a,this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a,this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a,this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a,this.onChangeCallback()},set:function(a,b,c,d){return this._x=a,this._y=b,this._z=c,this._w=d,this.onChangeCallback(),this},copy:function(a){return this._x=a.x,this._y=a.y,this._z=a.z,this._w=a.w,this.onChangeCallback(),this},setFromEuler:function(a,b){if(a instanceof Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c=Math.cos(a._x/2),d=Math.cos(a._y/2),e=Math.cos(a._z/2),f=Math.sin(a._x/2),g=Math.sin(a._y/2),h=Math.sin(a._z/2);return"XYZ"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"YXZ"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"ZXY"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"ZYX"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"YZX"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e-f*g*h):"XZY"===a.order&&(this._x=f*d*e-c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e+f*g*h),!1!==b&&this.onChangeCallback(),this},setFromAxisAngle:function(a,b){var c=b/2,d=Math.sin(c);return this._x=a.x*d,this._y=a.y*d,this._z=a.z*d,this._w=Math.cos(c),this.onChangeCallback(),this},setFromRotationMatrix:function(a){var b,c=a.elements,d=c[0],e=c[4],f=c[8],g=c[1],h=c[5],i=c[9],j=c[2],k=c[6],l=c[10],m=d+h+l;return m>0?(b=.5/Math.sqrt(m+1),this._w=.25/b,this._x=(k-i)*b,this._y=(f-j)*b,this._z=(g-e)*b):d>h&&d>l?(b=2*Math.sqrt(1+d-h-l),this._w=(k-i)/b,this._x=.25*b,this._y=(e+g)/b,this._z=(f+j)/b):h>l?(b=2*Math.sqrt(1+h-d-l),this._w=(f-j)/b,this._x=(e+g)/b,this._y=.25*b,this._z=(i+k)/b):(b=2*Math.sqrt(1+l-d-h),this._w=(g-e)/b,this._x=(f+j)/b,this._y=(i+k)/b,this._z=.25*b),this.onChangeCallback(),this},setFromUnitVectors:function(){var a,b;return function(c,d){return void 0===a&&(a=new xg),b=c.dot(d)+1,b<1e-6?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d),this._x=a.x,this._y=a.y,this._z=a.z,this._w=b,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();return 0===a?(this._x=0,this._y=0,this._z=0,this._w=1):(a=1/a,this._x=this._x*a,this._y=this._y*a,this._z=this._z*a,this._w=this._w*a),this.onChangeCallback(),this},multiply:function(a,b){return void 0!==b?(qg("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,i=b._z,j=b._w;return this._x=c*j+f*g+d*i-e*h,this._y=d*j+f*h+e*g-c*i,this._z=e*j+f*i+c*h-d*g,this._w=f*j-c*g-d*h-e*i,this.onChangeCallback(),this},multiplyVector3:function(a){return qg("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),a.applyQuaternion(this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;if(g<0?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a),g>=1)return this._w=f,this._x=c,this._y=d,this._z=e,this;var h=Math.acos(g),i=Math.sqrt(1-g*g);if(Math.abs(i)<.001)return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;var j=Math.sin((1-b)*h)/i,k=Math.sin(b*h)/i;return this._w=f*j+this._w*k,this._x=c*j+this._x*k,this._y=d*j+this._y*k,this._z=e*j+this._z*k,this.onChangeCallback(),this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){return void 0===b&&(b=0),this._x=a[b],this._y=a[b+1],this._z=a[b+2],this._w=a[b+3],this.onChangeCallback(),this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this._x,a[b+1]=this._y,a[b+2]=this._z,a[b+3]=this._w,a},onChange:function(a){return this.onChangeCallback=a,this},
onChangeCallback:function(){},clone:function(){return new vg(this._x,this._y,this._z,this._w)}},vg.slerp=function(a,b,c,d){return c.copy(a).slerp(b,d)};var wg=function(a,b){this.x=a||0,this.y=b||0};wg.prototype={constructor:wg,set:function(a,b){return this.x=a,this.y=b,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw new Error("index is out of range: "+a)}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+a)}},copy:function(a){return this.x=a.x,this.y=a.y,this},add:function(a,b){return void 0!==b?(qg("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b)):(this.x+=a.x,this.y+=a.y,this)},addScalar:function(a){return this.x+=a,this.y+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},sub:function(a,b){return void 0!==b?(qg("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b)):(this.x-=a.x,this.y-=a.y,this)},subScalar:function(a){return this.x-=a,this.y-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},divideScalar:function(a){if(0!==a){var b=1/a;this.x*=b,this.y*=b}else this.x=0,this.y=0;return this},min:function(a){return this.x>a.x&&(this.x=a.x),this.y>a.y&&(this.y=a.y),this},max:function(a){return this.x<a.x&&(this.x=a.x),this.y<a.y&&(this.y=a.y),this},clamp:function(a,b){return this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x),this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y),this},clampScalar:function(){var a,b;return function(c,d){return void 0===a&&(a=new wg,b=new wg),a.set(c,c),b.set(d,d),this.clamp(a,b)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},setLength:function(a){var b=this.length();return 0!==b&&a!==b&&this.multiplyScalar(a/b),this},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a),this},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a},fromAttribute:function(a,b,c){return void 0===c&&(c=0),b=b*a.itemSize+c,this.x=a.array[b],this.y=a.array[b+1],this},clone:function(){return new wg(this.x,this.y)}};var xg=function(a,b,c){this.x=a||0,this.y=b||0,this.z=c||0};xg.prototype={constructor:xg,set:function(a,b,c){return this.x=a,this.y=b,this.z=c,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setZ:function(a){return this.z=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw new Error("index is out of range: "+a)}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a,b){return void 0!==b?(qg("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b)):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this)},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},sub:function(a,b){return void 0!==b?(qg("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b)):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this)},subScalar:function(a){return this.x-=a,this.y-=a,this.z-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(a,b){return void 0!==b?(qg("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b)):(this.x*=a.x,this.y*=a.y,this.z*=a.z,this)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},multiplyVectors:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this},applyEuler:function(){var a;return function(b){return b instanceof Euler==!1&&rg("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===a&&(a=new vg),this.applyQuaternion(a.setFromEuler(b)),this}}(),applyAxisAngle:function(){var a;return function(b,c){return void 0===a&&(a=new vg),this.applyQuaternion(a.setFromAxisAngle(b,c)),this}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[3]*c+e[6]*d,this.y=e[1]*b+e[4]*c+e[7]*d,this.z=e[2]*b+e[5]*c+e[8]*d,this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[4]*c+e[8]*d+e[12],this.y=e[1]*b+e[5]*c+e[9]*d+e[13],this.z=e[2]*b+e[6]*c+e[10]*d+e[14],this},applyProjection:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements,f=1/(e[3]*b+e[7]*c+e[11]*d+e[15]);return this.x=(e[0]*b+e[4]*c+e[8]*d+e[12])*f,this.y=(e[1]*b+e[5]*c+e[9]*d+e[13])*f,this.z=(e[2]*b+e[6]*c+e[10]*d+e[14])*f,this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z,h=a.w,i=h*b+f*d-g*c,j=h*c+g*b-e*d,k=h*d+e*c-f*b,l=-e*b-f*c-g*d;return this.x=i*h+l*-e+j*-g-k*-f,this.y=j*h+l*-f+k*-e-i*-g,this.z=k*h+l*-g+i*-f-j*-e,this},project:function(){var a;return function(b){return void 0===a&&(a=new Bg),a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld)),this.applyProjection(a)}}(),unproject:function(){var a;return function(b){return void 0===a&&(a=new Bg),a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix)),this.applyProjection(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[4]*c+e[8]*d,this.y=e[1]*b+e[5]*c+e[9]*d,this.z=e[2]*b+e[6]*c+e[10]*d,this.normalize(),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this},divideScalar:function(a){if(0!==a){var b=1/a;this.x*=b,this.y*=b,this.z*=b}else this.x=0,this.y=0,this.z=0;return this},min:function(a){return this.x>a.x&&(this.x=a.x),this.y>a.y&&(this.y=a.y),this.z>a.z&&(this.z=a.z),this},max:function(a){return this.x<a.x&&(this.x=a.x),this.y<a.y&&(this.y=a.y),this.z<a.z&&(this.z=a.z),this},clamp:function(a,b){return this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x),this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y),this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z),this},clampScalar:function(){var a,b;return function(c,d){return void 0===a&&(a=new xg,b=new xg),a.set(c,c,c),b.set(d,d,d),this.clamp(a,b)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){var b=this.length();return 0!==b&&a!==b&&this.multiplyScalar(a/b),this},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this.z+=(a.z-this.z)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a),this},cross:function(a,b){if(void 0!==b)return qg("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;return this.x=d*a.z-e*a.y,this.y=e*a.x-c*a.z,this.z=c*a.y-d*a.x,this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;return this.x=d*h-e*g,this.y=e*f-c*h,this.z=c*g-d*f,this},projectOnVector:function(){var a,b;return function(c){return void 0===a&&(a=new xg),a.copy(c).normalize(),b=this.dot(a),this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){return void 0===a&&(a=new xg),a.copy(this).projectOnVector(b),this.sub(a)}}(),reflect:function(){var a;return function(b){return void 0===a&&(a=new xg),this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){var b=this.dot(a)/(this.length()*a.length());return Math.acos(Math.clamp(b,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return b*b+c*c+d*d},setEulerFromRotationMatrix:function(a,b){rg("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(a,b){rg("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){return qg("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){return qg("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){return qg("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(a,b)},setFromMatrixPosition:function(a){return this.x=a.elements[12],this.y=a.elements[13],this.z=a.elements[14],this},setFromMatrixScale:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),c=this.set(a.elements[4],a.elements[5],a.elements[6]).length(),d=this.set(a.elements[8],a.elements[9],a.elements[10]).length();return this.x=b,this.y=c,this.z=d,this},setFromMatrixColumn:function(a,b){var c=4*a,d=b.elements;return this.x=d[c],this.y=d[c+1],this.z=d[c+2],this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this.z=a[b+2],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a[b+2]=this.z,a},fromAttribute:function(a,b,c){return void 0===c&&(c=0),b=b*a.itemSize+c,this.x=a.array[b],this.y=a.array[b+1],this.z=a.array[b+2],this},clone:function(){return new xg(this.x,this.y,this.z)}};var yg=function(a,b){this.min=void 0!==a?a:new wg(1/0,1/0),this.max=void 0!==b?b:new wg(-1/0,-1/0)};yg.prototype={constructor:yg,set:function(a,b){return this.min.copy(a),this.max.copy(b),this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new wg;return function(b,c){var d=a.copy(c).multiplyScalar(.5);return this.min.copy(b).sub(d),this.max.copy(b).add(d),this}}(),copy:function(a){return this.min.copy(a.min),this.max.copy(a.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new wg).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new wg).subVectors(this.max,this.min)},expandByPoint:function(a){return this.min.min(a),this.max.max(a),this},expandByVector:function(a){return this.min.sub(a),this.max.add(a),this},expandByScalar:function(a){return this.min.addScalar(-a),this.max.addScalar(a),this},containsPoint:function(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y)},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function(a,b){return(b||new wg).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y)},clampPoint:function(a,b){return(b||new wg).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new wg;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){return this.min.max(a.min),this.max.min(a.max),this},union:function(a){return this.min.min(a.min),this.max.max(a.max),this},translate:function(a){return this.min.add(a),this.max.add(a),this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new yg).copy(this)}};var zg=function(a,b){this.min=void 0!==a?a:new xg(1/0,1/0,1/0),this.max=void 0!==b?b:new xg(-1/0,-1/0,-1/0)};zg.prototype={constructor:zg,set:function(a,b){return this.min.copy(a),this.max.copy(b),this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new xg;return function(b,c){var d=a.copy(c).multiplyScalar(.5);return this.min.copy(b).sub(d),this.max.copy(b).add(d),this}}(),setFromObject:function(){var a=new xg;return function(b){var c=this;return b.updateMatrixWorld(!0),this.makeEmpty(),b.traverse(function(b){var d=b.geometry;if(void 0!==d)if(d instanceof Geometry)for(var e=d.vertices,f=0,g=e.length;f<g;f++)a.copy(e[f]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a);else if(d instanceof BufferGeometry&&void 0!==d.attributes.position)for(var h=d.attributes.position.array,f=0,g=h.length;f<g;f+=3)a.set(h[f],h[f+1],h[f+2]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)}),this}}(),copy:function(a){return this.min.copy(a.min),this.max.copy(a.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new xg).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new xg).subVectors(this.max,this.min)},expandByPoint:function(a){return this.min.min(a),this.max.max(a),this},expandByVector:function(a){return this.min.sub(a),this.max.add(a),this},expandByScalar:function(a){return this.min.addScalar(-a),this.max.addScalar(a),this},containsPoint:function(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){return(b||new xg).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)},clampPoint:function(a,b){return(b||new xg).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new xg;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new xg;return function(b){var c=b||new Cg;return c.center=this.center(),c.radius=.5*this.size(a).length(),c}}(),intersect:function(a){return this.min.max(a.min),this.max.min(a.max),this},union:function(a){return this.min.min(a.min),this.max.max(a.max),this},applyMatrix4:function(){var a=[new xg,new xg,new xg,new xg,new xg,new xg,new xg,new xg];return function(b){return a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b),a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b),a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b),a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b),a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b),a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b),a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b),a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b),this.makeEmpty(),this.setFromPoints(a),this}}(),translate:function(a){return this.min.add(a),this.max.add(a),this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new zg).copy(this)}};var Ag=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&rg("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};Ag.prototype={constructor:Ag,set:function(a,b,c,d,e,f,g,h,i){var j=this.elements;return j[0]=a,j[3]=b,j[6]=c,j[1]=d,j[4]=e,j[7]=f,j[2]=g,j[5]=h,j[8]=i,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(a){var b=a.elements;return this.set(b[0],b[3],b[6],b[1],b[4],b[7],b[2],b[5],b[8]),this},multiplyVector3:function(a){return qg("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},multiplyVector3Array:function(a){return qg("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new xg;return function(b,c,d){void 0===c&&(c=0),void 0===d&&(d=b.length);for(var e=0,f=c;e<d;e+=3,f+=3)a.x=b[f],a.y=b[f+1],a.z=b[f+2],a.applyMatrix3(this),b[f]=a.x,b[f+1]=a.y,b[f+2]=a.z;return b}}(),multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[3]*=a,b[6]*=a,b[1]*=a,b[4]*=a,b[7]*=a,b[2]*=a,b[5]*=a,b[8]*=a,this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*f*j-b*g*i-c*e*j+c*g*h+d*e*i-d*f*h},getInverse:function(a,b){var c=a.elements,d=this.elements;d[0]=c[10]*c[5]-c[6]*c[9],d[1]=-c[10]*c[1]+c[2]*c[9],d[2]=c[6]*c[1]-c[2]*c[5],d[3]=-c[10]*c[4]+c[6]*c[8],d[4]=c[10]*c[0]-c[2]*c[8],d[5]=-c[6]*c[0]+c[2]*c[4],d[6]=c[9]*c[4]-c[5]*c[8],d[7]=-c[9]*c[0]+c[1]*c[8],d[8]=c[5]*c[0]-c[1]*c[4];var e=c[0]*d[0]+c[1]*d[3]+c[2]*d[6];if(0===e){var f="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(b)throw new Error(f);return qg(f),this.identity(),this}return this.multiplyScalar(1/e),this},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[3],b[3]=a,a=b[2],b[2]=b[6],b[6]=a,a=b[5],b[5]=b[7],b[7]=a,this},flattenToArrayOffset:function(a,b){var c=this.elements;return a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=c[3],a[b+4]=c[4],a[b+5]=c[5],a[b+6]=c[6],a[b+7]=c[7],a[b+8]=c[8],a},getNormalMatrix:function(a){return this.getInverse(a).transpose(),this},transposeIntoArray:function(a){var b=this.elements;return a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8],this},fromArray:function(a){return this.elements.set(a),this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]},clone:function(){return(new Ag).fromArray(this.elements)}};var Bg=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&rg("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};Bg.prototype={constructor:Bg,set:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.elements;return q[0]=a,q[4]=b,q[8]=c,q[12]=d,q[1]=e,q[5]=f,q[9]=g,q[13]=h,q[2]=i,q[6]=j,q[10]=k,q[14]=l,q[3]=m,q[7]=n,q[11]=o,q[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(a){return this.elements.set(a.elements),this},extractPosition:function(a){return qg("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(a)},copyPosition:function(a){var b=this.elements,c=a.elements;return b[12]=c[12],b[13]=c[13],b[14]=c[14],this},extractBasis:function(a,b,c){var d=this.elements;return a.set(d[0],d[1],d[2]),b.set(d[4],d[5],d[6]),c.set(d[8],d[9],d[10]),this},makeBasis:function(a,b,c){return this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1),this},extractRotation:function(){var a=new xg;return function(b){var c=this.elements,d=b.elements,e=1/a.set(d[0],d[1],d[2]).length(),f=1/a.set(d[4],d[5],d[6]).length(),g=1/a.set(d[8],d[9],d[10]).length();return c[0]=d[0]*e,c[1]=d[1]*e,c[2]=d[2]*e,c[4]=d[4]*f,c[5]=d[5]*f,c[6]=d[6]*f,c[8]=d[8]*g,c[9]=d[9]*g,c[10]=d[10]*g,this}}(),makeRotationFromEuler:function(a){a instanceof Euler==!1&&rg("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),g=Math.sin(c),h=Math.cos(d),i=Math.sin(d),j=Math.cos(e),k=Math.sin(e);if("XYZ"===a.order){var l=f*j,m=f*k,n=g*j,o=g*k;b[0]=h*j,b[4]=-h*k,b[8]=i,b[1]=m+n*i,b[5]=l-o*i,b[9]=-g*h,b[2]=o-l*i,b[6]=n+m*i,b[10]=f*h}else if("YXZ"===a.order){var p=h*j,q=h*k,r=i*j,s=i*k;b[0]=p+s*g,b[4]=r*g-q,b[8]=f*i,b[1]=f*k,b[5]=f*j,b[9]=-g,b[2]=q*g-r,b[6]=s+p*g,b[10]=f*h}else if("ZXY"===a.order){var p=h*j,q=h*k,r=i*j,s=i*k;b[0]=p-s*g,b[4]=-f*k,b[8]=r+q*g,b[1]=q+r*g,b[5]=f*j,b[9]=s-p*g,b[2]=-f*i,b[6]=g,b[10]=f*h}else if("ZYX"===a.order){var l=f*j,m=f*k,n=g*j,o=g*k;b[0]=h*j,b[4]=n*i-m,b[8]=l*i+o,b[1]=h*k,b[5]=o*i+l,b[9]=m*i-n,b[2]=-i,b[6]=g*h,b[10]=f*h}else if("YZX"===a.order){var t=f*h,u=f*i,v=g*h,w=g*i;b[0]=h*j,b[4]=w-t*k,b[8]=v*k+u,b[1]=k,b[5]=f*j,b[9]=-g*j,b[2]=-i*j,b[6]=u*k+v,b[10]=t-w*k}else if("XZY"===a.order){var t=f*h,u=f*i,v=g*h,w=g*i;b[0]=h*j,b[4]=-k,b[8]=i*j,b[1]=t*k+w,b[5]=f*j,b[9]=u*k-v,b[2]=v*k-u,b[6]=g*j,b[10]=w*k+t}return b[3]=0,b[7]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this},setRotationFromQuaternion:function(a){return qg("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(a)},makeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,n=d*i,o=e*i,p=f*g,q=f*h,r=f*i;return b[0]=1-(m+o),b[4]=k-r,b[8]=l+q,b[1]=k+r,b[5]=1-(j+o),b[9]=n-p,b[2]=l-q,b[6]=n+p,b[10]=1-(j+m),b[3]=0,b[7]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this},lookAt:function(){var a=new xg,b=new xg,c=new xg;return function(d,e,f){var g=this.elements;return c.subVectors(d,e).normalize(),0===c.length()&&(c.z=1),a.crossVectors(f,c).normalize(),0===a.length()&&(c.x+=1e-4,a.crossVectors(f,c).normalize()),b.crossVectors(c,a),g[0]=a.x,g[4]=b.x,g[8]=c.x,g[1]=a.y,g[5]=b.y,g[9]=c.y,g[2]=a.z,g[6]=b.z,g[10]=c.z,this}}(),multiply:function(a,b){return void 0!==b?(qg("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],i=c[12],j=c[1],k=c[5],l=c[9],m=c[13],n=c[2],o=c[6],p=c[10],q=c[14],r=c[3],s=c[7],t=c[11],u=c[15],v=d[0],w=d[4],x=d[8],y=d[12],z=d[1],A=d[5],B=d[9],C=d[13],D=d[2],E=d[6],F=d[10],G=d[14],H=d[3],I=d[7],J=d[11],K=d[15];return e[0]=f*v+g*z+h*D+i*H,e[4]=f*w+g*A+h*E+i*I,e[8]=f*x+g*B+h*F+i*J,e[12]=f*y+g*C+h*G+i*K,e[1]=j*v+k*z+l*D+m*H,e[5]=j*w+k*A+l*E+m*I,e[9]=j*x+k*B+l*F+m*J,e[13]=j*y+k*C+l*G+m*K,e[2]=n*v+o*z+p*D+q*H,e[6]=n*w+o*A+p*E+q*I,e[10]=n*x+o*B+p*F+q*J,e[14]=n*y+o*C+p*G+q*K,e[3]=r*v+s*z+t*D+u*H,e[7]=r*w+s*A+t*E+u*I,e[11]=r*x+s*B+t*F+u*J,e[15]=r*y+s*C+t*G+u*K,this},multiplyToArray:function(a,b,c){var d=this.elements;return this.multiplyMatrices(a,b),c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],c[9]=d[9],c[10]=d[10],c[11]=d[11],c[12]=d[12],c[13]=d[13],c[14]=d[14],c[15]=d[15],this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,b[7]*=a,b[11]*=a,b[15]*=a,this},multiplyVector3:function(a){return qg("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),a.applyProjection(this)},multiplyVector4:function(a){return qg("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},multiplyVector3Array:function(a){return qg("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new xg;return function(b,c,d){void 0===c&&(c=0),void 0===d&&(d=b.length);for(var e=0,f=c;e<d;e+=3,f+=3)a.x=b[f],a.y=b[f+1],a.z=b[f+2],a.applyMatrix4(this),b[f]=a.x,b[f+1]=a.y,b[f+2]=a.z;return b}}(),rotateAxis:function(a){qg("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),a.transformDirection(this)},crossVector:function(a){return qg("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],i=a[13],j=a[2],k=a[6],l=a[10],m=a[14];return a[3]*(+e*h*k-d*i*k-e*g*l+c*i*l+d*g*m-c*h*m)+a[7]*(+b*h*m-b*i*l+e*f*l-d*f*m+d*i*j-e*h*j)+a[11]*(+b*i*k-b*g*m-e*f*k+c*f*m+e*g*j-c*i*j)+a[15]*(-d*g*j-b*h*k+b*g*l+d*f*k-c*f*l+c*h*j)},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},flattenToArrayOffset:function(a,b){var c=this.elements;return a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=c[3],a[b+4]=c[4],a[b+5]=c[5],a[b+6]=c[6],a[b+7]=c[7],a[b+8]=c[8],a[b+9]=c[9],a[b+10]=c[10],a[b+11]=c[11],a[b+12]=c[12],a[b+13]=c[13],a[b+14]=c[14],a[b+15]=c[15],a},getPosition:function(){var a=new xg;return function(){qg("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[4],g=d[8],h=d[12],i=d[1],j=d[5],k=d[9],l=d[13],m=d[2],n=d[6],o=d[10],p=d[14],q=d[3],r=d[7],s=d[11],t=d[15];c[0]=k*p*r-l*o*r+l*n*s-j*p*s-k*n*t+j*o*t,c[4]=h*o*r-g*p*r-h*n*s+f*p*s+g*n*t-f*o*t,c[8]=g*l*r-h*k*r+h*j*s-f*l*s-g*j*t+f*k*t,c[12]=h*k*n-g*l*n-h*j*o+f*l*o+g*j*p-f*k*p,c[1]=l*o*q-k*p*q-l*m*s+i*p*s+k*m*t-i*o*t,c[5]=g*p*q-h*o*q+h*m*s-e*p*s-g*m*t+e*o*t,c[9]=h*k*q-g*l*q-h*i*s+e*l*s+g*i*t-e*k*t,c[13]=g*l*m-h*k*m+h*i*o-e*l*o-g*i*p+e*k*p,c[2]=j*p*q-l*n*q+l*m*r-i*p*r-j*m*t+i*n*t,c[6]=h*n*q-f*p*q-h*m*r+e*p*r+f*m*t-e*n*t,c[10]=f*l*q-h*j*q+h*i*r-e*l*r-f*i*t+e*j*t,c[14]=h*j*m-f*l*m-h*i*n+e*l*n+f*i*p-e*j*p,c[3]=k*n*q-j*o*q-k*m*r+i*o*r+j*m*s-i*n*s,c[7]=f*o*q-g*n*q+g*m*r-e*o*r-f*m*s+e*n*s,c[11]=g*j*q-f*k*q-g*i*r+e*k*r+f*i*s-e*j*s,c[15]=f*k*m-g*j*m+g*i*n-e*k*n-f*i*o+e*j*o;var u=e*c[0]+i*c[4]+m*c[8]+q*c[12];if(0==u){var v="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(b)throw new Error(v);return qg(v),this.identity(),this}return this.multiplyScalar(1/u),this},translate:function(a){rg("THREE.Matrix4: .translate() has been removed.")},rotateX:function(a){rg("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(a){rg("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(a){rg("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(a,b){rg("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z;return b[0]*=c,b[4]*=d,b[8]*=e,b[1]*=c,b[5]*=d,b[9]*=e,b[2]*=c,b[6]*=d,b[10]*=e,b[3]*=c,b[7]*=d,b[11]*=e,this},getMaxScaleOnAxis:function(){var a=this.elements,b=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],c=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],d=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(b,Math.max(c,d)))},makeTranslation:function(a,b,c){return this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1),this},makeRotationX:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1),this},makeRotationY:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1),this},makeRotationZ:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,i=e*f,j=e*g;return this.set(i*f+c,i*g-d*h,i*h+d*g,0,i*g+d*h,j*g+c,j*h-d*f,0,i*h-d*g,j*h+d*f,e*h*h+c,0,0,0,0,1),this},makeScale:function(a,b,c){return this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1),this},compose:function(a,b,c){return this.makeRotationFromQuaternion(b),this.scale(c),this.setPosition(a),this},decompose:function(){var a=new xg,b=new Bg;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),i=a.set(f[8],f[9],f[10]).length();this.determinant()<0&&(g=-g),c.x=f[12],c.y=f[13],c.z=f[14],b.elements.set(this.elements);var j=1/g,k=1/h,l=1/i;return b.elements[0]*=j,b.elements[1]*=j,b.elements[2]*=j,b.elements[4]*=k,b.elements[5]*=k,b.elements[6]*=k,b.elements[8]*=l,b.elements[9]*=l,b.elements[10]*=l,d.setFromRotationMatrix(b),e.x=g,e.y=h,e.z=i,this}}(),makeFrustum:function(a,b,c,d,e,f){var g=this.elements,h=2*e/(b-a),i=2*e/(d-c),j=(b+a)/(b-a),k=(d+c)/(d-c),l=-(f+e)/(f-e),m=-2*f*e/(f-e);return g[0]=h,g[4]=0,g[8]=j,g[12]=0,g[1]=0,g[5]=i,g[9]=k,g[13]=0,g[2]=0,g[6]=0,g[10]=l,g[14]=m,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this},makePerspective:function(a,b,c,d){var e=c*Math.tan(Math.degToRad(.5*a)),f=-e,g=f*b,h=e*b;return this.makeFrustum(g,h,f,e,c,d)},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=b-a,i=c-d,j=f-e,k=(b+a)/h,l=(c+d)/i,m=(f+e)/j;return g[0]=2/h,g[4]=0,g[8]=0,g[12]=-k,g[1]=0,g[5]=2/i,g[9]=0,g[13]=-l,g[2]=0,g[6]=0,g[10]=-2/j,g[14]=-m,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this},fromArray:function(a){return this.elements.set(a),this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]},clone:function(){return(new Bg).fromArray(this.elements)}};var Cg=function(a,b){this.center=void 0!==a?a:new xg,this.radius=void 0!==b?b:0};Cg.prototype={constructor:Cg,set:function(a,b){return this.center.copy(a),this.radius=b,this},setFromPoints:function(){var a=new zg;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=0,f=0,g=b.length;f<g;f++)e=Math.max(e,d.distanceToSquared(b[f]));return this.radius=Math.sqrt(e),this}}(),copy:function(a){return this.center.copy(a.center),this.radius=a.radius,this},empty:function(){return this.radius<=0},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},clampPoint:function(a,b){var c=this.center.distanceToSquared(a),d=b||new xg;return d.copy(a),c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center)),d},getBoundingBox:function(a){var b=a||new zg;return b.set(this.center,this.center),b.expandByScalar(this.radius),b},applyMatrix4:function(a){return this.center.applyMatrix4(a),this.radius=this.radius*a.getMaxScaleOnAxis(),this},
translate:function(a){return this.center.add(a),this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new Cg).copy(this)}};var Dg=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Eg,void 0!==b?b:new Eg,void 0!==c?c:new Eg,void 0!==d?d:new Eg,void 0!==e?e:new Eg,void 0!==f?f:new Eg]};Dg.prototype={constructor:Dg,set:function(a,b,c,d,e,f){var g=this.planes;return g[0].copy(a),g[1].copy(b),g[2].copy(c),g[3].copy(d),g[4].copy(e),g[5].copy(f),this},copy:function(a){for(var b=this.planes,c=0;c<6;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=c[9],n=c[10],o=c[11],p=c[12],q=c[13],r=c[14],s=c[15];return b[0].setComponents(g-d,k-h,o-l,s-p).normalize(),b[1].setComponents(g+d,k+h,o+l,s+p).normalize(),b[2].setComponents(g+e,k+i,o+m,s+q).normalize(),b[3].setComponents(g-e,k-i,o-m,s-q).normalize(),b[4].setComponents(g-f,k-j,o-n,s-r).normalize(),b[5].setComponents(g+f,k+j,o+n,s+r).normalize(),this},intersectsObject:function(){var a=new Cg;return function(b){var c=b.geometry;return null===c.boundingSphere&&c.computeBoundingSphere(),a.copy(c.boundingSphere),a.applyMatrix4(b.matrixWorld),this.intersectsSphere(a)}}(),intersectsSphere:function(a){for(var b=this.planes,c=a.center,d=-a.radius,e=0;e<6;e++){if(b[e].distanceToPoint(c)<d)return!1}return!0},intersectsBox:function(){var a=new xg,b=new xg;return function(c){for(var d=this.planes,e=0;e<6;e++){var f=d[e];a.x=f.normal.x>0?c.min.x:c.max.x,b.x=f.normal.x>0?c.max.x:c.min.x,a.y=f.normal.y>0?c.min.y:c.max.y,b.y=f.normal.y>0?c.max.y:c.min.y,a.z=f.normal.z>0?c.min.z:c.max.z,b.z=f.normal.z>0?c.max.z:c.min.z;var g=f.distanceToPoint(a),h=f.distanceToPoint(b);if(g<0&&h<0)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;c<6;c++)if(b[c].distanceToPoint(a)<0)return!1;return!0},clone:function(){return(new Dg).copy(this)}};var Eg=function(a,b){this.normal=void 0!==a?a:new xg(1,0,0),this.constant=void 0!==b?b:0};Eg.prototype={constructor:Eg,set:function(a,b){return this.normal.copy(a),this.constant=b,this},setComponents:function(a,b,c,d){return this.normal.set(a,b,c),this.constant=d,this},setFromNormalAndCoplanarPoint:function(a,b){return this.normal.copy(a),this.constant=-b.dot(this.normal),this},setFromCoplanarPoints:function(){var a=new xg,b=new xg;return function(c,d,e){var f=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();return this.setFromNormalAndCoplanarPoint(f,c),this}}(),copy:function(a){return this.normal.copy(a.normal),this.constant=a.constant,this},normalize:function(){var a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,b){var c=this.distanceToPoint(a);return(b||new xg).copy(this.normal).multiplyScalar(c)},isIntersectionLine:function(a){var b=this.distanceToPoint(a.start),c=this.distanceToPoint(a.end);return b<0&&c>0||c<0&&b>0},intersectLine:function(){var a=new xg;return function(b,c){var d=c||new xg,e=b.delta(a),f=this.normal.dot(e);if(0!=f){var g=-(b.start.dot(this.normal)+this.constant)/f;if(!(g<0||g>1))return d.copy(e).multiplyScalar(g).add(b.start)}else if(0==this.distanceToPoint(b.start))return d.copy(b.start)}}(),coplanarPoint:function(a){return(a||new xg).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new xg,b=new xg,c=new Ag;return function(d,e){var f=e||c.getNormalMatrix(d),g=a.copy(this.normal).applyMatrix3(f),h=this.coplanarPoint(b);return h.applyMatrix4(d),this.setFromNormalAndCoplanarPoint(g,h),this}}(),translate:function(a){return this.constant=this.constant-a.dot(this.normal),this},equals:function(a){return a.normal.equals(this.normal)&&a.constant==this.constant},clone:function(){return(new Eg).copy(this)}};var Fg={generateUUID:function(){var a,b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),c=new Array(36),d=0;return function(){for(var e=0;e<36;e++)8==e||13==e||18==e||23==e?c[e]="-":14==e?c[e]="4":(d<=2&&(d=33554432+16777216*Math.random()|0),a=15&d,d>>=4,c[e]=b[19==e?3&a|8:a]);return c.join("")}}(),clamp:function(a,b,c){return a<b?b:a>c?c:a},clampBottom:function(a,b){return a<b?b:a},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*(3-2*a)},smootherstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*a*(a*(6*a-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(a,b){return Math.floor(this.randFloat(a,b))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}(),radToDeg:function(){var a=180/Math.PI;return function(b){return b*a}}(),isPowerOfTwo:function(a){return 0==(a&a-1)&&0!==a},nextPowerOfTwo:function(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,++a}},Gg=Object.freeze({REVISION:"71",log:pg,warn:qg,error:rg,MOUSE:sg,CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,NoShading:0,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,MultiplyOperation:0,MixOperation:1,AddOperation:2,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:1021,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,Projector:tg,CanvasRenderer:ug,Quaternion:vg,Vector2:wg,Vector3:xg,Box2:yg,Box3:zg,Matrix3:Ag,Matrix4:Bg,Sphere:Cg,Frustum:Dg,Plane:Eg,Math:Fg});"undefined"!=typeof self&&"undefined"==typeof window&&(self.addEventListener("message",function(a){var b=a.data;b.worker=self,ng.dispatch(b)},!1),self.raiseError=function(a,b,c){self.postMessage({error:{code:a,msg:b,args:c}})},self.debug=p,self.LmvVector3=og,self.THREE=Gg);var Hg=[[1,5,4,7,3,2,6],[0,3,2,1,5,4,6],[0,3,2,6,5,4,6],[0,4,7,3,2,1,6],[0,3,2,1,-1,-1,4],[0,3,2,6,5,1,6],[0,4,7,6,2,1,6],[0,3,7,6,2,1,6],[0,3,7,6,5,1,6],[0,1,5,4,7,3,6],[0,1,5,4,-1,-1,4],[0,1,2,6,5,4,6],[0,4,7,3,-1,-1,4],[-1,-1,-1,-1,-1,-1,0],[1,2,6,5,-1,-1,4],[0,4,7,6,2,3,6],[2,3,7,6,-1,-1,4],[1,2,3,7,6,5,6],[0,1,5,6,7,3,6],[0,1,5,6,7,4,6],[0,1,2,6,7,4,6],[0,4,5,6,7,3,6],[4,5,6,7,-1,-1,4],[1,2,6,7,4,5,6],[0,4,5,6,2,3,6],[2,3,7,4,5,6,6],[1,2,3,7,4,5,6]],Ig=function(){this.frustum=new Dg,this.viewProj=new Bg,this.viewDir=[0,0,1],this.ar=1,this.viewport=new xg(1,1,1),this.areaConv=1,this.areaCullThreshold=1,this.eye=new xg};Object.defineProperty(Ig,"OUTSIDE",{value:0}),Object.defineProperty(Ig,"INTERSECTS",{value:1}),Object.defineProperty(Ig,"CONTAINS",{value:2}),Object.defineProperty(Ig,"CONTAINMENT_UNKNOWN",{value:-1}),Ig.prototype.reset=function(a){this.viewProj.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this.frustum.setFromMatrix(this.viewProj);var b=a.matrixWorldInverse.elements;this.ar=a.aspect,this.viewDir[0]=-b[2],this.viewDir[1]=-b[6],this.viewDir[2]=-b[10],this.eye.x=a.position.x,this.eye.y=a.position.y,this.eye.z=a.position.z,this.areaConv=a.clientWidth*a.clientHeight/4},Ig.prototype.projectedArea=function(){function a(){c||(c=[new xg,new xg,new xg,new xg,new xg,new xg,new xg,new xg],d=new yg)}function b(a,b){var c=a.x,d=a.y,e=a.z,f=b.elements,g=f[3]*c+f[7]*d+f[11]*e+f[15];g<0&&(g=-g);var h=1/g;a.x=(f[0]*c+f[4]*d+f[8]*e+f[12])*h,a.y=(f[1]*c+f[5]*d+f[9]*e+f[13])*h}var c,d;return function(e){if(e.empty())return 0;a();var f=this.viewProj;c[0].set(e.min.x,e.min.y,e.min.z),c[1].set(e.min.x,e.min.y,e.max.z),c[2].set(e.min.x,e.max.y,e.min.z),c[3].set(e.min.x,e.max.y,e.max.z),c[4].set(e.max.x,e.min.y,e.min.z),c[5].set(e.max.x,e.min.y,e.max.z),c[6].set(e.max.x,e.max.y,e.min.z),c[7].set(e.max.x,e.max.y,e.max.z);for(var g=0;g<8;g++)b(c[g],f);return d.makeEmpty(),d.setFromPoints(c),d.min.x<-1&&(d.min.x=-1),d.min.x>1&&(d.min.x=1),d.min.y<-1&&(d.min.y=-1),d.min.y>1&&(d.min.y=1),d.max.x>1&&(d.max.x=1),d.max.x<-1&&(d.max.x=-1),d.max.y>1&&(d.max.y=1),d.max.y<-1&&(d.max.y=-1),(d.max.x-d.min.x)*(d.max.y-d.min.y)}}(),Ig.prototype.projectedBoxArea=function(){function a(){if(!d){d=[],e=[];for(var a=0;a<10;a++)d.push(new xg),e.push(new xg)}}function b(a,b){var c=a.x,d=a.y,e=a.z,f=b.elements,g=f[3]*c+f[7]*d+f[11]*e+f[15];g<0&&(g=-g);var h=1/g;a.x=(f[0]*c+f[4]*d+f[8]*e+f[12])*h,a.y=(f[1]*c+f[5]*d+f[9]*e+f[13])*h}function c(a,b){var c,d,g,h,i,j,k,l,m=a,n=e,o=function(a){switch(k){case 0:return a.x>=-1;case 1:return a.x<=1;case 2:return a.y>=-1;case 3:return a.y<=1}},p=function(a){n[l].x=a.x,n[l++].y=a.y},q=function(){var a,b;switch(k){case 0:a=-1,b=d.y+(g.y-d.y)*(a-d.x)/(g.x-d.x);break;case 1:a=1,b=d.y+(g.y-d.y)*(a-d.x)/(g.x-d.x);break;case 2:b=-1,a=d.x+(g.x-d.x)*(b-d.y)/(g.y-d.y);break;case 3:b=1,a=d.x+(g.x-d.x)*(b-d.y)/(g.y-d.y)}n[l].x=a,n[l++].y=b};for(k=0;k<4&&b>2;k++){for(l=0,d=m[b-1],h=o(d),j=0;j<b;j++)g=m[j],i=o(g),h?i?p(g):q():i&&(q(),p(g)),d=g,h=i;b=l,c=m,m=n,n=c}return f=b,m}var d,e,f;return function(e,g){if(e.empty())return 0;a();var h,i=this.viewProj;if(h=this.eye.x>=e.min.x?this.eye.x>e.max.x?2:1:0,this.eye.y>=e.min.y&&(h+=this.eye.y>e.max.y?6:3),this.eye.z>=e.min.z&&(h+=this.eye.z>e.max.z?18:9),13===h)return 4;var j,k=Hg[h][6];for(j=0;j<k;j++){var l=Hg[h][j];d[j].set((l+1)%4<2?e.min.x:e.max.x,l%4<2?e.min.y:e.max.y,l<4?e.min.z:e.max.z),b(d[j],i)}var m=0;if(g)for(m=(d[k-1].x-d[0].x)*(d[k-1].y+d[0].y),j=0;j<k-1;j++)m+=(d[j].x-d[j+1].x)*(d[j].y+d[j+1].y);else{var n=c(d,k);if(f>=3)for(m=(n[f-1].x-n[0].x)*(n[f-1].y+n[0].y),j=0;j<f-1;j++)m+=(n[j].x-n[j+1].x)*(n[j].y+n[j+1].y)}return Math.abs(.5*m)}}(),Ig.prototype.estimateDepth=function(a){var b=this.viewProj.elements,c=(a.min.x+a.max.x)/2,d=(a.min.y+a.max.y)/2,e=(a.min.z+a.max.z)/2,f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);return(b[2]*c+b[6]*d+b[10]*e+b[14])*f},Ig.prototype.intersectsBox=function(){function a(){b||(b=new xg,c=new xg)}var b,c;return function(d){a();for(var e=this.frustum.planes,f=0,g=0;g<6;g++){var h=e[g];b.x=h.normal.x>0?d.min.x:d.max.x,c.x=h.normal.x>0?d.max.x:d.min.x,b.y=h.normal.y>0?d.min.y:d.max.y,c.y=h.normal.y>0?d.max.y:d.min.y,b.z=h.normal.z>0?d.min.z:d.max.z,c.z=h.normal.z>0?d.max.z:d.min.z;var i=h.distanceToPoint(b),j=h.distanceToPoint(c);if(i<0&&j<0)return Ig.OUTSIDE;i>0&&j>0&&f++}return 6==f?Ig.CONTAINS:Ig.INTERSECTS}}(),Object.defineProperty(Ig,"OUTSIDE",{value:0}),Object.defineProperty(Ig,"INTERSECTS",{value:1}),Object.defineProperty(Ig,"CONTAINS",{value:2}),Object.defineProperty(Ig,"CONTAINMENT_UNKNOWN",{value:-1});var Jg=function(a){this.elements=a?new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};Jg.prototype={constructor:Jg,set:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.elements;return q[0]=a,q[4]=b,q[8]=c,q[12]=d,q[1]=e,q[5]=f,q[9]=g,q[13]=h,q[2]=i,q[6]=j,q[10]=k,q[14]=l,q[3]=m,q[7]=n,q[11]=o,q[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(a){return this.elements.set(a.elements),this},makeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,i=e+e,j=c*g,k=c*h,l=c*i,m=d*h,n=d*i,o=e*i,p=f*g,q=f*h,r=f*i;return b[0]=1-(m+o),b[4]=k-r,b[8]=l+q,b[1]=k+r,b[5]=1-(j+o),b[9]=n-p,b[2]=l-q,b[6]=n+p,b[10]=1-(j+m),b[3]=0,b[7]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this},multiply:function(a){return this.multiplyMatrices(this,a)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],i=c[12],j=c[1],k=c[5],l=c[9],m=c[13],n=c[2],o=c[6],p=c[10],q=c[14],r=c[3],s=c[7],t=c[11],u=c[15],v=d[0],w=d[4],x=d[8],y=d[12],z=d[1],A=d[5],B=d[9],C=d[13],D=d[2],E=d[6],F=d[10],G=d[14],H=d[3],I=d[7],J=d[11],K=d[15];return e[0]=f*v+g*z+h*D+i*H,e[4]=f*w+g*A+h*E+i*I,e[8]=f*x+g*B+h*F+i*J,e[12]=f*y+g*C+h*G+i*K,e[1]=j*v+k*z+l*D+m*H,e[5]=j*w+k*A+l*E+m*I,e[9]=j*x+k*B+l*F+m*J,e[13]=j*y+k*C+l*G+m*K,e[2]=n*v+o*z+p*D+q*H,e[6]=n*w+o*A+p*E+q*I,e[10]=n*x+o*B+p*F+q*J,e[14]=n*y+o*C+p*G+q*K,e[3]=r*v+s*z+t*D+u*H,e[7]=r*w+s*A+t*E+u*I,e[11]=r*x+s*B+t*F+u*J,e[15]=r*y+s*C+t*G+u*K,this},multiplyToArray:function(a,b,c){var d=this.elements;return this.multiplyMatrices(a,b),c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],c[9]=d[9],c[10]=d[10],c[11]=d[11],c[12]=d[12],c[13]=d[13],c[14]=d[14],c[15]=d[15],this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,b[7]*=a,b[11]*=a,b[15]*=a,this},determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],i=a[13],j=a[2],k=a[6],l=a[10],m=a[14];return a[3]*(+e*h*k-d*i*k-e*g*l+c*i*l+d*g*m-c*h*m)+a[7]*(+b*h*m-b*i*l+e*f*l-d*f*m+d*i*j-e*h*j)+a[11]*(+b*i*k-b*g*m-e*f*k+c*f*m+e*g*j-c*i*j)+a[15]*(-d*g*j-b*h*k+b*g*l+d*f*k-c*f*l+c*h*j)},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},flattenToArrayOffset:function(a,b){var c=this.elements;return a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=c[3],a[b+4]=c[4],a[b+5]=c[5],a[b+6]=c[6],a[b+7]=c[7],a[b+8]=c[8],a[b+9]=c[9],a[b+10]=c[10],a[b+11]=c[11],a[b+12]=c[12],a[b+13]=c[13],a[b+14]=c[14],a[b+15]=c[15],a},setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[4],g=d[8],h=d[12],i=d[1],j=d[5],k=d[9],l=d[13],m=d[2],n=d[6],o=d[10],p=d[14],q=d[3],r=d[7],s=d[11],t=d[15];c[0]=k*p*r-l*o*r+l*n*s-j*p*s-k*n*t+j*o*t,c[4]=h*o*r-g*p*r-h*n*s+f*p*s+g*n*t-f*o*t,c[8]=g*l*r-h*k*r+h*j*s-f*l*s-g*j*t+f*k*t,c[12]=h*k*n-g*l*n-h*j*o+f*l*o+g*j*p-f*k*p,c[1]=l*o*q-k*p*q-l*m*s+i*p*s+k*m*t-i*o*t,c[5]=g*p*q-h*o*q+h*m*s-e*p*s-g*m*t+e*o*t,c[9]=h*k*q-g*l*q-h*i*s+e*l*s+g*i*t-e*k*t,c[13]=g*l*m-h*k*m+h*i*o-e*l*o-g*i*p+e*k*p,c[2]=j*p*q-l*n*q+l*m*r-i*p*r-j*m*t+i*n*t,c[6]=h*n*q-f*p*q-h*m*r+e*p*r+f*m*t-e*n*t,c[10]=f*l*q-h*j*q+h*i*r-e*l*r-f*i*t+e*j*t,c[14]=h*j*m-f*l*m-h*i*n+e*l*n+f*i*p-e*j*p,c[3]=k*n*q-j*o*q-k*m*r+i*o*r+j*m*s-i*n*s,c[7]=f*o*q-g*n*q+g*m*r-e*o*r-f*m*s+e*n*s,c[11]=g*j*q-f*k*q-g*i*r+e*k*r+f*i*s-e*j*s,c[15]=f*k*m-g*j*m+g*i*n-e*k*n-f*i*o+e*j*o;var u=e*c[0]+i*c[4]+m*c[8]+q*c[12];if(0==u){var v="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(b)throw new Error(v);return console.warn(v),this.identity(),this}return this.multiplyScalar(1/u),this},scale:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z;return b[0]*=c,b[4]*=d,b[8]*=e,b[1]*=c,b[5]*=d,b[9]*=e,b[2]*=c,b[6]*=d,b[10]*=e,b[3]*=c,b[7]*=d,b[11]*=e,this},makeTranslation:function(a,b,c){return this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1),this},makeRotationX:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1),this},makeRotationY:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1),this},makeRotationZ:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,i=e*f,j=e*g;return this.set(i*f+c,i*g-d*h,i*h+d*g,0,i*g+d*h,j*g+c,j*h-d*f,0,i*h-d*g,j*h+d*f,e*h*h+c,0,0,0,0,1),this},makeScale:function(a,b,c){return this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1),this},compose:function(a,b,c){return this.makeRotationFromQuaternion(b),this.scale(c),this.setPosition(a),this},transformPoint:function(a){var b=a.x,c=a.y,d=a.z,e=this.elements;return a.x=e[0]*b+e[4]*c+e[8]*d+e[12],a.y=e[1]*b+e[5]*c+e[9]*d+e[13],a.z=e[2]*b+e[6]*c+e[10]*d+e[14],a},transformDirection:function(a){var b=a.x,c=a.y,d=a.z,e=this.elements;a.x=e[0]*b+e[4]*c+e[8]*d,a.y=e[1]*b+e[5]*c+e[9]*d,a.z=e[2]*b+e[6]*c+e[10]*d;var f=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);if(f>0){var g=1/f;a.x*=g,a.y*=g,a.z*=g}return a},fromArray:function(a){return this.elements.set(a),this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]},clone:function(){return new Jg(this.elements instanceof Float64Array).fromArray(this.elements)}};var Kg=function(a,b){this.min=void 0!==a?a:new og(1/0,1/0,1/0),this.max=void 0!==b?b:new og(-1/0,-1/0,-1/0)};Kg.prototype={constructor:Kg,set:function(a,b){return this.min.copy(a),this.max.copy(b),this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromArray:function(a,b){return this.min.x=a[b],this.min.y=a[b+1],this.min.z=a[b+2],this.max.x=a[b+3],this.max.y=a[b+4],this.max.z=a[b+5],this},copyToArray:function(a,b){a[b]=this.min.x,a[b+1]=this.min.y,a[b+2]=this.min.z,a[b+3]=this.max.x,a[b+4]=this.max.y,a[b+5]=this.max.z},setFromCenterAndSize:function(){var a=new og;return function(b,c){var d=a.copy(c).multiplyScalar(.5);return this.min.copy(b).sub(d),this.max.copy(b).add(d),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.min.copy(a.min),this.max.copy(a.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new og).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new og).subVectors(this.max,this.min)},expandByPoint:function(a){return this.min.min(a),this.max.max(a),this},expandByVector:function(a){return this.min.sub(a),this.max.add(a),this},expandByScalar:function(a){return this.min.addScalar(-a),this.max.addScalar(a),this},containsPoint:function(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){return(b||new og).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)},clampPoint:function(a,b){return(b||new og).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new og;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){return this.min.max(a.min),this.max.min(a.max),this},union:function(a){return this.min.min(a.min),this.max.max(a.max),this},applyMatrix4:function(){var a=[new og,new og,new og,new og,new og,new og,new og,new og];return function(b){return a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b),a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b),a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b),a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b),a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b),a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b),a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b),a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b),this.makeEmpty(),this.setFromPoints(a),this}}(),translate:function(a){return this.min.add(a),this.max.add(a),this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};var Lg=new Float32Array(1),Mg=new Uint32Array(Lg.buffer),Ng=new Uint16Array(1),Og=new Uint16Array(1),Pg=function(a){Lg[0]=a;var b=Mg[0],c=0;if(0==(2147483647&b))Og[c++]=b>>16;else{var d=2147483648&b,e=2139095040&b,f=8388607&b;if(0===e)Og[c++]=d>>16;else if(2139095040==e)Og[c++]=0===f?d>>16|31744:65024;else{var g,h,i=d>>16,j=(0|e>>23)-127+15;j>=31?Og[c++]=d>>16|31744:j<=0?(14-j>24?g=0:(f|=8388608,g=f>>14-j,Ng[0]=g,g=Ng[0],f>>13-j&1&&(g+=1)),Og[c++]=i|g):(h=j<<10,Ng[0]=h,h=Ng[0],g=f>>13,Ng[0]=g,g=Ng[0],Og[c++]=4096&f?1+(i|h|g):i|h|g)}}return Og[0]},Qg=[6.0014,-2.7008,-1.7996,-1.332,3.1029,-5.7721,.3008,-1.0882,5.6268],Rg=new Float32Array(4),Sg=new Float32Array(4),Tg=function(b,c,d,e){if(!b.LogLuv)return void a.logger.warn("Environment map expected to be in LogLuv format.");for(var f=Math.pow(2,c),g=Array.isArray(b.image)?b.image:[b.image],h=0;h<g.length;h++)for(var i=g[h],j=0;j<i.mipmaps.length;j++){var k,l=i.mipmaps[j],m=l.data;d?(k=new Uint16Array(m.length/4*3),l.data=k):k=m.buffer;for(var n=0,o=0;o<m.length;o+=4)Rg[0]=m[o]/255,Rg[1]=m[o+1]/255,Rg[2]=m[o+2]/255,Rg[3]=m[o+3]/255,q(Sg,Rg),d?(s(Rg,Sg,f),k[n++]=Pg(Rg[0]),k[n++]=Pg(Rg[1]),k[n++]=Pg(Rg[2])):(r(Rg,Sg,f),m[o]=Math.round(255*Rg[0]),m[o+1]=Math.round(255*Rg[1]),m[o+2]=Math.round(255*Rg[2]),m[o+3]=Math.round(255*Rg[3]))}b.LogLuv=!1,d?(b.type=1025,b.format=1020,b.RGBM=!1,b.GammaEncoded=!0):b.RGBM=!0,e&&e(b)},Ug=null,Vg=1,Wg=function(b,c,d,e,f){if(!c.LogLuv)return void a.logger.warn("Environment map expected to be in LogLuv format.");Ug||(Ug=b.createWorker());var g=Vg++,h=function a(b){if(b.data.id===g){Ug.removeEventListener("message",a);var d=b.data.map;c.image=d.image,c.LogLuv=!1,e?(c.type=1025,c.format=1020,c.RGBM=!1,c.GammaEncoded=!0):c.RGBM=!0,f(c)}};Ug.addEventListener("message",h),Ug.doOperation({operation:"DECODE_ENVMAP",map:c,exposure:d,useHalfFloat:e,id:g},t(c))},Xg=(function(){function b(){kg(this,b),this.callback=function(a,b){},this.level=-1,this.setLevel(a.LogLevels.ERROR)}lg(b,[{key:"initialize",value:function(a){a&&a.eventCallback&&(this.callback=a.callback)}},{key:"shutdown",value:function(){}},{key:"track",value:function(a){}},{key:"logToADP",value:function(a){return!1}},{key:"updateRuntimeStats",value:function(a){}},{key:"reportRuntimeStats",value:function(){}},{key:"setLevel",value:function(b){function c(){}function d(){var a=Array.prototype.slice.call(arguments).join(" ");e.callback({category:"error",message:a},{adp:!1}),console.error.apply(console,arguments)}if(this.level!==b){this.level=b;var e=this;this.debug=b>=a.LogLevels.DEBUG?console.log.bind(console):c,this.log=b>=a.LogLevels.LOG?console.log.bind(console):c,this.info=b>=a.LogLevels.INFO?console.info.bind(console):c,this.warn=b>=a.LogLevels.WARNING?console.warn.bind(console):c,this.error=b>=a.LogLevels.ERROR?d:c}}}])}(),5);u.prototype.getIndex=function(a){var b=this.dbIdToIndex[a];if(b)return b;b=this.nextNode++,this.nodes.push(a);for(var c=1;c<Xg;c++)this.nodes.push(0);return this.dbIdToIndex[a]=b,b},u.prototype.setNode=function(a,b,c,d,e,f){var g=this.getIndex(a),h=g*Xg,i=e.length,j=f&&f.length;j&&(i+=f.length),this.nodes[h+1]=b,this.nodes[h+2]=this.nextChild,this.nodes[h+3]=j?-i:i,this.nodes[h+4]=d;var k;for(k=0;k<e.length;k++)this.children[this.nextChild++]=this.getIndex(e[k]);if(j)for(k=0;k<f.length;k++)this.children[this.nextChild++]=-f[k]-1;this.nextChild>this.children.length&&console.error("Child index out of bounds -- should not happen"),this.processName(g,c)},u.prototype.processName=function(a,b){var c,d,e=-1,f=-1;if(b&&(f=b.lastIndexOf("]"),-1!==(e=b.lastIndexOf("["))&&-1!==f||(e=b.lastIndexOf(":"),f=b.length)),e>=0&&f>e){c=b.slice(0,e+1);var g=b.slice(e+1,f);d=parseInt(g,10),d&&d+""===g||(c=b,d=0)}else c=b,d=0;var h=this.s2i[c];void 0===h&&(this.strings.push(c),h=this.strings.length-1,this.s2i[c]=h),this.names[a]=h,this.nameSuffixes[a]=d},u.prototype.flatten=function(a,b,c,d,e,f){this.nodes=v(this.nodes),this.children=v(this.children),this.names=v(this.names),this.nameSuffixes=v(this.nameSuffixes),this.s2i=null},w.prototype.getNumNodes=function(a){return this.numNodes},w.prototype.getIndex=function(a){return this.dbIdToIndex[a]},w.prototype.name=function(a){var b=this.dbIdToIndex[a];if("number"==typeof b){var c=this.strings[this.names[b]],d=this.nameSuffixes[b];if(d){return"["===c.charAt(c.length-1)?c+d+"]":c+d}return c}},w.prototype.getParentId=function(a){var b=this.dbIdToIndex[a];if("number"==typeof b)return this.nodes[b*Xg+1]},w.prototype.getNodeFlags=function(a){var b=this.dbIdToIndex[a];if("number"==typeof b)return this.nodes[b*Xg+4]},w.prototype.setNodeFlags=function(a,b){var c=this.dbIdToIndex[a];"number"==typeof c&&(this.nodes[c*Xg+4]=b)},w.prototype.getNumChildren=function(a){var b=this.dbIdToIndex[a];if("number"!=typeof b)return 0;var c=this.nodes[b*Xg+3];if(c>=0)return c;var d=this.nodes[b*Xg+2];c=Math.abs(c);for(var e=0,f=0;f<c;f++){if(this.children[d+f]<0)break;e++}return e},w.prototype.getNumFragments=function(a){var b=this.dbIdToIndex[a];if("number"!=typeof b)return 0;var c=this.nodes[b*Xg+3];if(c>=0)return 0;var d=this.nodes[b*Xg+2];c=Math.abs(c);for(var e=0,f=c-1;f>=0;f--){if(this.children[d+f]>=0)break;e++}return e},w.prototype.getNodeBox=function(a,b){var c=this.getIndex(a);if("number"!=typeof c)return void b.makeEmpty();for(var d=6*c,e=0;e<6;e++)b[e]=this.nodeBoxes[d+e]},w.prototype.getVisibleIds=function(){return this.visibleIds||(this.visibleIds=Object.keys(this.dbIdToIndex).map(function(a){return parseInt(a)})),this.visibleIds},w.prototype.enumNodeChildren=function(a,b){var c=this.dbIdToIndex[a];if("number"==typeof c){var d=this.nodes[c*Xg+2],e=this.nodes[c*Xg+3];e=Math.abs(e);for(var f=0;f<e;f++){var g=this.children[d+f];if(g<0)break;b(this.nodes[g*Xg+0],a,c)}}},w.prototype.enumNodeFragments=function(a,b){var c=this.dbIdToIndex[a];if("number"==typeof c){var d=this.nodes[c*Xg+2],e=this.nodes[c*Xg+3];if(e<0){e=-e;for(var f=0;f<e;f++){var g=this.children[d+f];g>0||b(-g-1,a,c)}}}},w.prototype.computeBoxes=function(a){function b(a,b,c){var f=e.getIndex(a);d(a,f);for(var h=6*c,i=6*f,j=0;j<3;j++)g[h+j]>g[i+j]&&(g[h+j]=g[i+j]),g[h+j+3]<g[i+j+3]&&(g[h+j+3]=g[i+j+3])}function c(b,c,d){for(var e=6*b,f=6*d,h=0;h<3;h++)g[f+h]>a[e+h]&&(g[f+h]=a[e+h]),g[f+h+3]<a[e+h+3]&&(g[f+h+3]=a[e+h+3])}function d(a,d){var f=6*d;g[f]=g[f+1]=g[f+2]=1/0,g[f+3]=g[f+4]=g[f+5]=-1/0,e.getNumChildren(a)&&e.enumNodeChildren(a,b,!0),e.getNumFragments(a)&&e.enumNodeFragments(a,c)}var e=this,f=e.getIndex(e.rootId),g=e.nodeBoxes;d(e.rootId,f)},x.prototype.setLeftChild=function(a,b){this.nodesI[a*this.node_stride+6]=b},x.prototype.getLeftChild=function(a){return this.nodesI[a*this.node_stride+6]},x.prototype.setPrimStart=function(a,b){this.is_lean_node?this.nodesI[a*this.node_stride+6]=b:this.nodesI[a*this.node_stride+8]=b},x.prototype.getPrimStart=function(a){return this.is_lean_node?this.nodesI[a*this.node_stride+6]:this.nodesI[a*this.node_stride+8]},x.prototype.setPrimCount=function(a,b){this.nodesS[a*this.node_stride_short+14]=b},x.prototype.getPrimCount=function(a){return this.nodesS[a*this.node_stride_short+14]},x.prototype.setFlags=function(a,b,c,d){this.nodesS[a*this.node_stride_short+15]=d<<3|c<<2|3&b},x.prototype.getFlags=function(a){return this.nodesS[a*this.node_stride_short+15]},x.prototype.setBox0=function(a,b){var c=a*this.node_stride,d=this.nodesF;d[c]=b[0],d[c+1]=b[1],d[c+2]=b[2],d[c+3]=b[3],d[c+4]=b[4],d[c+5]=b[5]},x.prototype.getBoxThree=function(a,b){var c=a*this.node_stride,d=this.nodesF;b.min.x=d[c],b.min.y=d[c+1],b.min.z=d[c+2],b.max.x=d[c+3],b.max.y=d[c+4],b.max.z=d[c+5]},x.prototype.setBoxThree=function(a,b){var c=a*this.node_stride,d=this.nodesF;d[c]=b.min.x,d[c+1]=b.min.y,d[c+2]=b.min.z,d[c+3]=b.max.x,d[c+4]=b.max.y,d[c+5]=b.max.z},x.prototype.makeEmpty=function(a){var b=a*this.node_stride,c=this.nodesI;c[b+6]=-1,c[b+7]=0,this.is_lean_node||(c[b+8]=-1)},x.prototype.realloc=function(a){if(this.nodeCount+a>this.nodeCapacity){var b=0|3*this.nodeCapacity/2;b<this.nodeCount+a&&(b=this.nodeCount+a);var c=new ArrayBuffer(b*this.bytes_per_node),d=new Int32Array(c);d.set(this.nodesI),this.nodeCapacity=b,this.nodesRaw=c,this.nodesF=new Float32Array(c),this.nodesI=d,this.nodesS=new Uint16Array(c)}},x.prototype.nextNodes=function(a){this.realloc(a);var b=this.nodeCount;this.nodeCount+=a;for(var c=0;c<a;c++)this.makeEmpty(b+c);return b},x.prototype.getRawData=function(){return this.nodesRaw.slice(0,this.nodeCount*this.bytes_per_node)};var Yg=3,Zg=1e-5,$g=1e-5,_g=15,ah=16,bh=function(){function a(a,b,c,d){a[b]=.5*(c[d]+c[d+3]),a[b+1]=.5*(c[d+1]+c[d+4]),a[b+2]=.5*(c[d+2]+c[d+5])}function b(a,b,c){a[0]>b[c]&&(a[0]=b[c]),a[3]<b[c]&&(a[3]=b[c]),a[1]>b[c+1]&&(a[1]=b[c+1]),a[4]<b[c+1]&&(a[4]=b[c+1]),a[2]>b[c+2]&&(a[2]=b[c+2]),a[5]<b[c+2]&&(a[5]=b[c+2])}function c(a,b,c){a[0]>b[c]&&(a[0]=b[c]),a[1]>b[c+1]&&(a[1]=b[c+1]),a[2]>b[c+2]&&(a[2]=b[c+2]),a[3]<b[c+3]&&(a[3]=b[c+3]),a[4]<b[c+4]&&(a[4]=b[c+4]),a[5]<b[c+5]&&(a[5]=b[c+5])}function d(a,b){a[0]>b[0]&&(a[0]=b[0]),a[1]>b[1]&&(a[1]=b[1]),a[2]>b[2]&&(a[2]=b[2]),a[3]<b[3]&&(a[3]=b[3]),a[4]<b[4]&&(a[4]=b[4]),a[5]<b[5]&&(a[5]=b[5])}function e(a,b,c,d){for(var e=0;e<3;e++)a[b+e]=c[d+3+e]-c[d+e]}function f(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5]}function g(a){a[0]=s,a[1]=s,a[2]=s,a[3]=-s,a[4]=-s,a[5]=-s}function h(a,b){var c=a[b+3]-a[b],d=a[b+4]-a[b+1],e=a[b+5]-a[b+2];return c<0||d<0||e<0?0:2*(c*d+d*e+e*c)}function i(a){var b=a[3]-a[0],c=a[4]-a[1],d=a[5]-a[2];return b<0||c<0||d<0?0:2*(b*c+c*d+d*b)}function j(){this.vb_left=new Float32Array(6),this.vb_right=new Float32Array(6),this.cb_left=new Float32Array(6),this.cb_right=new Float32Array(6),this.num_left=0,this.best_split=-1,this.best_cost=-1,this.num_bins=-1}function k(){this.box_bbox=new Float32Array(6),this.box_centroid=new Float32Array(6),this.num_prims=0}function l(){this.BL=new Float32Array(6),this.CL=new Float32Array(6),this.NL=0,this.AL=0}function m(a,d,e,f,g,h,i){for(var j=a.centroids,k=a.primitives,l=a.finfo.boxes,m=a.finfo.boxStride,n=i*(1-$g)/h[f],o=g[f],p=a.sort_prims,q=d;q<=e;q++){var r=0|k[q],s=n*(j[3*r+f]-o),t=0|s;t<0?t=0:t>=i&&(t=i-1),p[q]=t,u[t].num_prims++,c(u[t].box_bbox,l,r*m),b(u[t].box_centroid,j,3*r)}}function n(a,b,c,e,g,h,j){if(h[e]<a.scene_epsilon)return void(j.best_cost=1/0);var k=ah;k>c-b+1&&(k=c-b+1);var l;for(l=0;l<k;l++)u[l].reset();for(l=0;l<k-1;l++)v[l].reset();j.num_bins=k,m(a,b,c,e,g,h,k),f(v[0].BL,u[0].box_bbox),f(v[0].CL,u[0].box_centroid),v[0].AL=i(v[0].BL),v[0].NL=u[0].num_prims;var n;for(l=1;l<k-1;l++){n=u[l];var o=v[l];f(o.BL,v[l-1].BL),d(o.BL,n.box_bbox),o.AL=i(o.BL),f(o.CL,v[l-1].CL),d(o.CL,n.box_centroid),o.NL=v[l-1].NL+n.num_prims}l=k-1,f(w,u[l].box_bbox),f(x,u[l].box_centroid);var p=i(w),q=u[l].num_prims,r=l,s=p*q+v[l-1].AL*v[l-1].NL;for(f(j.vb_right,w),f(j.cb_right,u[l].box_centroid),f(j.vb_left,v[l-1].BL),f(j.cb_left,v[l-1].CL),j.num_left=v[l-1].NL,l-=1;l>=1;l--){n=u[l],d(w,n.box_bbox),d(x,n.box_centroid),p=i(w),q+=n.num_prims;var t=p*q+v[l-1].AL*v[l-1].NL;t<=s&&(s=t,r=l,f(j.vb_right,w),f(j.cb_right,x),f(j.vb_left,v[l-1].BL),f(j.cb_left,v[l-1].CL),j.num_left=v[l-1].NL)}j.best_split=r,
j.best_cost=s}function o(a,b,c,d,e,f,g){var h,i,j=a.primitives,k=a.sort_prims,l=0,m=0|b,n=0|g.best_split;for(h=b;h<=c;h++){var o=0|j[h];k[h]<n?j[m++]=o:k[l++]=o}for(i=0;i<l;i++)j[m+i]=k[i]}function p(a,c,d,f,h,i,j,k){var l=a.primitives,m=a.centroids,n=h-f+1;n>a.frags_per_inner_node&&(n=a.frags_per_inner_node),n>k&&(n=k),c.setPrimStart(d,f),c.setPrimCount(d,n),f+=n,g(i);for(var o=f;o<=h;o++)b(i,m,3*l[o]);e(j,0,i,0);var p=0;return j[1]>j[0]&&(p=1),j[2]>j[p]&&(p=2),p}function q(a,b,c,d,f,g,h,i){e(y,0,g,0);var k=a.nodes,l=h?a.frags_per_leaf_node_transparent:a.frags_per_leaf_node,m=h?a.frags_per_inner_node_transparent:a.frags_per_inner_node,q=a.max_polys_per_node,r=0;y[1]>y[0]&&(r=1),y[2]>y[r]&&(r=2),k.setBox0(b,f);var s=0,t=0,u=d-c+1;if(a.finfo.hasPolygonCounts&&a.frags_per_inner_node)for(var v=u<=a.frags_per_inner_node?d:c+a.frags_per_inner_node-1,w=c;w<=v&&(s+=a.finfo.getPolygonCount(a.primitives[w]),t++,!(s>q));w++);if(u<=l&&s<q||1===u||i>_g||y[r]<a.scene_epsilon)return k.setLeftChild(b,-1),k.setPrimStart(b,c),k.setPrimCount(b,d-c+1),void k.setFlags(b,0,0,h?1:0);m&&(r=p(a,k,b,c,d,g,y,t),c+=k.getPrimCount(b));var x=new j;if(n(a,c,d,r,g,y,x),x.num_bins<0)return void k.setPrimCount(b,k.getPrimCount(b)+d-c+1);o(a,c,d,r,g,y,x);var z=k.nextNodes(2),A=.5*(x.vb_left[3+r]+x.vb_left[r]),B=.5*(x.vb_right[3+r]+x.vb_right[r]);k.setFlags(b,r,A<B?0:1,h?1:0),k.setLeftChild(b,z),a.recursion_stack.push([a,z+1,c+x.num_left,d,x.vb_right,x.cb_right,h,i+1]),a.recursion_stack.push([a,z,c,c+x.num_left-1,x.vb_left,x.cb_left,h,i+1])}function r(d){var f=d.boxv_o,h=d.boxc_o,i=d.boxv_t,j=d.boxc_t;g(f),g(h),g(i),g(j);for(var k=d.centroids,l=d.finfo.boxes,m=d.finfo.boxStride,n=0,o=d.prim_count;n<o;n++){var p=d.primitives[n];a(k,3*p,l,m*p),n>=d.first_transparent?(b(j,k,3*p),c(i,l,m*p)):(b(h,k,3*p),c(f,l,m*p))}e(y,0,d.boxv_o,0);var q=Math.max(y[0],y[1],y[2]);d.scene_epsilon=Zg*q}var s=1/0;j.prototype.reset=function(){this.num_left=0,this.best_split=-1,this.best_cost=-1,this.num_bins=-1},k.prototype.reset=function(){this.num_prims=0,g(this.box_bbox),g(this.box_centroid)},l.prototype.reset=function(){this.NL=0,this.AL=0,g(this.BL),g(this.CL)};var t,u=[];for(t=0;t<ah;t++)u.push(new k);var v=[];for(t=0;t<ah-1;t++)v.push(new l);var w=new Float32Array(6),x=new Float32Array(6),y=new Float32Array(3);return{bvh_subdivide:q,compute_boxes:r,box_area:h}}();y.prototype.getCount=function(){return this.count},y.prototype.isTransparent=function(a){return!(!this.materialDefs||!this.materialDefs[this.materials[a]])&&this.materialDefs[this.materials[a]].transparent},y.prototype.getPolygonCount=function(a){return this.polygonCounts[a]},z.prototype.sortPrimitives=function(){var a,b,c=new Float32Array(this.work_buf),d=this.primitives,e=0;for(a=0,b=this.prim_count;a<b;a++){d[a]=a;var f=this.finfo.isTransparent(a);f&&e++,c[a]=bh.box_area(this.finfo.boxes,this.finfo.boxStride*a),f&&(c[a]=-c[a])}Array.prototype.sort.call(this.primitives,function(a,b){return c[b]-c[a]}),this.first_transparent=this.prim_count-e},z.prototype.build=function(a){function b(b,c){a.hasOwnProperty(b)?d[b]=a[b]:d[b]=c}var c=a&&!!a.useSlimNodes,d=this;if(c)b("frags_per_leaf_node",1),b("frags_per_inner_node",0),b("frags_per_leaf_node_transparent",1),b("frags_per_inner_node_transparent",0),b("max_polys_per_node",1/0);else{var e=a.isWeakDevice?.5:1;b("frags_per_leaf_node",0|32*e),b("frags_per_inner_node",0|this.frags_per_leaf_node),b("frags_per_leaf_node_transparent",this.frags_per_leaf_node),b("frags_per_inner_node_transparent",0),b("max_polys_per_node",0|1e4*e)}if(this.nodes&&this.nodes.is_lean_node==c)this.nodes.nodeCount=0;else{for(var f=this.prim_count/this.frags_per_leaf_node,g=1;g<f;)g*=2;this.nodes=new x(g,!!a&&a.useSlimNodes)}this.sortPrimitives(),bh.compute_boxes(this);var h=this.nodes.nextNodes(2);bh.bvh_subdivide(this,h,0,this.first_transparent-1,this.boxv_o,this.boxc_o,!1,0);for(var i;this.recursion_stack.length;)i=this.recursion_stack.pop(),bh.bvh_subdivide(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(bh.bvh_subdivide(this,h+1,this.first_transparent,this.prim_count-1,this.boxv_t,this.boxc_t,!0,0);this.recursion_stack.length;)i=this.recursion_stack.pop(),bh.bvh_subdivide(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7])};var ch=1,dh=function(a,b,c,d,e,f,g){for(var h=a.posOffset,i=d;i<e;i++){var j=i*a.vbstride+h;g.set(a.vb[j],a.vb[j+1],a.vb[j+2]),g.applyMatrix4(c),a.vb[j]=g.x,a.vb[j+1]=g.y,a.vb[j+2]=g.z}if(-1!==a.normalOffset){var k=2*a.vbstride,l=2*a.normalOffset,m=F(c,f);for(i=d;i<e;i++){var n=i*k+l;g.set(b[n],b[n+1],0),g.divideScalar(65535),D(g),g.applyMatrix4(m),g.normalize(),C(g),g.multiplyScalar(65535),b[n]=g.x,b[n+1]=g.y}}};B.prototype.run=function(a,b){for(var c=this.vb,d=c.length/this.vbstride,e=a.clone(),f=new Uint8Array(3*d),g=-1!==this.normalOffset,h=g?new Uint16Array(c.buffer,c.byteOffset,2*c.length):null,i=this.ranges,j=this.matrices,k=i.length-1,l=0;l<k;l++){var m=i[l],n=i[l+1];G(l,j,a),dh(this,h,a,m,n,e,b);for(var o=3*m,p=n-m,q=this.dbIds[l],r=0;r<p;r++)E(q,f,o),o+=3}return{taskId:this.id,vb:this.vb,vertexIds:f}};var eh,fh,gh,hh,ih,jh,kh,lh,mh,nh="undefined"!=typeof self&&self.LmvVector3?self.LmvVector3:xg,oh={getVertexCount:H,enumMeshVertices:I,enumMeshTriangles:J,enumMeshLines:K},ph=oh.getVertexCount,qh=oh.enumMeshTriangles,rh=oh.enumMeshVertices,sh={createWireframe:N},th={};/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){function a(a){throw a}function b(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||b===o?d=d[e]?d[e]:d[e]={}:d[e]=b}function c(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=0,m=Number.POSITIVE_INFINITY;for(i=0;i<k;++i)a[i]>l&&(l=a[i]),a[i]<m&&(m=a[i]);for(b=1<<l,c=new(q?Uint32Array:Array)(b),d=1,e=0,f=2;d<=l;){for(i=0;i<k;++i)if(a[i]===d){for(g=0,h=e,j=0;j<d;++j)g=g<<1|1&h,h>>=1;for(j=g;j<b;j+=f)c[j]=d<<16|i;++e}++d,e<<=1,f<<=1}return[c,l,m]}function d(b,c){switch(this.l=[],this.m=32768,this.d=this.f=this.c=this.t=0,this.input=q?new Uint8Array(b):b,this.u=!1,this.n=A,this.K=!1,!c&&(c={})||(c.index&&(this.c=c.index),c.bufferSize&&(this.m=c.bufferSize),c.bufferType&&(this.n=c.bufferType),c.resize&&(this.K=c.resize)),this.n){case z:this.a=32768,this.b=new(q?Uint8Array:Array)(32768+this.m+258);break;case A:this.a=0,this.b=new(q?Uint8Array:Array)(this.m),this.e=this.W,this.B=this.R,this.q=this.V;break;default:a(Error("invalid inflate mode"))}}function e(b,c){for(var d,e=b.f,f=b.d,g=b.input,h=b.c;f<c;)d=g[h++],d===o&&a(Error("input buffer is broken")),e|=d<<f,f+=8;return d=e&(1<<c)-1,b.f=e>>>c,b.d=f-c,b.c=h,d}function f(a,b){for(var c,d,e,f=a.f,g=a.d,h=a.input,i=a.c,j=b[0],k=b[1];g<k&&(c=h[i++])!==o;)f|=c<<g,g+=8;return d=j[f&(1<<k)-1],e=d>>>16,a.f=f>>e,a.d=g-e,a.c=i,65535&d}function g(a){function b(a,b,c){var d,g,h,i;for(i=0;i<a;)switch(d=f(this,b)){case 16:for(h=3+e(this,2);h--;)c[i++]=g;break;case 17:for(h=3+e(this,3);h--;)c[i++]=0;g=0;break;case 18:for(h=11+e(this,7);h--;)c[i++]=0;g=0;break;default:g=c[i++]=d}return c}var d,g,h,i,j=e(a,5)+257,k=e(a,5)+1,l=e(a,4)+4,m=new(q?Uint8Array:Array)(E.length);for(i=0;i<l;++i)m[E[i]]=e(a,3);d=c(m),g=new(q?Uint8Array:Array)(j),h=new(q?Uint8Array:Array)(k),a.q(c(b.call(a,j,d,g)),c(b.call(a,k,d,h)))}function h(a){a=a||{},this.files=[],this.v=a.comment}function i(a,b){b=b||{},this.input=q&&a instanceof Array?new Uint8Array(a):a,this.c=0,this.ba=b.verify||!1,this.j=b.password}function j(a,b){this.input=a,this.offset=b}function k(a,b){this.input=a,this.offset=b}function l(b){var c,d,e,f,g=[],h={};if(!b.i){if(b.o===o){var i,k=b.input;if(!b.D)a:{var l,m=b.input;for(l=m.length-12;0<l;--l)if(m[l]===W[0]&&m[l+1]===W[1]&&m[l+2]===W[2]&&m[l+3]===W[3]){b.D=l;break a}a(Error("End of Central Directory Record not found"))}i=b.D,(k[i++]!==W[0]||k[i++]!==W[1]||k[i++]!==W[2]||k[i++]!==W[3])&&a(Error("invalid signature")),b.ha=k[i++]|k[i++]<<8,b.ja=k[i++]|k[i++]<<8,b.ka=k[i++]|k[i++]<<8,b.aa=k[i++]|k[i++]<<8,b.Q=(k[i++]|k[i++]<<8|k[i++]<<16|k[i++]<<24)>>>0,b.o=(k[i++]|k[i++]<<8|k[i++]<<16|k[i++]<<24)>>>0,b.w=k[i++]|k[i++]<<8,b.v=q?k.subarray(i,i+b.w):k.slice(i,i+b.w)}for(c=b.o,e=0,f=b.aa;e<f;++e)d=new j(b.input,c),d.parse(),c+=d.length,g[e]=d,h[d.filename]=e;b.Q<c-b.o&&a(Error("invalid file header size")),b.i=g,b.G=h}}function m(a,b,c){return c^=a.s(b),a.k(b,c),c}var n,o=void 0,p=this,q="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;new(q?Uint8Array:Array)(256);var r;for(r=0;256>r;++r)for(var s=r,t=7,s=s>>>1;s;s>>>=1)--t;var u,v=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],w=q?new Uint32Array(v):v,x=[];for(u=0;288>u;u++)switch(!0){case 143>=u:x.push([u+48,8]);break;case 255>=u:x.push([u-144+400,9]);break;case 279>=u:x.push([u-256+0,7]);break;case 287>=u:x.push([u-280+192,8]);break;default:a("invalid literal: "+u)}var y=function(){var b,c,d=[];for(b=3;258>=b;b++)c=function(b){switch(!0){case 3===b:return[257,b-3,0];case 4===b:return[258,b-4,0];case 5===b:return[259,b-5,0];case 6===b:return[260,b-6,0];case 7===b:return[261,b-7,0];case 8===b:return[262,b-8,0];case 9===b:return[263,b-9,0];case 10===b:return[264,b-10,0];case 12>=b:return[265,b-11,1];case 14>=b:return[266,b-13,1];case 16>=b:return[267,b-15,1];case 18>=b:return[268,b-17,1];case 22>=b:return[269,b-19,2];case 26>=b:return[270,b-23,2];case 30>=b:return[271,b-27,2];case 34>=b:return[272,b-31,2];case 42>=b:return[273,b-35,3];case 50>=b:return[274,b-43,3];case 58>=b:return[275,b-51,3];case 66>=b:return[276,b-59,3];case 82>=b:return[277,b-67,4];case 98>=b:return[278,b-83,4];case 114>=b:return[279,b-99,4];case 130>=b:return[280,b-115,4];case 162>=b:return[281,b-131,5];case 194>=b:return[282,b-163,5];case 226>=b:return[283,b-195,5];case 257>=b:return[284,b-227,5];case 258===b:return[285,b-258,0];default:a("invalid length: "+b)}}(b),d[b]=c[2]<<24|c[1]<<16|c[0];return d}();q&&new Uint32Array(y);var z=0,A=1;d.prototype.r=function(){for(;!this.u;){var b=e(this,3);switch(1&b&&(this.u=!0),b>>>=1){case 0:var c=this.input,d=this.c,f=this.b,h=this.a,i=o,j=o,k=o,l=f.length,m=o;switch(this.d=this.f=0,i=c[d++],i===o&&a(Error("invalid uncompressed block header: LEN (first byte)")),j=i,i=c[d++],i===o&&a(Error("invalid uncompressed block header: LEN (second byte)")),j|=i<<8,i=c[d++],i===o&&a(Error("invalid uncompressed block header: NLEN (first byte)")),k=i,i=c[d++],i===o&&a(Error("invalid uncompressed block header: NLEN (second byte)")),k|=i<<8,j===~k&&a(Error("invalid uncompressed block header: length verify")),d+j>c.length&&a(Error("input buffer is broken")),this.n){case z:for(;h+j>f.length;){if(m=l-h,j-=m,q)f.set(c.subarray(d,d+m),h),h+=m,d+=m;else for(;m--;)f[h++]=c[d++];this.a=h,f=this.e(),h=this.a}break;case A:for(;h+j>f.length;)f=this.e({H:2});break;default:a(Error("invalid inflate mode"))}if(q)f.set(c.subarray(d,d+j),h),h+=j,d+=j;else for(;j--;)f[h++]=c[d++];this.c=d,this.a=h,this.b=f;break;case 1:this.q(Q,S);break;case 2:g(this);break;default:a(Error("unknown BTYPE: "+b))}}return this.B()};var B,C,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=q?new Uint16Array(D):D,F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],G=q?new Uint16Array(F):F,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],I=q?new Uint8Array(H):H,J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],K=q?new Uint16Array(J):J,L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=q?new Uint8Array(L):L,N=new(q?Uint8Array:Array)(288);for(B=0,C=N.length;B<C;++B)N[B]=143>=B?8:255>=B?9:279>=B?7:8;var O,P,Q=c(N),R=new(q?Uint8Array:Array)(30);for(O=0,P=R.length;O<P;++O)R[O]=5;var S=c(R);n=d.prototype,n.q=function(a,b){var c=this.b,d=this.a;this.C=a;for(var g,h,i,j,k=c.length-258;256!==(g=f(this,a));)if(256>g)d>=k&&(this.a=d,c=this.e(),d=this.a),c[d++]=g;else for(h=g-257,j=G[h],0<I[h]&&(j+=e(this,I[h])),g=f(this,b),i=K[g],0<M[g]&&(i+=e(this,M[g])),d>=k&&(this.a=d,c=this.e(),d=this.a);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},n.V=function(a,b){var c=this.b,d=this.a;this.C=a;for(var g,h,i,j,k=c.length;256!==(g=f(this,a));)if(256>g)d>=k&&(c=this.e(),k=c.length),c[d++]=g;else for(h=g-257,j=G[h],0<I[h]&&(j+=e(this,I[h])),g=f(this,b),i=K[g],0<M[g]&&(i+=e(this,M[g])),d+j>k&&(c=this.e(),k=c.length);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},n.e=function(){var a,b,c=new(q?Uint8Array:Array)(this.a-32768),d=this.a-32768,e=this.b;if(q)c.set(e.subarray(32768,c.length));else for(a=0,b=c.length;a<b;++a)c[a]=e[a+32768];if(this.l.push(c),this.t+=c.length,q)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];return this.a=32768,e},n.W=function(a){var b,c,d,e,f=this.input.length/this.c+1|0,g=this.input,h=this.b;return a&&("number"==typeof a.H&&(f=a.H),"number"==typeof a.P&&(f+=a.P)),2>f?(c=(g.length-this.c)/this.C[2],e=c/2*258|0,d=e<h.length?h.length+e:h.length<<1):d=h.length*f,q?(b=new Uint8Array(d),b.set(h)):b=h,this.b=b},n.B=function(){var a,b,c,d,e,f=0,g=this.b,h=this.l,i=new(q?Uint8Array:Array)(this.t+(this.a-32768));if(0===h.length)return q?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(b=0,c=h.length;b<c;++b)for(a=h[b],d=0,e=a.length;d<e;++d)i[f++]=a[d];for(b=32768,c=this.a;b<c;++b)i[f++]=g[b];return this.l=[],this.buffer=i},n.R=function(){var a,b=this.a;return q?this.K?(a=new Uint8Array(b),a.set(this.b.subarray(0,b))):a=this.b.subarray(0,b):(this.b.length>b&&(this.b.length=b),a=this.b),this.buffer=a},h.prototype.L=function(a){this.j=a},h.prototype.s=function(a){var b=65535&a[2]|2;return b*(1^b)>>8&255},h.prototype.k=function(a,b){a[0]=(w[255&(a[0]^b)]^a[0]>>>8)>>>0,a[1]=1+(6681*(20173*(a[1]+(255&a[0]))>>>0)>>>0)>>>0,a[2]=(w[255&(a[2]^a[1]>>>24)]^a[2]>>>8)>>>0},h.prototype.T=function(a){var b,c,d=[305419896,591751049,878082192];for(q&&(d=new Uint32Array(d)),b=0,c=a.length;b<c;++b)this.k(d,255&a[b]);return d};var T={O:0,M:8},U=[80,75,1,2],V=[80,75,3,4],W=[80,75,5,6];j.prototype.parse=function(){var b=this.input,c=this.offset;(b[c++]!==U[0]||b[c++]!==U[1]||b[c++]!==U[2]||b[c++]!==U[3])&&a(Error("invalid file header signature")),this.version=b[c++],this.ia=b[c++],this.Z=b[c++]|b[c++]<<8,this.I=b[c++]|b[c++]<<8,this.A=b[c++]|b[c++]<<8,this.time=b[c++]|b[c++]<<8,this.U=b[c++]|b[c++]<<8,this.p=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.z=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.J=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.h=b[c++]|b[c++]<<8,this.g=b[c++]|b[c++]<<8,this.F=b[c++]|b[c++]<<8,this.ea=b[c++]|b[c++]<<8,this.ga=b[c++]|b[c++]<<8,this.fa=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24,this.$=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,q?b.subarray(c,c+=this.h):b.slice(c,c+=this.h)),this.X=q?b.subarray(c,c+=this.g):b.slice(c,c+=this.g),this.v=q?b.subarray(c,c+this.F):b.slice(c,c+this.F),this.length=c-this.offset};var X={N:1,ca:8,da:2048};k.prototype.parse=function(){var b=this.input,c=this.offset;(b[c++]!==V[0]||b[c++]!==V[1]||b[c++]!==V[2]||b[c++]!==V[3])&&a(Error("invalid local file header signature")),this.Z=b[c++]|b[c++]<<8,this.I=b[c++]|b[c++]<<8,this.A=b[c++]|b[c++]<<8,this.time=b[c++]|b[c++]<<8,this.U=b[c++]|b[c++]<<8,this.p=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.z=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.J=(b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24)>>>0,this.h=b[c++]|b[c++]<<8,this.g=b[c++]|b[c++]<<8,this.filename=String.fromCharCode.apply(null,q?b.subarray(c,c+=this.h):b.slice(c,c+=this.h)),this.X=q?b.subarray(c,c+=this.g):b.slice(c,c+=this.g),this.length=c-this.offset},n=i.prototype,n.Y=function(){var a,b,c,d=[];for(this.i||l(this),c=this.i,a=0,b=c.length;a<b;++a)d[a]=c[a].filename;return d},n.r=function(b,c){var e;this.G||l(this),(e=this.G[b])===o&&a(Error(b+" not found"));var f;f=c||{};var g,h,i,j,n,p,r,s,t=this.input,u=this.i;if(u||l(this),u[e]===o&&a(Error("wrong index")),h=u[e].$,g=new k(this.input,h),g.parse(),h+=g.length,i=g.z,0!=(g.I&X.N)){for(!f.password&&!this.j&&a(Error("please set password")),p=this.S(f.password||this.j),r=h,s=h+12;r<s;++r)m(this,p,t[r]);for(h+=12,i-=12,r=h,s=h+i;r<s;++r)t[r]=m(this,p,t[r])}switch(g.A){case T.O:j=q?this.input.subarray(h,h+i):this.input.slice(h,h+i);break;case T.M:j=new d(this.input,{index:h,bufferSize:g.J}).r();break;default:a(Error("unknown compression type"))}if(this.ba){var v,x=o,y="number"==typeof x?x:x=0,z=j.length;for(v=-1,y=7&z;y--;++x)v=v>>>8^w[255&(v^j[x])];for(y=z>>3;y--;x+=8)v=v>>>8^w[255&(v^j[x])],v=v>>>8^w[255&(v^j[x+1])],v=v>>>8^w[255&(v^j[x+2])],v=v>>>8^w[255&(v^j[x+3])],v=v>>>8^w[255&(v^j[x+4])],v=v>>>8^w[255&(v^j[x+5])],v=v>>>8^w[255&(v^j[x+6])],v=v>>>8^w[255&(v^j[x+7])];n=(4294967295^v)>>>0,g.p!==n&&a(Error("wrong crc: file=0x"+g.p.toString(16)+", data=0x"+n.toString(16)))}return j},n.L=function(a){this.j=a},n.k=h.prototype.k,n.S=h.prototype.T,n.s=h.prototype.s,b("Zlib.Unzip",i),b("Zlib.Unzip.prototype.decompress",i.prototype.r),b("Zlib.Unzip.prototype.getFilenames",i.prototype.Y),b("Zlib.Unzip.prototype.setPassword",i.prototype.L)}).call(th);var uh=th.Zlib,vh={};/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){function a(a){throw a}function b(a,b){var c=a.split("."),d=j;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||b===i?d=d[e]?d[e]:d[e]={}:d[e]=b}function c(a){var b,c,d,e,f,g,h,i,j,l=a.length,m=0,n=Number.POSITIVE_INFINITY;for(i=0;i<l;++i)a[i]>m&&(m=a[i]),a[i]<n&&(n=a[i]);for(b=1<<m,c=new(k?Uint32Array:Array)(b),d=1,e=0,f=2;d<=m;){for(i=0;i<l;++i)if(a[i]===d){for(g=0,h=e,j=0;j<d;++j)g=g<<1|1&h,h>>=1;for(j=g;j<b;j+=f)c[j]=d<<16|i;++e}++d,e<<=1,f<<=1}return[c,m,n]}function d(b,c){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=k?new Uint8Array(b):b,this.m=!1,this.i=m,this.r=!1,!c&&(c={})||(c.index&&(this.a=c.index),c.bufferSize&&(this.h=c.bufferSize),c.bufferType&&(this.i=c.bufferType),c.resize&&(this.r=c.resize)),this.i){case l:this.b=32768,this.c=new(k?Uint8Array:Array)(32768+this.h+258);break;case m:this.b=0,this.c=new(k?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:a(Error("invalid inflate mode"))}}function e(b,c){for(var d,e=b.f,f=b.d,g=b.input,h=b.a;f<c;)d=g[h++],d===i&&a(Error("input buffer is broken")),e|=d<<f,f+=8;return d=e&(1<<c)-1,b.f=e>>>c,b.d=f-c,b.a=h,d}function f(a,b){for(var c,d,e,f=a.f,g=a.d,h=a.input,j=a.a,k=b[0],l=b[1];g<l&&(c=h[j++])!==i;)f|=c<<g,g+=8;return d=k[f&(1<<l)-1],e=d>>>16,a.f=f>>e,a.d=g-e,a.a=j,65535&d}function g(a){function b(a,b,c){var d,g,h,i;for(i=0;i<a;)switch(d=f(this,b)){case 16:for(h=3+e(this,2);h--;)c[i++]=g;break;case 17:for(h=3+e(this,3);h--;)c[i++]=0;g=0;break;case 18:for(h=11+e(this,7);h--;)c[i++]=0;g=0;break;default:g=c[i++]=d}return c}var d,g,h,i,j=e(a,5)+257,l=e(a,5)+1,m=e(a,4)+4,n=new(k?Uint8Array:Array)(r.length);for(i=0;i<m;++i)n[r[i]]=e(a,3);d=c(n),g=new(k?Uint8Array:Array)(j),h=new(k?Uint8Array:Array)(l),a.j(c(b.call(a,j,d,g)),c(b.call(a,l,d,h)))}function h(b,c){var e,f;switch(this.input=b,this.a=0,!c&&(c={})||(c.index&&(this.a=c.index),c.verify&&(this.A=c.verify)),e=b[this.a++],f=b[this.a++],15&e){case G:this.method=G;break;default:a(Error("unsupported compression method"))}0!=((e<<8)+f)%31&&a(Error("invalid fcheck flag:"+((e<<8)+f)%31)),32&f&&a(Error("fdict flag is not supported")),this.q=new d(b,{index:this.a,bufferSize:c.bufferSize,bufferType:c.bufferType,resize:c.resize})}var i=void 0,j=this,k="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,l=0,m=1,n={t:l,s:m};d.prototype.k=function(){for(;!this.m;){var b=e(this,3);switch(1&b&&(this.m=!0),b>>>=1){case 0:var c=this.input,d=this.a,f=this.c,h=this.b,j=i,n=i,o=i,p=f.length,q=i;switch(this.d=this.f=0,j=c[d++],j===i&&a(Error("invalid uncompressed block header: LEN (first byte)")),n=j,j=c[d++],j===i&&a(Error("invalid uncompressed block header: LEN (second byte)")),n|=j<<8,j=c[d++],j===i&&a(Error("invalid uncompressed block header: NLEN (first byte)")),o=j,j=c[d++],j===i&&a(Error("invalid uncompressed block header: NLEN (second byte)")),o|=j<<8,n===~o&&a(Error("invalid uncompressed block header: length verify")),d+n>c.length&&a(Error("input buffer is broken")),this.i){case l:for(;h+n>f.length;){if(q=p-h,n-=q,k)f.set(c.subarray(d,d+q),h),h+=q,d+=q;else for(;q--;)f[h++]=c[d++];this.b=h,f=this.e(),h=this.b}break;case m:for(;h+n>f.length;)f=this.e({p:2});break;default:a(Error("invalid inflate mode"))}if(k)f.set(c.subarray(d,d+n),h),h+=n,d+=n;else for(;n--;)f[h++]=c[d++];this.a=d,this.b=h,this.c=f;break;case 1:this.j(D,F);break;case 2:g(this);break;default:a(Error("unknown BTYPE: "+b))}}return this.n()};var o,p,q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],r=k?new Uint16Array(q):q,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],t=k?new Uint16Array(s):s,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],v=k?new Uint8Array(u):u,w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],x=k?new Uint16Array(w):w,y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=k?new Uint8Array(y):y,A=new(k?Uint8Array:Array)(288);for(o=0,p=A.length;o<p;++o)A[o]=143>=o?8:255>=o?9:279>=o?7:8;var B,C,D=c(A),E=new(k?Uint8Array:Array)(30);for(B=0,C=E.length;B<C;++B)E[B]=5;var F=c(E);d.prototype.j=function(a,b){var c=this.c,d=this.b;this.o=a;for(var g,h,i,j,k=c.length-258;256!==(g=f(this,a));)if(256>g)d>=k&&(this.b=d,c=this.e(),d=this.b),c[d++]=g;else for(h=g-257,j=t[h],0<v[h]&&(j+=e(this,v[h])),g=f(this,b),i=x[g],0<z[g]&&(i+=e(this,z[g])),d>=k&&(this.b=d,c=this.e(),d=this.b);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.a--;this.b=d},d.prototype.w=function(a,b){var c=this.c,d=this.b;this.o=a;for(var g,h,i,j,k=c.length;256!==(g=f(this,a));)if(256>g)d>=k&&(c=this.e(),k=c.length),c[d++]=g;else for(h=g-257,j=t[h],0<v[h]&&(j+=e(this,v[h])),g=f(this,b),i=x[g],0<z[g]&&(i+=e(this,z[g])),d+j>k&&(c=this.e(),k=c.length);j--;)c[d]=c[d++-i];for(;8<=this.d;)this.d-=8,this.a--;this.b=d},d.prototype.e=function(){var a,b,c=new(k?Uint8Array:Array)(this.b-32768),d=this.b-32768,e=this.c;if(k)c.set(e.subarray(32768,c.length));else for(a=0,b=c.length;a<b;++a)c[a]=e[a+32768];if(this.g.push(c),this.l+=c.length,k)e.set(e.subarray(d,d+32768));else for(a=0;32768>a;++a)e[a]=e[d+a];return this.b=32768,e},d.prototype.z=function(a){var b,c,d,e,f=this.input.length/this.a+1|0,g=this.input,h=this.c;return a&&("number"==typeof a.p&&(f=a.p),"number"==typeof a.u&&(f+=a.u)),2>f?(c=(g.length-this.a)/this.o[2],e=c/2*258|0,d=e<h.length?h.length+e:h.length<<1):d=h.length*f,k?(b=new Uint8Array(d),b.set(h)):b=h,this.c=b},d.prototype.n=function(){var a,b,c,d,e,f=0,g=this.c,h=this.g,i=new(k?Uint8Array:Array)(this.l+(this.b-32768));if(0===h.length)return k?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(b=0,c=h.length;b<c;++b)for(a=h[b],d=0,e=a.length;d<e;++d)i[f++]=a[d];for(b=32768,c=this.b;b<c;++b)i[f++]=g[b];return this.g=[],this.buffer=i},d.prototype.v=function(){var a,b=this.b;return k?this.r?(a=new Uint8Array(b),a.set(this.c.subarray(0,b))):a=this.c.subarray(0,b):(this.c.length>b&&(this.c.length=b),a=this.c),this.buffer=a},h.prototype.k=function(){var b,c,d=this.input;if(b=this.q.k(),this.a=this.q.a,this.A){c=(d[this.a++]<<24|d[this.a++]<<16|d[this.a++]<<8|d[this.a++])>>>0;var e=b;if("string"==typeof e){var f,g,h=e.split("");for(f=0,g=h.length;f<g;f++)h[f]=(255&h[f].charCodeAt(0))>>>0;e=h}for(var i,j=1,k=0,l=e.length,m=0;0<l;){i=1024<l?1024:l,l-=i;do{j+=e[m++],k+=j}while(--i);j%=65521,k%=65521}c!==(k<<16|j)>>>0&&a(Error("invalid adler-32 checksum"))}return b};var G=8;b("Zlib.Inflate",h),b("Zlib.Inflate.prototype.decompress",h.prototype.k);var H,I,J,K,L={ADAPTIVE:n.s,BLOCK:n.t};if(Object.keys)H=Object.keys(L);else for(I in H=[],J=0,L)H[J++]=I;for(J=0,K=H.length;J<K;++J)I=H[J],b("Zlib.Inflate.BufferType."+I,L[I])}).call(vh);var wh=vh.Zlib,xh=d(function(a,c){!function(c){a.exports=function(){return function a(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof b&&b;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b||a)},l,l.exports,a,c,d,e)}return d[h].exports}for(var g="function"==typeof b&&b,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=(void 0===c?"undefined":jg(c)))throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],2:[function(a,b,c){function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(a){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){g=!1}for(var h=new e.Buf8(256),i=0;256>i;i++)h[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;h[254]=h[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296==(64512&c)&&h>f+1&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296==(64512&c)&&h>f+1&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,i=b||a.length,j=new Array(2*i);for(e=0,c=0;i>c;)if(128>(f=a[c++]))j[e++]=f;else if((g=h[f])>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&i>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128==(192&a[c]);)c--;return 0>c?b:0===c?b:c+h[a[c]]>b?c:b}},{"./common":1}],3:[function(a,b){function c(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do{e=e+b[d++]|0,f=f+e|0}while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=c},{}],4:[function(a,b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(a,b){function c(a,b,c,e){var f=d,g=e+c;a^=-1;for(var h=e;g>h;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var d=function(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();b.exports=c},{}],6:[function(a,b){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=c},{}],7:[function(a,b){b.exports=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;c=a.state,d=a.next_in,z=a.input,e=d+(a.avail_in-5),f=a.next_out,A=a.output,g=f-(b-a.avail_out),h=f+(a.avail_out-257),i=c.dmax,j=c.wsize,k=c.whave,l=c.wnext,m=c.window,n=c.hold,o=c.bits,p=c.lencode,q=c.distcode,r=(1<<c.lenbits)-1,s=(1<<c.distbits)-1;a:do{15>o&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=p[n&r];b:for(;;){if(u=t>>>24,n>>>=u,o-=u,0===(u=t>>>16&255))A[f++]=65535&t;else{if(!(16&u)){if(0==(64&u)){t=p[(65535&t)+(n&(1<<u)-1)];continue b}if(32&u){c.mode=12;break a}a.msg="invalid literal/length code",c.mode=30;break a}v=65535&t,u&=15,u&&(u>o&&(n+=z[d++]<<o,o+=8),v+=n&(1<<u)-1,n>>>=u,o-=u),15>o&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=q[n&s];c:for(;;){if(u=t>>>24,n>>>=u,o-=u,!(16&(u=t>>>16&255))){if(0==(64&u)){t=q[(65535&t)+(n&(1<<u)-1)];continue c}a.msg="invalid distance code",c.mode=30;break a}if(w=65535&t,u&=15,u>o&&(n+=z[d++]<<o,o+=8,u>o&&(n+=z[d++]<<o,o+=8)),(w+=n&(1<<u)-1)>i){a.msg="invalid distance too far back",c.mode=30;break a}if(n>>>=u,o-=u,u=f-g,w>u){if((u=w-u)>k&&c.sane){a.msg="invalid distance too far back",c.mode=30;break a}if(x=0,y=m,0===l){if(x+=j-u,v>u){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}else if(u>l){if(x+=j+l-u,u-=l,v>u){v-=u;do{A[f++]=m[x++]}while(--u);if(x=0,v>l){u=l,v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}}else if(x+=l-u,v>u){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}for(;v>2;)A[f++]=y[x++],A[f++]=y[x++],A[f++]=y[x++],v-=3;v&&(A[f++]=y[x++],v>1&&(A[f++]=y[x++]))}else{x=f-w;do{A[f++]=A[x++],A[f++]=A[x++],A[f++]=A[x++],v-=3}while(v>2);v&&(A[f++]=A[x++],v>1&&(A[f++]=A[x++]))}break}}break}}while(e>d&&h>f);v=o>>3,d-=v,o-=v<<3,n&=(1<<o)-1,a.next_in=d,a.next_out=f,a.avail_in=e>d?e-d+5:5-(d-e),a.avail_out=h>f?h-f+257:257-(f-h),c.hold=n,c.bits=o}},{}],8:[function(a,b,c){function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=1+(b>>4),48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,qa)}function k(a){if(ra){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),ra=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=la;break}if((15&m)!==J){a.msg="unknown compression method",c.mode=la;break}if(m>>>=4,n-=4,wa=8+(15&m),0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg="unknown compression method",c.mode=la;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa))}while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa))}while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg="invalid block type",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!=(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=257+(31&m),m>>>=5,n-=5,c.ndist=1+(31&m),m>>>=5,n-=5,c.ncode=4+(15&m),m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg="invalid literal/length code",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if((q=c.offset-q)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do{f[h++]=pa[oa++]}while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0==(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a("../utils/common"),s=a("./adler32"),t=a("./crc32"),u=a("./inffast"),v=a("./inftrees"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(a,b){var c=a("../utils/common"),d=15,e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,i,j,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=n.bits,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=null,J=0,K=new c.Buf16(16),L=new c.Buf16(16),M=null,N=0;for(y=0;d>=y;y++)K[y]=0;for(z=0;j>z;z++)K[b[i+z]]++;for(C=x,B=d;B>=1&&0===K[B];B--);if(C>B&&(C=B),0===B)return k[l++]=20971520,k[l++]=20971520,n.bits=1,0;for(A=1;B>A&&0===K[A];A++);for(A>C&&(C=A),F=1,y=1;d>=y;y++)if(F<<=1,0>(F-=K[y]))return-1;if(F>0&&(0===a||1!==B))return-1;for(L[1]=0,y=1;d>y;y++)L[y+1]=L[y]+K[y];for(z=0;j>z;z++)0!==b[i+z]&&(m[L[b[i+z]]++]=z);if(0===a?(I=M=m,t=19):1===a?(I=e,J-=257,M=f,N-=257,t=256):(I=g,M=h,t=-1),H=0,z=0,y=A,s=l,D=C,E=0,q=-1,G=1<<C,r=G-1,1===a&&G>852||2===a&&G>592)return 1;for(var O=0;;){O++,u=y-E,m[z]<t?(v=0,w=m[z]):m[z]>t?(v=M[N+m[z]],w=I[J+m[z]]):(v=96,w=0),o=1<<y-E,p=1<<D,A=p;do{p-=o,k[s+(H>>E)+p]=u<<24|v<<16|w|0}while(0!==p);for(o=1<<y-1;H&o;)o>>=1;if(0!==o?(H&=o-1,H+=o):H=0,z++,0==--K[y]){if(y===B)break;y=b[i+m[z]]}if(y>C&&(H&r)!==q){for(0===E&&(E=C),s+=A,D=y-E,F=1<<D;B>D+E&&!(0>=(F-=K[D+E]));)D++,F<<=1;if(G+=1<<D,1===a&&G>852||2===a&&G>592)return 1;q=H&r,k[q]=C<<24|D<<16|s-l|0}}return 0!==H&&(k[s+H]=y-E<<24|64<<16|0),n.bits=C,0}},{"../utils/common":1}],10:[function(a,b){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(a,b){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=c},{}],"/lib/inflate.js":[function(a,b,c){function d(a,b){var c=new n(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}var f=a("./zlib/inflate.js"),g=a("./utils/common"),h=a("./utils/strings"),i=a("./zlib/constants"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=a("./zlib/gzheader"),m=Object.prototype.toString,n=function(a){this.options=g.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0==(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=f.inflateInit2(this.strm,b.windowBits);if(c!==i.Z_OK)throw new Error(j[c]);this.header=new l,f.inflateGetHeader(this.strm,this.header)};n.prototype.push=function(a,b){var c,d,e,j,k,l=this.strm,n=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:!0===b?i.Z_FINISH:i.Z_NO_FLUSH,l.input="string"==typeof a?h.binstring2buf(a):"[object ArrayBuffer]"===m.call(a)?new Uint8Array(a):a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new g.Buf8(n),l.next_out=0,l.avail_out=n),(c=f.inflate(l,i.Z_NO_FLUSH))!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0===l.avail_out||c===i.Z_STREAM_END||0===l.avail_in&&d===i.Z_FINISH)&&("string"===this.options.to?(e=h.utf8border(l.output,l.next_out),j=l.next_out-e,k=h.buf2string(l.output,e),l.next_out=j,l.avail_out=n-j,j&&g.arraySet(l.output,l.output,e,j,0),this.onData(k)):this.onData(g.shrinkBuf(l.output,l.next_out)))}while(l.avail_in>0&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(d=i.Z_FINISH),d!==i.Z_FINISH||(c=f.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK)},n.prototype.onData=function(a){this.chunks.push(a)},n.prototype.onEnd=function(a){a===i.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=n,c.inflate=d,c.inflateRaw=e,c.ungzip=d},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}()}()}),yh={deduceUVRepetition:function(a){for(var b in a.vblayout)if(0==b.indexOf("uv")&&0!=b.indexOf("uvw"))for(var c=a.vblayout[b].offset,d=a.vbstride,e=a.vb,f=a.vb.length/d,g=0,h=c;g<f;g++,h+=d){var i=e[h],j=e[h+1];if(i>2||i<0||j>2||j<0){a.vblayout[b].isPattern=!0;break}}},computeBounds3D:function(a){var b,c,d,e,f,g=1/0,h=1/0,i=1/0,j=-1/0,k=-1/0,l=-1/0,m=a.vbstride,n=a.vblayout.position.offset,o=a.vb,p=a.vb.length/m;for(b=0,c=n;b<p;b++,c+=m)d=o[c],e=o[c+1],f=o[c+2],g>d&&(g=d),h>e&&(h=e),i>f&&(i=f),j<d&&(j=d),k<e&&(k=e),l<f&&(l=f);var q=(a.boundingBox={min:{x:g,y:h,z:i},max:{x:j,y:k,z:l}},.5*(g+j)),r=.5*(h+k),s=.5*(i+l),t=a.boundingSphere={};t.center={x:q,y:r,z:s};var u=0;for(b=0,c=n;b<p;b++,c+=m){d=o[c],e=o[c+1],f=o[c+2];var v=d-q,w=e-r,x=f-s,y=v*v+w*w+x*x;y>u&&(u=y)}t.radius=Math.sqrt(u)},bboxUnion:function(a,b){b.min.x<a.min.x&&(a.min.x=b.min.x),b.min.y<a.min.y&&(a.min.y=b.min.y),b.min.z<a.min.z&&(a.min.z=b.min.z),b.max.x>a.max.x&&(a.max.x=b.max.x),b.max.y>a.max.y&&(a.max.y=b.max.y),b.max.z>a.max.z&&(a.max.z=b.max.z)}},zh=!0,Ah=new ArrayBuffer(8),Bh=new Uint8Array(Ah),Ch=new Uint16Array(Ah),Dh=new Int32Array(Ah),Eh=new Uint32Array(Ah),Fh=new Float32Array(Ah),Gh=new Float64Array(Ah);V.prototype.seek=function(a){this.offset=a},V.prototype.getBytes=function(a){var b=new Uint8Array(this.buffer.buffer,this.offset,a);return this.offset+=a,b},V.prototype.getVarints=function(){var a,b=0,c=0;do{a=this.buffer[this.offset++],b|=(127&a)<<c,c+=7}while(128&a);return b},V.prototype.getUint8=function(){return this.buffer[this.offset++]},V.prototype.getUint16=function(){return Bh[0]=this.buffer[this.offset++],Bh[1]=this.buffer[this.offset++],Ch[0]},V.prototype.getInt16=function(){var a=this.getUint16();return a>32767&&(a|=4294901760),a},V.prototype.getInt32=function(){var a=this.buffer,b=Bh,c=this.offset;return b[0]=a[c],b[1]=a[c+1],b[2]=a[c+2],b[3]=a[c+3],this.offset+=4,Dh[0]},V.prototype.getUint32=function(){var a=this.buffer,b=Bh,c=this.offset;return b[0]=a[c],b[1]=a[c+1],b[2]=a[c+2],b[3]=a[c+3],this.offset+=4,Eh[0]},V.prototype.getFloat32=function(){var a=this.buffer,b=Bh,c=this.offset;return b[0]=a[c],b[1]=a[c+1],b[2]=a[c+2],b[3]=a[c+3],this.offset+=4,Fh[0]},V.prototype.getIndicesArray=function(a,b,c){for(var d=this.buffer,e=new Uint8Array(a,b,2*c),f=this.offset,g=0,h=2*c;g<h;g+=2)e[g]=d[f],e[g+1]=d[f+1],f+=4;this.offset=f},V.prototype.getVector3Array=function(a,b,c,d){var e=this.buffer,f=this.offset,g=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);if(3===d&&0===c){var h=12*b;g.set(e.subarray(f,f+h)),this.offset+=h}else{d*=4;for(var i=4*c,j=0;j<b;j++){for(var k=0;k<12;k++)g[i+k]=e[f++];i+=d}this.offset=f}},V.prototype.getVector2Array=function(a,b,c,d){var e=this.buffer,f=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),g=this.offset;d*=4;for(var h=4*c,i=0;i<b;i++){for(var j=0;j<8;j++)f[h+j]=e[g++];h+=d}this.offset=g},V.prototype.getVector4=function(a,b){for(var c=this.buffer,d=Bh,e=this.offset,f=Fh,g=0;g<4;g++)d[0]=c[e],d[1]=c[e+1],d[2]=c[e+2],d[3]=c[e+3],a[b+g]=f[0],e+=4;this.offset=e},V.prototype.getFloat64=function(){for(var a=this.buffer,b=Bh,c=this.offset,d=0;d<8;d++)b[d]=a[c+d]
;return this.offset+=8,Gh[0]},V.prototype.getString=function(a){var b=P(this.buffer,this.offset,a);return this.offset+=a,b},V.prototype.reset=function(a){this.buffer=a,this.offset=0,this.byteLength=a.length},aa.prototype.getInflate=function(){if(!this.inflate){this.inflate=new xh.Inflate({level:3,chunkSize:this.DECOMPRESSED_chunk_SIZE});var a=this;this.inflate.onData=function(b){a.chunksByteLengthMax+=b.byteLength,a.chunksByteLengthMax<a.offset&&(b=null,a.chunksByteLengthMin=a.chunksByteLengthMax),a.chunks.push(b)},this.inflate.onEnd=function(){if(a.decompressEnd=!0,a.inflate=null,a.chunksByteLengthMax!=a.byteLength)throw"Decompress error, unexpected size."}}return this.inflate},aa.prototype.prepare=function(a,b,c){if(this.chunksByteLengthMin>a&&(this.reset(),this.offset=a,this.range=b),!c){for(var d=Math.floor(a/this.DECOMPRESSED_chunk_SIZE),e=Math.floor(this.chunksByteLengthMin/this.DECOMPRESSED_chunk_SIZE),f=this.chunks.length<d?this.chunks.length:d,g=e;g<f;g++)this.chunks[g]=null;this.chunksByteLengthMin=f*this.DECOMPRESSED_chunk_SIZE}var b=b||1,h=a+b;h=h>this.byteLength?this.byteLength:h;for(var i=!1;h>this.chunksByteLengthMax;){var j=this.COMPRESSED_chunk_SIZE;this.compressedOffset+j>=this.compressedByteLength&&(j=this.compressedByteLength-this.compressedOffset,i=!0);var k=new Uint8Array(this.compressedBuffer.buffer,this.compressedOffset,j);if(this.getInflate().push(k,i),this.compressedOffset+=j,i)break}},aa.prototype.ensurechunkData=function(a){a=a||1;var b=this.chunks.length,c=Math.floor(this.offset/this.DECOMPRESSED_chunk_SIZE),d=Math.floor((this.offset+a-1)/this.DECOMPRESSED_chunk_SIZE);if(d>=b){var e=(d-b+1)*this.DECOMPRESSED_chunk_SIZE;this.prepare(this.DECOMPRESSED_chunk_SIZE*b,e,!0)}if(c<d){if(this.tempchunk.startIdx>c||this.tempchunk.endIdx<d){var f=(d-c+1)*this.DECOMPRESSED_chunk_SIZE;this.tempchunk.buffer=new Uint8Array(f);for(var g=0,h=c;h<=d;h++)this.tempchunk.buffer.set(this.chunks[h],g),g+=this.DECOMPRESSED_chunk_SIZE;this.tempchunk.startIdx=c,this.tempchunk.endIdx=d}this.chunkPointer=this.tempchunk.buffer}else this.chunkPointer=this.chunks[c];this.chunkOffset=this.offset-c*this.DECOMPRESSED_chunk_SIZE,this.offset+=a},aa.prototype.seek=function(a,b,c){this.offset=a,this.range=b,this.prepare(a,b,c)},aa.prototype.getBytes=function(a){return this.ensurechunkData(a),new Uint8Array(this.chunkPointer.buffer,this.chunkOffset,a)},aa.prototype.getVarints=function(){var a,b=0,c=0;do{this.ensurechunkData(),a=this.chunkPointer[this.chunkOffset],b|=(127&a)<<c,c+=7}while(128&a);return b},aa.prototype.getUint8=function(){return this.ensurechunkData(),this.chunkPointer[this.chunkOffset]},aa.prototype.getUint16=function(){return this.ensurechunkData(),this.convUint8[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),this.convUint8[1]=this.chunkPointer[this.chunkOffset],this.convUint16[0]},aa.prototype.getInt16=function(){var a=this.getUint16();return a>32767&&(a|=4294901760),a},aa.prototype.getInt32=function(){var a=this.convUint8;return this.ensurechunkData(),a[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[3]=this.chunkPointer[this.chunkOffset],this.convInt32[0]},aa.prototype.getUint32=function(){var a=this.convUint8;return this.ensurechunkData(),a[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[3]=this.chunkPointer[this.chunkOffset],this.convUint32[0]},aa.prototype.getFloat32=function(){var a=this.convUint8;return this.ensurechunkData(),a[0]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[1]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[2]=this.chunkPointer[this.chunkOffset],this.ensurechunkData(),a[3]=this.chunkPointer[this.chunkOffset],this.convFloat32[0]},aa.prototype.getFloat64=function(){for(var a=this.convUint8,b=0;b<8;b++)this.ensurechunkData(),a[b]=this.chunkPointer[this.chunkOffset];return this.convFloat64[0]},aa.prototype.getString=function(a){var b="";this.ensurechunkData(a);for(var c=this.chunkPointer,d=this.chunkOffset,e=this.chunkOffset+a;d<e;d++)b+=String.fromCharCode(c[d]);var f;try{f=decodeURIComponent(escape(b))}catch(a){f=b,debug("Failed to decode string "+f)}return f},aa.prototype.reset=function(a){this.resetCount++,debug("InputStream Less Reset: "+this.resetCount),a&&(this.compressedBuffer=a,this.compressedByteLength=a.length),this.offset=0,this.chunks=[],this.chunksByteLengthMax=0,this.chunksByteLengthMin=0,this.compressedOffset=0,this.decompressEnd=!1,this.chunkPointer=null,this.chunkOffset=0,this.inflate=null,this.tempchunk.startIdx=0,this.tempchunk.endIdx=0,this.tempchunk.buffer=null};for(var Hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ih=new Uint8Array(256),Jh=0;Jh<Hh.length;Jh++)Ih[Hh.charCodeAt(Jh)]=Jh;var Kh=function(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;b<h;b+=4)c=Ih[a.charCodeAt(b)],d=Ih[a.charCodeAt(b+1)],e=Ih[a.charCodeAt(b+2)],f=Ih[a.charCodeAt(b+3)],k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j};da.prototype.loadManifest=function(a){var b={name:"LMV Manifest",toolkitversion:"LMVTK 2.6.4",manifestversion:2,adskID:{sourceSystem:"",type:"",id:"",version:""},assets:[],typesets:[]};this.manifest=b;var c=this.gltf.buffers;for(var d in c)if("binary_glTF"!==d){var e=c[d];if(0!==e.uri.indexOf("data:application/octet-stream;base64,")){var f={id:d,URI:e.uri,uri:e.uri,usize:e.byteLength,type:e.type};this.manifest.assets.push(f)}else this.loadedBuffers[d]=Kh(e.uri.slice("data:application/octet-stream;base64,".length)),e.uri="embed://"+d}var g=this.gltf.images;for(var h in g){var i=g[h],j={id:h,URI:i.uri,uri:i.uri,name:i.name,type:"image"};this.manifest.assets.push(j)}},da.prototype.loadRemainingSvf=function(a){a.manifest&&(this.manifest=a.manifest),this.manifest.assetMap={};for(var b=0;b<this.manifest.assets.length;b++){var c=this.manifest.assets[b];this.manifest.assetMap[c.id]=c}this.processMeshesList(),this.processMaterialsList(),this.deriveInstanceTree(),a.loadDoneCB("svf");for(var d in this.loadedBuffers)this.loadGeometry(a,d);this.loadBuffers(a)},da.prototype.loadBuffers=function(a){function b(e){if(g<d.length-1){var f=d[g+1],h={responseType:f.type||"arraybuffer"};hg.getItem(a,a.basePath+f.URI,b,a.onFailureCallback,h)}if(e){var i=d[g];c.loadedBuffers[i.id]=e.buffer,c.loadGeometry(a,i.id)}g++}for(var c=this,d=[],e=this.manifest.assets,f=0;f<e.length;f++)"image"!==e[f].type&&d.push(e[f]);var g=-1;b(null)};var Lh={5120:1,5121:1,5122:2,5123:2,5124:4,5125:4,5126:4},Mh={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},Nh=new Float32Array(1),Oh=new Uint8Array(Nh.buffer);da.prototype.loadGeometry=function(a,b){function c(a){var b=f.gltf.accessors[a],c=b.bufferView;if(c){var d=f.gltf.bufferViews[c].buffer;if(d)return!!f.loadedBuffers[d]}return!1}for(var d=this.gltf.buffers[b],e=d.meshes,f=this,g=0;g<e.length;g++)for(var h=this.gltf.meshes[e[g]],i=h.primitives,j=void 0===a.packNormals||a.packNormals,k=0;k<i.length;k++){var l=i[k],h={vblayout:{},vbstride:0,packedNormals:j},m=!0;if(l.indices&&(m=m&&c(l.indices))){var n=f.gltf.accessors[l.indices];h.triangleCount=n.count/3;var o,p,q=n.byteStride,r=2,s=f.gltf.bufferViews[n.bufferView],t=n.byteOffset+s.byteOffset,d=f.loadedBuffers[s.buffer];5123===n.componentType?(p=h.indices=new Uint16Array(n.count),r=2,o=new Uint16Array(d)):5125===n.componentType?(p=h.indices=new Uint32Array(n.count),r=4,o=new Uint32Array(d)):debug("Unimplemented component type for index buffer");var u=t/r;0===q?q=1:q/=r;for(var v=0;v<n.count;v++)p[v]=o[u+v*q]}var w=0;for(var x in l.attributes){m=m&&c(l.attributes[x]);var y=f.gltf.accessors[l.attributes[x]];if(m)if("NORMAL"===x)h.vbstride+=j?1:3,h.vblayout.normal={offset:w,itemSize:j?2:3,bytesPerItem:j?2:4,normalize:j},w+=j?1:3;else{var z=x;if("POSITION"===x)z="position",h.vertexCount=y.count;else if(0===x.indexOf("TEXCOORD")){var A=parseInt(x.split("_")[1]);z="uv"+(A||"")}else 0===x.indexOf("COLOR")&&(z="color");var B=Lh[y.componentType]*Mh[y.type];h.vbstride+=B/4,h.vblayout[z]={offset:w,itemSize:Mh[y.type],bytesPerItem:Lh[y.componentType],normalize:!1},w+=B/4}}if(m){var C,D=h.vb=new Float32Array(h.vertexCount*h.vbstride);j&&(C=new Uint16Array(h.vb.buffer));for(var x in l.attributes){var y=f.gltf.accessors[l.attributes[x]],s=f.gltf.bufferViews[y.bufferView],t=y.byteOffset+s.byteOffset,E=new Uint8Array(f.loadedBuffers[s.buffer]);if("NORMAL"===x){var F=h.vblayout.normal;y.count!=h.vertexCount&&debug("Normals count does not equal vertex count");for(var q=0!==y.byteStride?y.byteStride:M*Mh[y.type],G=t,w=F.offset,v=0;v<h.vertexCount;v++,w+=h.vbstride){var H=ea(E,G),I=ea(E,G+4),J=ea(E,G+8);if(C){var K=.5*(Math.atan2(I,H)/Math.PI+1),L=.5*(J+1);C[2*w]=65535*K|0,C[2*w+1]=65535*L|0}else D[w]=H,D[w+1]=I,D[w+2]=J;G+=q}}else{var z=x;if("POSITION"===x)z="position",h.vertexCount=y.count;else if(0===x.indexOf("TEXCOORD")){var A=parseInt(x.split("_")[1]);z="uv"+(A||"")}else 0===x.indexOf("COLOR")&&(z="color");for(var F=h.vblayout[z],M=Lh[y.componentType],q=0!==y.byteStride?y.byteStride:M*Mh[y.type],o=new Uint8Array(E),p=new Uint8Array(D.buffer,4*F.offset),G=t,w=0,v=0;v<h.vertexCount;v++){for(var N=0;N<F.itemSize*M;N++)p[w+N]=o[G+N];w+=h.vbstride*M,G+=q}}var O=f.gltf.buffers[s.buffer];O.refCount--,0===O.refCount&&delete f.loadedBuffers[s.buffer]}f.geomsLoaded++,yh.computeBounds3D(h),a.loadDoneCB("mesh",{mesh:h,packId:e[g],meshIndex:k,progress:f.geomsLoaded/f.geomList.length})}}d.meshes=null},da.prototype.processMaterialsList=function(){var a=this.gltf.materials;for(var b in a){var c=this.materialList.length;this.materialToIndex[b]=c,this.gltfMaterials.materials[c]=a[b],this.materialList.push(b)}},da.prototype.processMeshesList=function(){function a(a){var b=c.gltf.accessors[a],e=b.bufferView;if(e){var g=c.gltf.bufferViews[e].buffer;if(g){var h=c.gltf.buffers[g];h.refCount?h.refCount++:h.refCount=1,h.meshes||(h.meshes=[]),f||(h.meshes.push(d),f=!0)}}}var b=this.gltf.meshes,c=this;for(var d in b)for(var e=b[d],f=!1,g=0;g<e.primitives.length;g++){var h=d+":"+g;this.geomToIndex[h]=this.geomList.length,this.geomList.push(h);var i=e.primitives[g];i.indices&&a(i.indices);for(var j in i.attributes)a(i.attributes[j])}this.numGeoms=this.geomList.length},da.prototype.countFragments=function(){function a(b){var c=b.meshes;if(b.meshes)for(var g=0;g<c.length;g++)for(var h=f.gltf.meshes[c[g]].primitives,i=0;i<h.length;i++)e++;var j=b.children||b.nodes;if(j)for(var k=0;k<j.length;k++){var l=d[j[k]];a(l)}}var b=this.gltf.scene,c=this.gltf.scenes[b],d=this.gltf.nodes,e=0,f=this;a(c),this.fragments.length=e,this.fragments.boxes=new Float32Array(6*e),this.fragments.transforms=new Float32Array(12*e),this.fragments.materials=new Int32Array(e),this.fragments.entityIndexes=new Int32Array(e),this.fragments.fragId2dbId=new Int32Array(e),this.fragments.packIds=new Int32Array(e)},da.prototype.deriveInstanceTree=function(){function a(b,c,j,k){k>f&&(f=k);var l=j.clone();if(c.matrix){var m=new Jg(!0);m.fromArray(c.matrix),l.multiply(m)}else{var n=c.translation,o=c.rotation,p=c.scale;if(void 0!==n||void 0!==o||void 0!==p){var q=function(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.w=d||0},r=n?new og(n[0],n[1],n[2]):new og,s=o?new q(o[0],o[1],o[2],o[3]):new q,t=p?new og(p[0],p[1],p[2]):new og(1,1,1),m=new Jg(!0);m.compose(r,s,t),l.multiply(m)}}var u=new Kg,v=c.meshes;if(c.meshes){b.fragIds=[];for(var w=0;w<v.length;w++)for(var x=g.gltf.meshes[v[w]].primitives,y=0;y<x.length;y++){var z=v[w]+":"+y,A=g.nextFragId++;b.fragIds.push(A),h.fragId2dbId[A]=b.dbId,h.entityIndexes[A]=g.geomToIndex[z],h.mesh2frag[z]?h.mesh2frag[z].push(A):h.mesh2frag[z]=[A],h.materials[A]=g.materialToIndex[x[y].material];var B=12*A,C=l.elements,D=h.transforms;D[B]=C[0],D[B+1]=C[1],D[B+2]=C[2],D[B+3]=C[4],D[B+4]=C[5],D[B+5]=C[6],D[B+6]=C[8],D[B+7]=C[9],D[B+8]=C[10],D[B+9]=C[12],D[B+10]=C[13],D[B+11]=C[14];var E=x[y].attributes.POSITION;if(E){var F=g.gltf.accessors[E];F.min&&F.max?(i.min.x=F.min[0],i.min.y=F.min[1],i.min.z=F.min[2],i.max.x=F.max[0],i.max.y=F.max[1],i.max.z=F.max[2]):(i.min.x=-.5,i.min.y=-.5,i.min.z=-.5,i.max.x=.5,i.max.y=.5,i.max.z=.5,debug("unknown bbox for mesh, using unit box",v[w])),i.applyMatrix4(l),B=6*A;var G=h.boxes;G[B]=i.min.x,G[B+1]=i.min.y,G[B+2]=i.min.z,G[B+3]=i.max.x,G[B+4]=i.max.y,G[B+5]=i.max.z,u.union(i)}}}var H=c.children||c.nodes;if(H){b.children=[];for(var I=0;I<H.length;I++){var J=d[H[I]],K={name:J.name||H[I],dbId:g.nextDbId++};g.nodeToDbId[H[I]]=K.dbId,b.children.push(K);var L=a(K,J,l,k+1);u.union(L)}}var M=6*b.dbId,G=e;return G[M]=u.min.x,G[M+1]=u.min.y,G[M+2]=u.min.z,G[M+3]=u.max.x,G[M+4]=u.max.y,G[M+5]=u.max.z,u}this.countFragments();var b=this.gltf.scene,c=this.gltf.scenes[b],d=this.gltf.nodes;this.instanceTree={name:b,dbId:this.nextDbId++,children:[]},this.nodeToDbId[b]=this.instanceTree.dbId;var e=[],f=1,g=this,h=this.fragments,i=new Kg,j=a(this.instanceTree,c,new Jg(!0),1);g.bbox.union(j),this.instanceBoxes=new Float32Array(e.length),this.instanceBoxes.set(e),this.objectCount=this.nextDbId,this.maxTreeDepth=f};var Ph=(_f(),null),Qh=new Float32Array(3),Rh=1/Math.PI,Sh=function(a,b,c,d,e){var f,g={x:b[a*d],y:b[a*d+1],z:b[a*d+2]},h={x:g.x-b[a*e],y:g.y-b[a*e+1],z:g.z-b[a*e+2]},i=c[d].next==e?c[d].prev:c[d].next;return f=i<0?{x:h.x,y:h.y,z:h.z}:{x:b[a*i]-g.x,y:b[a*i+1]-g.y,z:b[a*i+2]-g.z},{pos:g,next:h,prev:f}},Th=function(a,b,c,d,e){e=a.vbstride,a.vblayout.prev={offset:e,itemSize:3},e+=3,a.vblayout.next={offset:e,itemSize:3},e+=3,a.vblayout.side={offset:e,itemSize:1},a.vbstride+=7;var f,g,h,i,j,k=a.lineWidth,l=0,m=new Array(a.vertexCount);for(f=0;f<a.vertexCount;++f)m[f]={prev:-1,next:-1,prev_seg:-1};for(g=0;g<d;++g)h=2*g,i=a.indices[h],j=a.indices[h+1],m[i].next=j,m[i].prev>=0&&++l,m[j].prev=i,m[j].prev_seg=g,m[j].next>=0&&++l;var n=2*d,o=new Array(n),p=new Uint16Array(6*(d+l)),q=0;for(g=0;g<d;++g)h=2*g,i=a.indices[h],j=a.indices[h+1],o[h]=Sh(b,c,m,i,j),o[h+1]=Sh(b,c,m,j,i),i=h,j=h+1,p[q++]=2*i+1,p[q++]=2*j,p[q++]=2*i,p[q++]=2*j,p[q++]=2*j+1,p[q++]=2*i,i=a.indices[h],m[i].prev>=0&&(j=2*m[i].prev_seg+1,i=h,p[q++]=2*j,p[q++]=2*i,p[q++]=2*j+1,p[q++]=2*i+1,p[q++]=2*i,p[q++]=2*j);a.indices=p;var r=2*n;a.vb=new Float32Array(r*a.vbstride),e=a.vblayout.position.offset;for(var s=0;s<n;++s)for(var t=0;t<2;++t)a.vb[e]=o[s].pos.x,a.vb[e+1]=o[s].pos.y,a.vb[e+2]=o[s].pos.z,e+=b,a.vb[e]=o[s].prev.x,a.vb[e+1]=o[s].prev.y,a.vb[e+2]=o[s].prev.z,e+=3,a.vb[e]=o[s].next.x,a.vb[e+1]=o[s].next.y,a.vb[e+2]=o[s].next.z,e+=3,a.vb[e]=t?-k:k,e+=1;a.vertexCount=r,a.isWideLines=!0},Uh=function(a,b,c,d,e){if("OCTM"!=a.getString(4))return null;if(5!=a.getInt32())return null;var f=a.getString(3);a.getUint8();var g={stream:null,vertices:null,indices:null,normals:null,colors:null,uvs:[],attrs:[]};g.vertexCount=a.getInt32(),g.triangleCount=a.getInt32(),g.texMapCount=a.getInt32(),g.attribMapCount=a.getInt32(),g.flags=a.getInt32(),g.comment=function(){return a.getString(a.getInt32())}();var h=e;g.vbstride=3,1&g.flags&&(g.vbstride+=h?1:3),g.vbstride+=2*(g.texMapCount||0),g.vbstride+=3*(g.attribMapCount||0),g.vblayout={};var i=0;if(g.vblayout.position={offset:i,itemSize:3},i+=3,1&g.flags&&(g.vblayout.normal={offset:i,itemSize:h?2:3,bytesPerItem:h?2:4,normalize:h},i+=h?1:3),g.texMapCount)for(var j=0;j<g.texMapCount;j++){var k="uv";j&&(k+=(j+1).toString()),g.vblayout[k]={offset:i,itemSize:2},i+=2}return"RAW"==f?(na(a,g,b,c,d),d||(yh.deduceUVRepetition(g),yh.computeBounds3D(g)),g):"MG2"==f?(debug("readOpenCTM_MG2(stream, mesh, dstBuffer, startOffset, estimateSizeOnly) not supported"),d||(yh.deduceUVRepetition(g),yh.computeBounds3D(g)),g):null},Vh=function(a,b,c,d){if(c)return null;var e,f={vertices:null,indices:null,colors:null,normals:null,uvs:[],attrs:[],lineWidth:1};if(d){var g;b.version>1?(f.vertexCount=a.readU16(),e=a.readU16(),g=a.readU16(),b.version>2&&(f.lineWidth=a.readF32())):(f.vertexCount=a.readU32V(),e=a.readU32V(),g=a.readU32V()),f.isLines=!0}else f.vertexCount=a.readU16(),e=a.readU16(),f.pointSize=a.readF32(),f.isPoints=!0;var h=0!=a.stream.getUint8();f.vbstride=3,h&&(f.vbstride+=3),f.vblayout={};var i=0;f.vblayout.position={offset:i,itemSize:3},i+=3,h&&(f.vblayout.color={offset:i,itemSize:3}),f.vb=new Float32Array(f.vertexCount*f.vbstride);var j=f.vb,k=f.vbstride,l=a.stream;l.getVector3Array(j,f.vertexCount,f.vblayout.position.offset,k);var m,n;if(h)for(m=0,i=f.vblayout.color.offset,n=f.vertexCount;m<n;m++,i+=k)j[i]=l.getFloat32(),j[i+1]=l.getFloat32(),j[i+2]=l.getFloat32(),l.getFloat32();var o=function(a){return a.buffer.slice(a.byteOffset,a.byteOffset+a.length)};if(d){var p,q;b.version>1?(p=new Uint16Array(o(l.getBytes(2*e))),q=new Uint16Array(o(l.getBytes(2*g)))):(p=new Int32Array(o(l.getBytes(4*e))),q=new Int32Array(o(l.getBytes(4*g))));var r=q[g-1]-g+1;f.indices=new Uint16Array(2*r);for(var s=0,t=0;t+1<g;t++)for(var u=q[t];u+1<q[t+1];u++)f.indices[s++]=p[u],f.indices[s++]=p[u+1]}else f.indices=new Uint16Array(o(l.getBytes(2*e)));return 1!=f.lineWidth&&Th(f,k,j,r,i),yh.computeBounds3D(f),f},Wh=function(a,b,c){return Vh(a,b,c,!0)},Xh=function(a,b,c){return Vh(a,b,c,!1)},Yh={NT_Inner:0,NT_Geometry:1,NT_Camera:2,NT_Light:3};ya.prototype.readVarint=function(){var a,b=0,c=0;do{a=this.stream.getUint8(),b|=(127&a)<<c,c+=7}while(128&a);return b},ya.prototype.readU32V=ya.prototype.readVarint,ya.prototype.readU16=function(){return this.stream.getUint16()},ya.prototype.readU8=function(){return this.stream.getUint8()},ya.prototype.readString=function(){return this.stream.getString(this.readU32V())},ya.prototype.readVector3f=function(){var a=this.stream;return{x:a.getFloat32(),y:a.getFloat32(),z:a.getFloat32()}},ya.prototype.readF32=function(){return this.stream.getFloat32()},ya.prototype.readVector3d=function(){var a={x:0,y:0,z:0};return function(){var b=this.stream;return a.x=b.getFloat64(),a.y=b.getFloat64(),a.z=b.getFloat64(),a}}(),ya.prototype.readQuaternionf=function(){var a={x:0,y:0,z:0,w:0};return function(){var b=this.stream;return a.x=b.getFloat32(),a.y=b.getFloat32(),a.z=b.getFloat32(),a.w=b.getFloat32(),a}}(),ya.prototype.readMatrix3f=function(){var a=new Jg;return function(b){b||(b=a);var c=this.stream;b.identity();for(var d=0;d<3;++d)for(var e=0;e<3;++e)b.elements[4*d+e]=c.getFloat32();return b}}(),ya.prototype.readTransform=function(){var a={x:1,y:1,z:1},b=new Jg(!0);return function(c,d,e,f,g,h){var i,j,k=this.stream;switch(k.getUint8()){case 4:b.identity();break;case 0:i=this.readVector3d(),b.makeTranslation(i.x,i.y,i.z);break;case 1:j=this.readQuaternionf(),i=this.readVector3d(),a.x=1,a.y=1,a.z=1,b.compose(i,j,a);break;case 2:var l=k.getFloat32();j=this.readQuaternionf(),i=this.readVector3d(),a.x=l,a.y=l,a.z=l,b.compose(i,j,a);break;case 3:this.readMatrix3f(b),i=this.readVector3d(),b.setPosition(i)}if(h&&(h[0]=b.elements[12],h[1]=b.elements[13],h[2]=b.elements[14]),f&&b.multiplyMatrices(f,b),g&&(b.elements[12]-=g.x,b.elements[13]-=g.y,b.elements[14]-=g.z),void 0===c)return(new Jg).copy(b);var m=b.elements;d&&(d[e+0]=m[0],d[e+1]=m[1],d[e+2]=m[2],d[e+3]=m[4],d[e+4]=m[5],d[e+5]=m[6],d[e+6]=m[8],d[e+7]=m[9],d[e+8]=m[10],d[e+9]=m[12],d[e+10]=m[13],d[e+11]=m[14])}}(),ya.prototype.getEntryCounts=function(){return this.entryOffsets.length},ya.prototype.seekToEntry=function(a){if(a>=this.getEntryCounts())return null;this.stream.seek(this.entryOffsets[a]);var b=this.stream.getUint32();return b>=this.types.length?null:this.types[b]},ya.prototype.readPathID=function(){var a=this.stream;if(this.version<2){var b=a.getUint16();if(!b)return null;if(a.getUint16(),1==b)return"";for(var c=a.getUint16(),d=2;d<b;++d)c+="/"+a.getUint16()}else{var b=this.readU32V();if(!b)return null;if(this.readU32V(),1==b)return"";for(var c=this.readU32V(),d=2;d<b;++d)c+="/"+this.readU32V()}return c},za.prototype=Object.create(ya.prototype),Aa.prototype.loadAsyncResource=function(a,b,c,d){function e(b){f.pendingRequests--,d(b),0==f.pendingRequests&&f.postLoad(a)}if(c)return void d(c);var f=this;this.pendingRequests++,hg.getItem(a,a.basePath+b,e,a.onFailureCallback,{asynchronous:!0})},Aa.prototype.loadManifest=function(a){var b=this.unzip.decompress("manifest.json");if(!b)return!1;var c=new V(b);this.manifest=JSON.parse(c.getString(b.byteLength))},Aa.prototype.parseFragmentList=function(a,b,c,d){var e=this;this.loadAsyncResource(b,c,d,function(a){var c=new ya(a);ka(c,e.fragments=new ga,e.globalOffset,b.placementTransform),c=null})},Aa.prototype.parseGeometryMetadata=function(a,b,c,d){var e=this;this.loadAsyncResource(b,c,d,function(a){var b=new ya(a);e.geomMetadata={},ia(b,e.geomMetadata),e.numGeoms=e.geomMetadata.primCounts.length})},Aa.prototype.parseInstanceTree=function(a,b,c,d){var e=this;this.loadAsyncResource(a,b,c,function(a){var b=new ya(a);e.instanceTransforms=qa(b,d)})},Aa.prototype.loadRemainingSvf=function(a){var b=this,c=this.unzip;this.manifest=a.manifest;var d=this.manifest,e=d.assets,f=c.decompress("metadata.json"),g=new V(f);f.byteLength>3&&0!==f[3]&&(this.metadata=JSON.parse(g.getString(f.byteLength)).metadata,Z(this,a)),this.packFileTotalSize=0,this.primitiveCount=0;for(var h=d.typesets,i={},j=0;j<h.length;j++){var k=h[j];i[k.id]=k.types}for(var j=0;j<e.length;j++){var l=e[j];if(!_f()||"Set.bin"!==l.id){var m=l.type;0==m.indexOf("Autodesk.CloudPlatform.")&&(m=m.substr(23));var n=l.URI,o=l.typeset?i[l.typeset]:null,p=l.usize||0,q=Math.round(p/1048576*1e5)/1e5|0;if(0!=n.indexOf("embed:/"))if("PackFile"==m){var r=o?o[0].class:null;"Autodesk.CloudPlatform.Geometry"==r&&(this.packFileTotalSize+=p,this.geompacks.push({id:l.id,uri:n,usize:p}))}else"PropertyAttributes"==m?this.propertydb.attrs.push(n):"PropertyAVs"==m?this.propertydb.avs.push(n):"PropertyIDs"==m?this.propertydb.ids.push(n):"PropertyOffsets"==m?this.propertydb.offsets.push(n):"PropertyValues"==m&&this.propertydb.values.push(n);var s=l.URI,t=null;if(0==s.indexOf("embed:/")&&(s=s.substr(7),t=c.decompress(s)),"ProteinMaterials"==m)-1==s.indexOf("Protein")?this.loadAsyncResource(a,s,t,function(a){var c=new V(a),d=a.byteLength;b.materials=0<d?JSON.parse(c.getString(d)):null}):this.loadAsyncResource(a,s,t,function(a){var c=new V(a),d=a.byteLength;b.proteinMaterials=0<d?JSON.parse(c.getString(d)):null});else if("FragmentList"==m)this.parseFragmentList(l,a,s,t);else if("GeometryMetadataList"==m)this.parseGeometryMetadata(l,a,s,t);else if("PackFile"==m)-1!=s.indexOf("CameraDefinitions.bin")?this.loadAsyncResource(a,s,t,function(a){b.camDefPack=new ya(a)}):-1!=s.indexOf("CameraList.bin")?this.loadAsyncResource(a,s,t,function(a){b.camInstPack=new ya(a)}):-1!=s.indexOf("LightDefinitions.bin")?this.loadAsyncResource(a,s,t,function(a){b.lightDefPack=new ya(a)}):-1!=s.indexOf("LightList.bin")&&this.loadAsyncResource(a,s,t,function(a){b.lightInstPack=new ya(a)});else if("Animations"==m)this.loadAsyncResource(a,s,t,function(a){var c=new V(a),d=a.byteLength;0<d?(b.animations=JSON.parse(c.getString(d)),_(b)):b.animations=null});else if("Topology"==m)b.topologyPath=a.basePath+s,b.topologySizeMB=q;else if(a.loadInstanceTree&&("InstanceTree"==m||"InstanceTreeTree"==m)){var u=o?o[0].version:1;this.parseInstanceTree(a,s,t,u)}}}0==this.pendingRequests&&this.postLoad(a),delete this.unzip},Aa.prototype.addTransparencyFlagsToMaterials=function(a){for(var b in a){var c=a[b],d=c.userassets,e=c.materials,f=e[d[0]];c.transparent=f.transparent}},Aa.prototype.postLoadOfCam=function(a){if(this.camDefPack&&this.camInstPack){for(var b=0,c=this.camInstPack.getEntryCounts();b<c;b++){var d=pa(this.camInstPack,b,this.placementTransform,this.globalOffset),e=fa(this.camDefPack,d);d.transform&&(d.transform.transformPoint(e.position),d.transform.transformPoint(e.target),d.transform.transformDirection(e.up)),this.cameras.push(e)}delete this.camDefPack,delete this.camInstPack}},Aa.prototype.postLoadOfLight=function(a){if(this.lightDefPack&&this.lightInstPack){for(var b=0,c=this.lightInstPack.getEntryCounts();b<c;b++){var d=pa(this.lightInstPack,b,this.placementTransform,this.globalOffset);this.lights.push(ra(this.lightDefPack,d.definition))}delete this.lightInstPack,delete this.lightDefPack}},Aa.prototype.postLoadOfFragments=function(a){var b=this.fragments;if(this.geomMetadata){b.polygonCounts=b.geomDataIndexes;var c=this.geomMetadata;void 0!=c.topoIndexes&&(b.topoIndexes=new Int32Array(b.length));for(var d=0,e=b.length;d<e;d++){var f=b.geomDataIndexes[d];b.entityIndexes[d]=c.entityIndexes[f],b.packIds[d]=c.packIds[f],b.polygonCounts[d]=c.primCounts[f],this.primitiveCount+=c.primCounts[f],void 0!=c.topoIndexes&&(b.topoIndexes[d]=c.topoIndexes[f])}b.geomDataIndexes=null,this.geomMetadata=null}this.calculateMesh2Frag(b),this.max_pf_files>0&&this.geompacks.length>this.max_pf_files&&this.geompacks.splice(this.max_pf_files,this.geompacks.length-this.max_pf_files)},Aa.prototype.calculateMesh2Frag=function(a){for(var b=a.mesh2frag={},c=a.packIds,d=a.entityIndexes,e=0,f=a.length;e<f;e++){var g=c[e]+":"+d[e],h=b[g];void 0===h?b[g]=e:Array.isArray(h)?h.push(e):b[g]=[h,e]}},Aa.prototype.postLoadOfBBox=function(a){if(!this.bbox||a.placementTransform){this.bbox&&a.placementTransform&&(this.modelBox=this.bbox);for(var b=[1/0,1/0,1/0,-1/0,-1/0,-1/0],c=this.fragments,d=c.boxes,e=0,f=c.length;e<f;e++){var g,h=6*e;for(g=0;g<3;g++)d[h+g]<b[g]&&(b[g]=d[h+g]);for(g=3;g<6;g++)d[h+g]>b[g]&&(b[g]=d[h+g])}this.bbox={min:{x:b[0],y:b[1],z:b[2]},max:{x:b[3],y:b[4],z:b[5]}}}},Aa.prototype.postLoadOfObjectIds=function(a){var b=a.objectIds;if(null!=b){for(var c=[],d=[],e=0;e<b.length;++e)for(var f=0;f<this.fragments.length;++f)this.fragments.fragId2dbId[f]==b[e]&&(c.push(this.fragments.packIds[f]),d.push(f));for(var g=1,h=c.length,e=1;e<h;){for(;e<h&&c[e]==c[e-1];)++e;if(h==e)break;c[g++]=c[e++]}c.splice(g-1,h-g);for(var i=[],e=0;e<this.geompacks.length;++e)for(var f=0;f<c.length;++f)parseInt(this.geompacks[e].id)==c[f]&&i.push(this.geompacks[e]);this.geompacks=i;var j=la(this.fragments,d);this.bbox={min:{x:j[0],y:j[1],z:j[2]},max:{x:j[3],y:j[4],z:j[5]}}}},Aa.prototype.postLoadComplete=function(a){if(a.loadDoneCB("svf"),this.fragments.polygonCounts){var b=performance.now(),c=this.materials?this.materials.materials:null;c&&this.addTransparencyFlagsToMaterials(c),this.bvh=new z(this.fragments,c),this.bvh.build(a.bvhOptions);var d=performance.now();a.worker.debug("BVH build time (worker thread):"+(d-b)),a.loadDoneCB("bvh")}a.loadDoneCB("done")},Aa.prototype.postLoad=function(a){this.postLoadOfCam(a),this.postLoadOfLight(a),this.postLoadOfFragments(a),this.postLoadOfBBox(a),this.postLoadOfObjectIds(a),this.postLoadComplete(a)};var Zh=_f()?6291456:33554432;Ba.prototype=Object.create(Aa.prototype),Ba.prototype.constructor=Ba,Ba.prototype.loadAsyncResource=function(a,b,c,d,e){function f(b){g.pendingRequests--,d(b),0==g.pendingRequests&&g.postLoad(a)}if(c)return void d(c);var g=this;this.pendingRequests++,hg.getItem(a,a.basePath+b,f,a.onFailureCallback,{asynchronous:!0,skipDecompress:e})},Ba.prototype.parseFragmentList=function(a,b,c,d){this.memoryOptimizedMode=b.perfOpt.forceMemoryOptimizedMode||a.size>Zh,debug("PackageLess: memory optimized mode: "+this.memoryOptimizedMode);var e=this;if(this.loadAsyncResource(b,c,d,function(c){var d=a.usize,f=new za(c,d);ka(f,e.fragments=new ga,e.globalOffset,b.placementTransform,b.objectIds),f=null,e.memoryOptimizedMode&&e.pendingGeometryMetadataLoad.path&&e.loadAsyncResource(b,e.pendingGeometryMetadataLoad.path,e.pendingGeometryMetadataLoad.contents,function(a){var b=new za(a,e.pendingGeometryMetadataLoad.usize);debug("PackageLess: read geometry metadata into fragment directly."),e.primitiveCount=ha(b,e.fragments),e.numGeoms=b.getEntryCounts(),b=null,e.pendingGeometryMetadataLoad.contents=null},e.memoryOptimizedMode)},e.memoryOptimizedMode),!this.memoryOptimizedMode&&this.pendingGeometryMetadataLoad.path){var c=this.pendingGeometryMetadataLoad.path,d=this.pendingGeometryMetadataLoad.contents;this.pendingGeometryMetadataLoad={},debug("PackageLess: read geometry metadata as usual."),Aa.prototype.parseGeometryMetadata.call(this,null,b,c,d)}},Ba.prototype.parseGeometryMetadata=function(a,b,c,d){var e=a.usize;if(this.fragments){var f=this;this.loadAsyncResource(b,c,d,function(a){var b=new za(a,e);f.primitiveCount=ha(b,f.fragments),f.numGeoms=b.getEntryCounts(),b=null},f.memoryOptimizedMode)}else this.pendingGeometryMetadataLoad.path=c,this.pendingGeometryMetadataLoad.contents=d,this.pendingGeometryMetadataLoad.usize=e},Ba.prototype.postLoadOfFragments=function(a){this.memoryOptimizedMode?this.fragments.mesh2frag||this.calculateMesh2Frag(this.fragments):Aa.prototype.postLoadOfFragments.call(this,a)},Ba.prototype.postLoadOfObjectIds=function(a){if(this.memoryOptimizedMode){if(a.objectIds&&a.objectIds.length>0){var b=this.geompacks.length,c=this.fragments,d=0,e=new Int8Array(b);for(d=0;d<c.packIds.length;d++)e[c.packIds[d]]=15;var f=0;for(d=0;d<e.length;d++)15===e[d]&&(this.geompacks[f]=this.geompacks[d],f++);f<b&&this.geompacks.splice(f,b-f)}}else Aa.prototype.postLoadOfObjectIds.call(this,a)},Ba.prototype.postLoadComplete=function(a){if(this.memoryOptimizedMode){if(this.fragments.polygonCounts){var b=performance.now(),c=this.materials?this.materials.materials:null;c&&this.addTransparencyFlagsToMaterials(c),this.bvh=new z(this.fragments,c),this.bvh.build(a.bvhOptions);var d=performance.now();a.worker.debug("BVH build time (worker thread):"+(d-b))}a.loadDoneCB("svf"),a.loadDoneCB("done")}else Aa.prototype.postLoadComplete.call(this,a)},ng.register("LOAD_SVF",{doOperation:Ea}),ng.register("LOAD_SVF_CONTD",{doOperation:Da}),ng.register("FETCH_TOPOLOGY",{doOperation:Fa}),ng.register("LOAD_GEOMETRY",{doOperation:Ha});var $h=6;ng.register("CALCULATE_LOAD_ORDER",{doOperation:Ma}),ng.register("BUILD_EXTERNAL_ID_MAPPING",{doOperation:Wa}),ng.register("GET_PROPERTIES",{doOperation:Va}),ng.register("SEARCH_PROPERTIES",{doOperation:Sa}),ng.register("FIND_PROPERTY",{doOperation:Ta}),ng.register("FIND_LAYERS",{doOperation:Ua}),ng.register("LOAD_PROPERTYDB",{doOperation:Ra}),ng.register("UNLOAD_PROPERTYDB",{doOperation:Xa}),ng.register("DECODE_ENVMAP",{doOperation:Ya});var _h={};Za(fg),Za(uh),Za(wh),a.FrustumIntersector=Ig,a.OUTSIDE=0,a.INTERSECTS=1,a.CONTAINS=2,a.CONTAINMENT_UNKNOWN=-1,a.setLogger=f,a.ViewingService=hg,a.errorCodeString=h,a.getErrorCode=i,a.LmvVector3=og,a.LmvMatrix4=Jg,a.LmvBox3=Kg,a.DecodeEnvMap=Tg,a.getTransferables=t,a.DecodeEnvMapAsync=Wg,a.Zlib=_h,a.workerMain=ng,a.InstanceTreeStorage=u,a.InstanceTreeAccess=w,a.BVHBuilder=z,a.NodeArray=x,a.GeomMergeTask=B,a.VertexEnumerator=oh,a.DeriveTopology=sh,a.pako=xh,a.VBUtils=yh,a.InputStream=V,a.derivePlacementTransform=Y,a.initPlacement=Z,a.transformAnimations=_,a.InputStreamLess=aa,a.PropertyDatabase=ba,a.utf8ArrayToString=P,a.blobToJson=Q,a.subBlobToJson=R,a.subBlobToJsonInt=S,a.parseIntArray=T,a.findValueOffsets=U,a.GltfPackage=da,a.readCameraDefinition=fa,a.FragList=ga,a.readGeometryMetadataIntoFragments=ha,a.readGeometryMetadata=ia,a.readFragments=ka,a.filterFragments=la,a.readGeometry=oa,a.readInstance=pa,a.readInstanceTree=qa,a.readLightDefinition=ra,a.readOpenCTM_MG2=xa,a.PackFileReader=ya,a.PackFileReaderLess=za,a.Package=Aa,a.PackageLess=Ba,Object.defineProperty(a,"__esModule",{value:!0})})},function(a,b){a.exports=require("xhr2")},function(a,b){a.exports=require("fs")},function(a,b,c){(function(a,d){function e(b,c,d){function e(){for(var a;null!==(a=b.read());)h.push(a),i+=a.length;b.once("readable",e)}function f(a){b.removeListener("end",g),b.removeListener("readable",e),d(a)}function g(){var c=a.concat(h,i);h=[],d(null,c),b.close()}var h=[],i=0;b.on("error",f),b.on("end",g),b.end(c),e()}function f(b,c){if("string"==typeof c&&(c=new a(c)),!a.isBuffer(c))throw new TypeError("Not a string or buffer");var d=p.Z_FINISH;return b._processChunk(c,d)}function g(a){if(!(this instanceof g))return new g(a);n.call(this,a,p.DEFLATE)}
function h(a){if(!(this instanceof h))return new h(a);n.call(this,a,p.INFLATE)}function i(a){if(!(this instanceof i))return new i(a);n.call(this,a,p.GZIP)}function j(a){if(!(this instanceof j))return new j(a);n.call(this,a,p.GUNZIP)}function k(a){if(!(this instanceof k))return new k(a);n.call(this,a,p.DEFLATERAW)}function l(a){if(!(this instanceof l))return new l(a);n.call(this,a,p.INFLATERAW)}function m(a){if(!(this instanceof m))return new m(a);n.call(this,a,p.UNZIP)}function n(c,d){if(this._opts=c=c||{},this._chunkSize=c.chunkSize||b.Z_DEFAULT_CHUNK,o.call(this,c),c.flush&&c.flush!==p.Z_NO_FLUSH&&c.flush!==p.Z_PARTIAL_FLUSH&&c.flush!==p.Z_SYNC_FLUSH&&c.flush!==p.Z_FULL_FLUSH&&c.flush!==p.Z_FINISH&&c.flush!==p.Z_BLOCK)throw new Error("Invalid flush flag: "+c.flush);if(this._flushFlag=c.flush||p.Z_NO_FLUSH,c.chunkSize&&(c.chunkSize<b.Z_MIN_CHUNK||c.chunkSize>b.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+c.chunkSize);if(c.windowBits&&(c.windowBits<b.Z_MIN_WINDOWBITS||c.windowBits>b.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+c.windowBits);if(c.level&&(c.level<b.Z_MIN_LEVEL||c.level>b.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+c.level);if(c.memLevel&&(c.memLevel<b.Z_MIN_MEMLEVEL||c.memLevel>b.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+c.memLevel);if(c.strategy&&c.strategy!=b.Z_FILTERED&&c.strategy!=b.Z_HUFFMAN_ONLY&&c.strategy!=b.Z_RLE&&c.strategy!=b.Z_FIXED&&c.strategy!=b.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+c.strategy);if(c.dictionary&&!a.isBuffer(c.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new p.Zlib(d);var e=this;this._hadError=!1,this._binding.onerror=function(a,c){e._binding=null,e._hadError=!0;var d=new Error(a);d.errno=c,d.code=b.codes[c],e.emit("error",d)};var f=b.Z_DEFAULT_COMPRESSION;"number"==typeof c.level&&(f=c.level);var g=b.Z_DEFAULT_STRATEGY;"number"==typeof c.strategy&&(g=c.strategy),this._binding.init(c.windowBits||b.Z_DEFAULT_WINDOWBITS,f,c.memLevel||b.Z_DEFAULT_MEMLEVEL,g,c.dictionary),this._buffer=new a(this._chunkSize),this._offset=0,this._closed=!1,this._level=f,this._strategy=g,this.once("end",this.close)}var o=c(9),p=c(30),q=c(42),r=c(44).ok;p.Z_MIN_WINDOWBITS=8,p.Z_MAX_WINDOWBITS=15,p.Z_DEFAULT_WINDOWBITS=15,p.Z_MIN_CHUNK=64,p.Z_MAX_CHUNK=1/0,p.Z_DEFAULT_CHUNK=16384,p.Z_MIN_MEMLEVEL=1,p.Z_MAX_MEMLEVEL=9,p.Z_DEFAULT_MEMLEVEL=8,p.Z_MIN_LEVEL=-1,p.Z_MAX_LEVEL=9,p.Z_DEFAULT_LEVEL=p.Z_DEFAULT_COMPRESSION,Object.keys(p).forEach(function(a){a.match(/^Z/)&&(b[a]=p[a])}),b.codes={Z_OK:p.Z_OK,Z_STREAM_END:p.Z_STREAM_END,Z_NEED_DICT:p.Z_NEED_DICT,Z_ERRNO:p.Z_ERRNO,Z_STREAM_ERROR:p.Z_STREAM_ERROR,Z_DATA_ERROR:p.Z_DATA_ERROR,Z_MEM_ERROR:p.Z_MEM_ERROR,Z_BUF_ERROR:p.Z_BUF_ERROR,Z_VERSION_ERROR:p.Z_VERSION_ERROR},Object.keys(b.codes).forEach(function(a){b.codes[b.codes[a]]=a}),b.Deflate=g,b.Inflate=h,b.Gzip=i,b.Gunzip=j,b.DeflateRaw=k,b.InflateRaw=l,b.Unzip=m,b.createDeflate=function(a){return new g(a)},b.createInflate=function(a){return new h(a)},b.createDeflateRaw=function(a){return new k(a)},b.createInflateRaw=function(a){return new l(a)},b.createGzip=function(a){return new i(a)},b.createGunzip=function(a){return new j(a)},b.createUnzip=function(a){return new m(a)},b.deflate=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new g(b),a,c)},b.deflateSync=function(a,b){return f(new g(b),a)},b.gzip=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new i(b),a,c)},b.gzipSync=function(a,b){return f(new i(b),a)},b.deflateRaw=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new k(b),a,c)},b.deflateRawSync=function(a,b){return f(new k(b),a)},b.unzip=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new m(b),a,c)},b.unzipSync=function(a,b){return f(new m(b),a)},b.inflate=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new h(b),a,c)},b.inflateSync=function(a,b){return f(new h(b),a)},b.gunzip=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new j(b),a,c)},b.gunzipSync=function(a,b){return f(new j(b),a)},b.inflateRaw=function(a,b,c){return"function"==typeof b&&(c=b,b={}),e(new l(b),a,c)},b.inflateRawSync=function(a,b){return f(new l(b),a)},q.inherits(n,o),n.prototype.params=function(a,c,e){if(a<b.Z_MIN_LEVEL||a>b.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+a);if(c!=b.Z_FILTERED&&c!=b.Z_HUFFMAN_ONLY&&c!=b.Z_RLE&&c!=b.Z_FIXED&&c!=b.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+c);if(this._level!==a||this._strategy!==c){var f=this;this.flush(p.Z_SYNC_FLUSH,function(){f._binding.params(a,c),f._hadError||(f._level=a,f._strategy=c,e&&e())})}else d.nextTick(e)},n.prototype.reset=function(){return this._binding.reset()},n.prototype._flush=function(b){this._transform(new a(0),"",b)},n.prototype.flush=function(b,c){var e=this._writableState;if(("function"==typeof b||void 0===b&&!c)&&(c=b,b=p.Z_FULL_FLUSH),e.ended)c&&d.nextTick(c);else if(e.ending)c&&this.once("end",c);else if(e.needDrain){var f=this;this.once("drain",function(){f.flush(c)})}else this._flushFlag=b,this.write(new a(0),"",c)},n.prototype.close=function(a){if(a&&d.nextTick(a),!this._closed){this._closed=!0,this._binding.close();var b=this;d.nextTick(function(){b.emit("close")})}},n.prototype._transform=function(b,c,d){var e,f=this._writableState,g=f.ending||f.ended,h=g&&(!b||f.length===b.length);if(null===!b&&!a.isBuffer(b))return d(new Error("invalid input"));h?e=p.Z_FINISH:(e=this._flushFlag,b.length>=f.length&&(this._flushFlag=this._opts.flush||p.Z_NO_FLUSH));this._processChunk(b,e,d)},n.prototype._processChunk=function(b,c,d){function e(k,n){if(!i._hadError){var o=g-n;if(r(o>=0,"have should not go down"),o>0){var p=i._buffer.slice(i._offset,i._offset+o);i._offset+=o,j?i.push(p):(l.push(p),m+=p.length)}if((0===n||i._offset>=i._chunkSize)&&(g=i._chunkSize,i._offset=0,i._buffer=new a(i._chunkSize)),0===n){if(h+=f-k,f=k,!j)return!0;var q=i._binding.write(c,b,h,f,i._buffer,i._offset,i._chunkSize);return q.callback=e,void(q.buffer=b)}if(!j)return!1;d()}}var f=b&&b.length,g=this._chunkSize-this._offset,h=0,i=this,j="function"==typeof d;if(!j){var k,l=[],m=0;this.on("error",function(a){k=a});do{var n=this._binding.writeSync(c,b,h,f,this._buffer,this._offset,g)}while(!this._hadError&&e(n[0],n[1]));if(this._hadError)throw k;var o=a.concat(l,m);return this.close(),o}var p=this._binding.write(c,b,h,f,this._buffer,this._offset,g);p.buffer=b,p.callback=e},q.inherits(g,n),q.inherits(h,n),q.inherits(i,n),q.inherits(j,n),q.inherits(k,n),q.inherits(l,n),q.inherits(m,n)}).call(b,c(4).Buffer,c(8))},function(a,b,c){(function(a){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=b.length<0?0:0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=c(5),Z=c(6),$=c(7);b.Buffer=f,b.SlowBuffer=p,b.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),b.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(b,function(){return this}())},function(a,b){"use strict";function c(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");return-1===c&&(c=b),[c,c===b?0:4-c%4]}function d(a){var b=c(a),d=b[0],e=b[1];return 3*(d+e)/4-e}function e(a,b,c){return 3*(b+c)/4-c}function f(a){for(var b,d=c(a),f=d[0],g=d[1],h=new l(e(a,f,g)),i=0,j=g>0?f-4:f,m=0;m<j;m+=4)b=k[a.charCodeAt(m)]<<18|k[a.charCodeAt(m+1)]<<12|k[a.charCodeAt(m+2)]<<6|k[a.charCodeAt(m+3)],h[i++]=b>>16&255,h[i++]=b>>8&255,h[i++]=255&b;return 2===g&&(b=k[a.charCodeAt(m)]<<2|k[a.charCodeAt(m+1)]>>4,h[i++]=255&b),1===g&&(b=k[a.charCodeAt(m)]<<10|k[a.charCodeAt(m+1)]<<4|k[a.charCodeAt(m+2)]>>2,h[i++]=b>>8&255,h[i++]=255&b),h}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e=[],f=0,g=c-d;f<g;f+=16383)e.push(h(a,f,f+16383>g?g:f+16383));return 1===d?(b=a[c-1],e.push(j[b>>2]+j[b<<4&63]+"==")):2===d&&(b=(a[c-2]<<8)+a[c-1],e.push(j[b>>10]+j[b>>4&63]+j[b<<2&63]+"=")),e.join("")}b.byteLength=d,b.toByteArray=f,b.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},function(a,b){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){a.exports=c(10).Transform},function(a,b,c){b=a.exports=c(11),b.Stream=b,b.Readable=b,b.Writable=c(23),b.Duplex=c(22),b.Transform=c(28),b.PassThrough=c(29)},function(a,b,c){(function(b,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function h(a,b){H=H||c(22),a=a||{};var d=b instanceof H;this.objectMode=!!a.objectMode,d&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var e=a.highWaterMark,f=a.readableHighWaterMark,g=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(f||0===f)?f:g,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(Q||(Q=c(27).StringDecoder),this.decoder=new Q(a.encoding),this.encoding=a.encoding)}function i(a){if(H=H||c(22),!(this instanceof i))return new i(a);this._readableState=new h(a,this),this.readable=!0,a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy)),K.call(this)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G.nextTick(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G.nextTick(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G.nextTick(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G.nextTick(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=c(12);a.exports=i;var H,I=c(7);i.ReadableState=h;var J=(c(13).EventEmitter,function(a,b){return a.listeners(b).length}),K=c(14),L=c(15).Buffer,M=b.Uint8Array||function(){},N=c(16);N.inherits=c(17);var O=c(18),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=c(19),S=c(21);N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(a){return Q||(Q=c(27).StringDecoder),this._readableState.decoder=new Q(a),this._readableState.encoding=a,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(0===(a=o(a,b))&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function c(a,b){P("onunpipe"),a===m&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",c),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1,!1!==a.write(b)||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),
a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==d.stdout&&a!==d.stderr,p=o?e:l;n.endEmitted?G.nextTick(p):m.once("end",p),a.on("unpipe",c);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G.nextTick(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;a.on("end",function(){if(P("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(e){if(P("wrapped data"),c.decoder&&(e=c.decoder.write(e)),(!c.objectMode||null!==e&&void 0!==e)&&(c.objectMode||e&&e.length)){b.push(e)||(d=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],this.emit.bind(this,T[f]));return this._read=function(b){P("wrapped _read",b),d&&(d=!1,a.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=z}).call(b,function(){return this}(),c(8))},function(a,b,c){(function(b){"use strict";function c(a,c,d,e){if("function"!=typeof a)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return b.nextTick(a);case 2:return b.nextTick(function(){a.call(null,c)});case 3:return b.nextTick(function(){a.call(null,c,d)});case 4:return b.nextTick(function(){a.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return b.nextTick(function(){a.apply(null,f)})}}!b.version||0===b.version.indexOf("v0.")||0===b.version.indexOf("v1.")&&0!==b.version.indexOf("v1.8.")?a.exports={nextTick:c}:a.exports=b}).call(b,c(8))},function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),c.apply(this,h)}else if(f(c))for(h=Array.prototype.slice.call(arguments,1),j=c.slice(),e=j.length,i=0;i<e;i++)j[i].apply(this,h);return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned&&(e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(e<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){return this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(d(b))return 1;if(b)return b.length}return 0},c.listenerCount=function(a,b){return a.listenerCount(b)}},function(a,b,c){a.exports=c(13).EventEmitter},function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=c(4),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?a.exports=f:(d(f,b),b.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},function(a,b,c){(function(a){function c(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}b.isArray=c,b.isBoolean=d,b.isNull=e,b.isNullOrUndefined=f,b.isNumber=g,b.isString=h,b.isSymbol=i,b.isUndefined=j,b.isRegExp=k,b.isObject=l,b.isDate=m,b.isError=n,b.isFunction=o,b.isPrimitive=p,b.isBuffer=a.isBuffer}).call(b,c(4).Buffer)},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=c(15).Buffer,g=c(20);a.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}(),g&&g.inspect&&g.inspect.custom&&(a.exports.prototype[g.inspect.custom]=function(){var a=g.inspect({length:this.length});return this.constructor.name+" "+a})},function(a,b){},function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g.nextTick(f,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(g.nextTick(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}),this)}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=c(12);a.exports={destroy:d,undestroy:e}},function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||g.nextTick(f,this)}function f(a){a.end()}var g=c(12),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};a.exports=d;var i=c(16);i.inherits=c(17);var j=c(11),k=c(23);i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g.nextTick(b,a)}},function(a,b,c){(function(b,d,e){"use strict";function f(a){var b=this;this.next=null,this.entry=null,this.finish=function(){B(b,a)}}function g(a){return I.from(a)}function h(a){return I.isBuffer(a)||a instanceof J}function i(){}function j(a,b){D=D||c(22),a=a||{};var d=b instanceof D;this.objectMode=!!a.objectMode,d&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var e=a.highWaterMark,g=a.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(g||0===g)?g:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===a.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){s(b,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function k(a){if(D=D||c(22),!(L.call(k,this)||this instanceof D))return new k(a);this._writableState=new j(a,this),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),H.call(this)}function l(a,b){var c=new Error("write after end");a.emit("error",c),C.nextTick(b,c)}function m(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),C.nextTick(d,f),e=!1),e}function n(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=I.from(b,c)),b}function o(a,b,c,d,e,f){if(!c){var g=n(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else p(a,b,!1,h,d,e,f);return i}function p(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function q(a,b,c,d,e){--b.pendingcb,c?(C.nextTick(e,d),C.nextTick(z,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),z(a,b))}function r(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function s(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(r(c),b)q(a,c,d,b,e);else{var f=w(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||v(a,c),d?E(t,a,c,f,e):t(a,c,f,e)}}function t(a,b,c,d){c||u(a,b),b.pendingcb--,d(),z(a,b)}function u(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function v(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)e[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;e.allBuffers=i,p(a,b,!0,b.length,e,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new f(b),b.bufferedRequestCount=0}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback;if(p(a,b,!1,b.objectMode?1:j.length,j,k,l),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function w(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function x(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),z(a,b)})}function y(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,C.nextTick(x,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function z(a,b){var c=w(b);return c&&(y(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function A(a,b,c){b.ending=!0,z(a,b),c&&(b.finished?C.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function B(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var C=c(12);a.exports=k;var D,E=!b.browser&&["v0.10","v0.9."].indexOf(b.version.slice(0,5))>-1?d:C.nextTick;k.WritableState=j;var F=c(16);F.inherits=c(17);var G={deprecate:c(26)},H=c(14),I=c(15).Buffer,J=e.Uint8Array||function(){},K=c(21);F.inherits(k,H),j.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(j.prototype,"buffer",{get:G.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(a){return!!L.call(this,a)||this===k&&(a&&a._writableState instanceof j)}})):L=function(a){return a instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(a,b,c){var d=this._writableState,e=!1,f=!d.objectMode&&h(a);return f&&!I.isBuffer(a)&&(a=g(a)),"function"==typeof b&&(c=b,b=null),f?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=i),d.ended?l(this,c):(f||m(this,d,a,c))&&(d.pendingcb++,e=o(this,d,f,a,b,c)),e},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||v(this,a))},k.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||A(this,d,c)},Object.defineProperty(k.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),k.prototype.destroy=K.destroy,k.prototype._undestroy=K.undestroy,k.prototype._destroy=function(a,b){this.end(),b(a)}}).call(b,c(8),c(24).setImmediate,function(){return this}())},function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e=void 0!==a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(25),b.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==a&&a.setImmediate||this&&this.setImmediate,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==a&&a.clearImmediate||this&&this.clearImmediate}).call(b,function(){return this}())},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return j[i]=d,h(i),i++}function e(a){delete j[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(k)setTimeout(g,0,a);else{var b=j[a];if(b){k=!0;try{f(b)}finally{e(a),k=!1}}}}if(!a.setImmediate){var h,i=1,j={},k=!1,l=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,"[object process]"==={}.toString.call(a.process)?function(){h=function(a){b.nextTick(function(){g(a)})}}():function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?function(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),h=function(c){a.postMessage(b+c,"*")}}():a.MessageChannel?function(){var a=new MessageChannel;a.port1.onmessage=function(a){g(a.data)},h=function(b){a.port2.postMessage(b)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var a=l.documentElement;h=function(b){var c=l.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}():function(){h=function(a){setTimeout(g,0,a)}}(),m.setImmediate=d,m.clearImmediate=e}}("undefined"==typeof self?void 0===a?this:a:self)}).call(b,function(){return this}(),c(8))},function(a,b){(function(b){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(a){try{if(!b.localStorage)return!1}catch(a){return!1}var c=b.localStorage[a];return null!=c&&"true"===String(c).toLowerCase()}a.exports=c}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c||-2===e?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c||-2===e?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"";if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"";if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,""}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"":b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=c(15).Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};b.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},function(a,b,c){"use strict";function d(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);h.call(this,a),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",f)}function f(){var a=this;"function"==typeof this._flush?this._flush(function(b,c){g(a,b,c)}):g(this,null,null)}function g(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}a.exports=e;var h=c(22),i=c(16);i.inherits=c(17),i.inherits(e,h),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},e.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},e.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}a.exports=d;var e=c(28),f=c(16);f.inherits=c(17),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},function(a,b,c){(function(a,d){function e(a){if(a<b.DEFLATE||a>b.UNZIP)throw new TypeError("Bad argument");this.mode=a,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function f(a,b){for(var c=0;c<a.length;c++)this[b+c]=a[c]}var g=c(31),h=c(32),i=c(33),j=c(38),k=c(41);for(var l in k)b[l]=k[l];b.NONE=0,b.DEFLATE=1,b.INFLATE=2,b.GZIP=3,b.GUNZIP=4,b.DEFLATERAW=5,b.INFLATERAW=6,b.UNZIP=7,e.prototype.init=function(a,c,d,e,f){switch(this.windowBits=a,this.level=c,this.memLevel=d,this.strategy=e,this.mode!==b.GZIP&&this.mode!==b.GUNZIP||(this.windowBits+=16),this.mode===b.UNZIP&&(this.windowBits+=32),this.mode!==b.DEFLATERAW&&this.mode!==b.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new h,this.mode){case b.DEFLATE:case b.GZIP:case b.DEFLATERAW:var g=i.deflateInit2(this.strm,this.level,b.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case b.INFLATE:case b.GUNZIP:case b.INFLATERAW:case b.UNZIP:var g=j.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(g!==b.Z_OK)return void this._error(g);this.write_in_progress=!1,this.init_done=!0},e.prototype.params=function(){throw new Error("deflateParams Not supported")},e.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===b.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},e.prototype.write=function(b,c,d,e,f,g,h){this._writeCheck(),this.write_in_progress=!0;var i=this;return a.nextTick(function(){i.write_in_progress=!1;var a=i._write(b,c,d,e,f,g,h);i.callback(a[0],a[1]),i.pending_close&&i.close()}),this},e.prototype.writeSync=function(a,b,c,d,e,f,g){return this._writeCheck(),this._write(a,b,c,d,e,f,g)},e.prototype._write=function(a,c,e,g,h,k,l){if(this.write_in_progress=!0,a!==b.Z_NO_FLUSH&&a!==b.Z_PARTIAL_FLUSH&&a!==b.Z_SYNC_FLUSH&&a!==b.Z_FULL_FLUSH&&a!==b.Z_FINISH&&a!==b.Z_BLOCK)throw new Error("Invalid flush value");null==c&&(c=new d(0),g=0,e=0),h._set?h.set=h._set:h.set=f;var m=this.strm;switch(m.avail_in=g,m.input=c,m.next_in=e,m.avail_out=l,m.output=h,m.next_out=k,this.mode){case b.DEFLATE:case b.GZIP:case b.DEFLATERAW:var n=i.deflate(m,a);break;case b.UNZIP:case b.INFLATE:case b.GUNZIP:case b.INFLATERAW:var n=j.inflate(m,a);break;default:throw new Error("Unknown mode "+this.mode)}return n!==b.Z_STREAM_END&&n!==b.Z_OK&&this._error(n),this.write_in_progress=!1,[m.avail_in,m.avail_out]},e.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,this.mode===b.DEFLATE||this.mode===b.GZIP||this.mode===b.DEFLATERAW?i.deflateEnd(this.strm):j.inflateEnd(this.strm),this.mode=b.NONE},e.prototype.reset=function(){switch(this.mode){case b.DEFLATE:case b.DEFLATERAW:var a=i.deflateReset(this.strm);break;case b.INFLATE:case b.INFLATERAW:var a=j.inflateReset(this.strm)}a!==b.Z_OK&&this._error(a)},e.prototype._error=function(a){this.onerror(g[a]+": "+this.strm.msg,a),this.write_in_progress=!1,this.pending_close&&this.close()},b.Zlib=e}).call(b,c(8),c(4).Buffer)},function(a,b){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error",
"-6":"incompatible version"}},function(a,b){"use strict";function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=c},function(a,b,c){"use strict";function d(a,b){return a.msg=I[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(E.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){F._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,E.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=G(a.adler,b,e,c):2===a.state.wrap&&(a.adler=H(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ja?a.strstart-(a.w_size-ja):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ia,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do{}while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m);if(d=ia-(m-f),f=m-ia,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}}while((b=l[b&k])>i&&0!=--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ja)){E.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do{d=a.head[--b],a.head[b]=d>=g?d-g:0}while(--c);c=g,b=c;do{d=a.prev[--b],a.prev[b]=d>=g?d-g:0}while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ha)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ha-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ha)););}while(a.lookahead<ja&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===J)return sa;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sa;if(a.strstart-a.block_start>=a.w_size-ja&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):(a.strstart>a.block_start&&(h(a,!1),a.strm.avail_out),sa)}function o(a,b){for(var c,d;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===J)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c)),a.match_length>=ha)if(d=F._tr_tally(a,a.strstart-a.match_start,a.match_length-ha),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ha){a.match_length--;do{a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart}while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=a.strstart<ha-1?a.strstart:ha-1,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function p(a,b){for(var c,d,e;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===J)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ha-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===U||a.match_length===ha&&a.strstart-a.match_start>4096)&&(a.match_length=ha-1)),a.prev_length>=ha&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ha,d=F._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ha),a.lookahead-=a.prev_length-1,a.prev_length-=2;do{++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart)}while(0!=--a.prev_length);if(a.match_available=0,a.match_length=ha-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sa}else if(a.match_available){if(d=F._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sa}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=F._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ha-1?a.strstart:ha-1,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ia){if(m(a),a.lookahead<=ia&&b===J)return sa;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ha&&a.strstart>0&&(e=a.strstart-1,(d=g[e])===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ia;do{}while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f);a.match_length=ia-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ha?(c=F._tr_tally(a,1,a.match_length-ha),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===J)return sa;break}if(a.match_length=0,c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=D[a.level].max_lazy,a.good_match=D[a.level].good_length,a.nice_match=D[a.level].nice_length,a.max_chain_length=D[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ha-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*fa),this.dyn_dtree=new E.Buf16(2*(2*da+1)),this.bl_tree=new E.Buf16(2*(2*ea+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(ga+1),this.heap=new E.Buf16(2*ca+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*ca+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Z,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?la:qa,a.adler=2===b.wrap?0:1,b.last_flush=J,F._tr_init(b),O):d(a,Q)}function w(a){var b=v(a);return b===O&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?Q:(a.state.gzhead=b,O):Q}function y(a,b,c,e,f,g){if(!a)return Q;var h=1;if(b===T&&(b=6),e<0?(h=0,e=-e):e>15&&(h=2,e-=16),f<1||f>_||c!==$||e<8||e>15||b<0||b>9||g<0||g>X)return d(a,Q);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ha-1)/ha),i.window=new E.Buf8(2*i.w_size),i.head=new E.Buf16(i.hash_size),i.prev=new E.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new E.Buf8(i.pending_buf_size),i.d_buf=1*i.lit_bufsize,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,$,aa,ba,Y)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>N||b<0)return a?d(a,Q):Q;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ra&&b!==M)return d(a,0===a.avail_out?S:Q);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===la)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=H(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ma):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,wa),h.status=qa);else{var m=$+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=V||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ka),m+=31-m%31,h.status=qa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===ma)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=na)}else h.status=na;if(h.status===na)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pa)}else h.status=pa;if(h.status===pa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qa)):h.status=qa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,O}else if(0===a.avail_in&&e(b)<=e(c)&&b!==M)return d(a,S);if(h.status===ra&&0!==a.avail_in)return d(a,S);if(0!==a.avail_in||0!==h.lookahead||b!==J&&h.status!==ra){var o=h.strategy===V?r(h,b):h.strategy===W?q(h,b):D[h.level].func(h,b);if(o!==ua&&o!==va||(h.status=ra),o===sa||o===ua)return 0===a.avail_out&&(h.last_flush=-1),O;if(o===ta&&(b===K?F._tr_align(h):b!==N&&(F._tr_stored_block(h,0,0,!1),b===L&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,O}return b!==M?O:h.wrap<=0?P:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?O:P)}function B(a){var b;return a&&a.state?(b=a.state.status)!==la&&b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra?d(a,Q):(a.state=null,b===qa?d(a,R):O):Q}function C(a,b){var c,d,e,g,h,i,j,k,l=b.length;if(!a||!a.state)return Q;if(c=a.state,2===(g=c.wrap)||1===g&&c.status!==la||c.lookahead)return Q;for(1===g&&(a.adler=G(a.adler,b,l,0)),c.wrap=0,l>=c.w_size&&(0===g&&(f(c.head),c.strstart=0,c.block_start=0,c.insert=0),k=new E.Buf8(c.w_size),E.arraySet(k,b,l-c.w_size,c.w_size,0),b=k,l=c.w_size),h=a.avail_in,i=a.next_in,j=a.input,a.avail_in=l,a.next_in=0,a.input=b,m(c);c.lookahead>=ha;){d=c.strstart,e=c.lookahead-(ha-1);do{c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+ha-1])&c.hash_mask,c.prev[d&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=d,d++}while(--e);c.strstart=d,c.lookahead=ha-1,m(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=ha-1,c.match_available=0,a.next_in=i,a.input=j,a.avail_in=h,c.wrap=g,O}var D,E=c(34),F=c(35),G=c(36),H=c(37),I=c(31),J=0,K=1,L=3,M=4,N=5,O=0,P=1,Q=-2,R=-3,S=-5,T=-1,U=1,V=2,W=3,X=4,Y=0,Z=2,$=8,_=9,aa=15,ba=8,ca=286,da=30,ea=19,fa=2*ca+1,ga=15,ha=3,ia=258,ja=ia+ha+1,ka=32,la=42,ma=69,na=73,oa=91,pa=103,qa=113,ra=666,sa=1,ta=2,ua=3,va=4,wa=3;D=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],b.deflateInit=z,b.deflateInit2=y,b.deflateReset=w,b.deflateResetKeep=v,b.deflateSetHeader=x,b.deflate=A,b.deflateEnd=B,b.deflateSetDictionary=C,b.deflateInfo="pako deflate (from Nodeca project)"},function(a,b){"use strict";var c="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;b.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},b.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var d={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;b<c;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;b<c;b++)f=a[b],g.set(f,e),e+=f.length;return g}},e={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};b.setTyped=function(a){a?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,d)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,e))},b.setTyped(c)},function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return a<256?fa[a]:fa[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do{c|=1&a,a>>>=1,c<<=1}while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=U;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;c<T;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)(e=a.heap[--c])>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;d<=U;d++)f[d]=g=g+c[d-1]<<1;for(e=0;e<=b;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(U+1);for(c=0,d=0;d<O-1;d++)for(ha[d]=c,a=0;a<1<<_[d];a++)ga[c++]=d;for(ga[c-1]=d,f=0,d=0;d<16;d++)for(ia[d]=f,a=0;a<1<<aa[d];a++)fa[f++]=d;for(f>>=7;d<R;d++)for(ia[d]=f<<7,a=0;a<1<<aa[d]-7;a++)fa[256+f++]=d;for(b=0;b<=U;b++)g[b]=0;for(a=0;a<=143;)da[2*a+1]=8,a++,g[8]++;for(;a<=255;)da[2*a+1]=9,a++,g[9]++;for(;a<=279;)da[2*a+1]=7,a++,g[7]++;for(;a<=287;)da[2*a+1]=8,a++,g[8]++;for(n(da,Q+1,g),a=0;a<R;a++)ea[2*a+1]=5,ea[2*a]=k(a,5);ja=new e(da,_,P+1,Q,U),ka=new e(ea,aa,0,R,U),la=new e(new Array(0),ba,0,S,W)}function p(a){var b;for(b=0;b<Q;b++)a.dyn_ltree[2*b]=0;for(b=0;b<R;b++)a.dyn_dtree[2*b]=0;for(b=0;b<S;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do{d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ga[e],j(a,f+P+1,b),h=_[f],0!==h&&(e-=ha[f],i(a,e,h)),d--,f=g(d),j(a,f,c),0!==(h=aa[f])&&(d-=ia[f],i(a,d,h)))}while(k<a.last_lit);j(a,X,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=j<2?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do{c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1)}while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;d<=c;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):h<=10?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;d<=c;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(h<l)do{j(a,e,a.bl_tree)}while(0!=--h);else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,Y,a.bl_tree),i(a,h-3,2)):h<=10?(j(a,Z,a.bl_tree),i(a,h-3,3)):(j(a,$,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*ca[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;e<d;e++)i(a,a.bl_tree[2*ca[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;b<P;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){ma||(o(),ma=!0),a.l_desc=new f(a.dyn_ltree,ja),a.d_desc=new f(a.dyn_dtree,ka),a.bl_desc=new f(a.bl_tree,la),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,X,da),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=c+5,c+4<=e&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,da,ea)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ga[c]+P+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=c(34),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],aa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ba=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],da=new Array(2*(Q+2));d(da);var ea=new Array(2*R);d(ea);var fa=new Array(512);d(fa);var ga=new Array(256);d(ga);var ha=new Array(O);d(ha);var ia=new Array(R);d(ia);var ja,ka,la,ma=!1;b._tr_init=B,b._tr_stored_block=C,b._tr_flush_block=E,b._tr_tally=F,b._tr_align=D},function(a,b){"use strict";function c(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do{e=e+b[d++]|0,f=f+e|0}while(--g);e%=65521,f%=65521}return e|f<<16|0}a.exports=c},function(a,b){"use strict";function c(a,b,c,e){var f=d,g=e+c;a^=-1;for(var h=e;h<g;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var d=function(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();a.exports=c},function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=L,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new s.Buf32(pa),b.distcode=b.distdyn=new s.Buf32(qa),b.sane=1,b.back=-1,D):G}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):G}function h(a,b){var c,d;return a&&a.state?(d=a.state,b<0?(c=0,b=-b):(c=1+(b>>4),b<48&&(b&=15)),b&&(b<8||b>15)?G:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):G}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==D&&(a.state=null),c):G}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(q=new s.Buf32(512),r=new s.Buf32(32),b=0;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(w(y,a.lens,0,288,q,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;w(z,a.lens,0,32,r,0,a.work,{bits:5}),sa=!1}a.lencode=q,a.lenbits=9,a.distcode=r,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new s.Buf8(f.wsize)),d>=f.wsize?(s.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),s.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(s.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,r,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new s.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return G;c=a.state,c.mode===W&&(c.mode=X),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=D;a:for(;;)switch(c.mode){case L:if(0===c.wrap){c.mode=X;break}for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0),m=0,n=0,c.mode=M;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=ma;break}if((15&m)!==K){a.msg="unknown compression method",c.mode=ma;break}if(m>>>=4,n-=4,wa=8+(15&m),0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=ma;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?U:W,m=0,n=0;break;case M:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==K){a.msg="unknown compression method",c.mode=ma;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=ma;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=N;case N:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=u(c.check,Ba,4,0)),m=0,n=0,c.mode=O;case O:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=P;case P:if(1024&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=Q;case Q:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),s.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=R;case R:if(2048&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=S;case S:if(4096&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=T;case T:if(512&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=ma;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=W;break;case U:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=V;case V:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,F;a.adler=c.check=1,c.mode=W;case W:if(b===B||b===C)break a;case X:if(c.last){m>>>=7&n,n-=7&n,c.mode=ja;break}for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=Y;break;case 1:if(k(c),c.mode=ca,b===C){m>>>=2,n-=2;break a}break;case 2:c.mode=_;break;case 3:a.msg="invalid block type",c.mode=ma}m>>>=2,n-=2;break;case Y:for(m>>>=7&n,n-=7&n;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!=(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=ma;break}if(c.length=65535&m,m=0,n=0,c.mode=Z,b===C)break a;case Z:c.mode=$;case $:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;s.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=W;break;case _:for(;n<14;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=257+(31&m),m>>>=5,n-=5,c.ndist=1+(31&m),m>>>=5,n-=5,c.ncode=4+(15&m),m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=ma;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.ncode;){for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=w(x,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=ma;break}c.have=0,c.mode=ba;case ba:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(sa<16)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=ma;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=ma;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===ma)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=ma;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=w(y,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=ma;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=w(z,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=ma;break}if(c.mode=ca,b===C)break a;case ca:c.mode=da;case da:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,v(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===W&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ia;break}if(32&ra){c.back=-1,c.mode=W;break}if(64&ra){a.msg="invalid literal/length code",c.mode=ma;break}c.extra=15&ra,c.mode=ea;case ea:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=fa;case fa:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=ma;break}c.offset=sa,c.extra=15&ra,c.mode=ga;case ga:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,
m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=ma;break}c.mode=ha;case ha:if(0===j)break a;if(q=p-j,c.offset>q){if((q=c.offset-q)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=ma;break}q>c.wnext?(q-=c.wnext,r=c.wsize-q):r=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,r=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do{f[h++]=pa[r++]}while(--q);0===c.length&&(c.mode=da);break;case ia:if(0===j)break a;f[h++]=c.length,j--,c.mode=da;break;case ja:if(c.wrap){for(;n<32;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?u(c.check,f,p,h-p):t(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=ma;break}m=0,n=0}c.mode=ka;case ka:if(c.wrap&&c.flags){for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=ma;break}m=0,n=0}c.mode=la;case la:xa=E;break a;case ma:xa=H;break a;case na:return I;case oa:default:return G}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<ma&&(c.mode<ja||b!==A))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=na,I):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?u(c.check,f,p,a.next_out-p):t(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===W?128:0)+(c.mode===ca||c.mode===Z?256:0),(0===o&&0===p||b===A)&&xa===D&&(xa=J),xa)}function n(a){if(!a||!a.state)return G;var b=a.state;return b.window&&(b.window=null),a.state=null,D}function o(a,b){var c;return a&&a.state?(c=a.state,0==(2&c.wrap)?G:(c.head=b,b.done=!1,D)):G}function p(a,b){var c,d,e=b.length;return a&&a.state?(c=a.state,0!==c.wrap&&c.mode!==V?G:c.mode===V&&(d=1,(d=t(d,b,e,0))!==c.check)?H:l(a,b,e,e)?(c.mode=na,I):(c.havedict=1,D)):G}var q,r,s=c(34),t=c(36),u=c(37),v=c(39),w=c(40),x=0,y=1,z=2,A=4,B=5,C=6,D=0,E=1,F=2,G=-2,H=-3,I=-4,J=-5,K=8,L=1,M=2,N=3,O=4,P=5,Q=6,R=7,S=8,T=9,U=10,V=11,W=12,X=13,Y=14,Z=15,$=16,_=17,aa=18,ba=19,ca=20,da=21,ea=22,fa=23,ga=24,ha=25,ia=26,ja=27,ka=28,la=29,ma=30,na=31,oa=32,pa=852,qa=592,ra=15,sa=!0;b.inflateReset=g,b.inflateReset2=h,b.inflateResetKeep=f,b.inflateInit=j,b.inflateInit2=i,b.inflate=m,b.inflateEnd=n,b.inflateGetHeader=o,b.inflateSetDictionary=p,b.inflateInfo="pako inflate (from Nodeca project)"},function(a,b){"use strict";a.exports=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;c=a.state,d=a.next_in,z=a.input,e=d+(a.avail_in-5),f=a.next_out,A=a.output,g=f-(b-a.avail_out),h=f+(a.avail_out-257),i=c.dmax,j=c.wsize,k=c.whave,l=c.wnext,m=c.window,n=c.hold,o=c.bits,p=c.lencode,q=c.distcode,r=(1<<c.lenbits)-1,s=(1<<c.distbits)-1;a:do{o<15&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=p[n&r];b:for(;;){if(u=t>>>24,n>>>=u,o-=u,0===(u=t>>>16&255))A[f++]=65535&t;else{if(!(16&u)){if(0==(64&u)){t=p[(65535&t)+(n&(1<<u)-1)];continue b}if(32&u){c.mode=12;break a}a.msg="invalid literal/length code",c.mode=30;break a}v=65535&t,u&=15,u&&(o<u&&(n+=z[d++]<<o,o+=8),v+=n&(1<<u)-1,n>>>=u,o-=u),o<15&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=q[n&s];c:for(;;){if(u=t>>>24,n>>>=u,o-=u,!(16&(u=t>>>16&255))){if(0==(64&u)){t=q[(65535&t)+(n&(1<<u)-1)];continue c}a.msg="invalid distance code",c.mode=30;break a}if(w=65535&t,u&=15,o<u&&(n+=z[d++]<<o,(o+=8)<u&&(n+=z[d++]<<o,o+=8)),(w+=n&(1<<u)-1)>i){a.msg="invalid distance too far back",c.mode=30;break a}if(n>>>=u,o-=u,u=f-g,w>u){if((u=w-u)>k&&c.sane){a.msg="invalid distance too far back",c.mode=30;break a}if(x=0,y=m,0===l){if(x+=j-u,u<v){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}else if(l<u){if(x+=j+l-u,(u-=l)<v){v-=u;do{A[f++]=m[x++]}while(--u);if(x=0,l<v){u=l,v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}}else if(x+=l-u,u<v){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}for(;v>2;)A[f++]=y[x++],A[f++]=y[x++],A[f++]=y[x++],v-=3;v&&(A[f++]=y[x++],v>1&&(A[f++]=y[x++]))}else{x=f-w;do{A[f++]=A[x++],A[f++]=A[x++],A[f++]=A[x++],v-=3}while(v>2);v&&(A[f++]=A[x++],v>1&&(A[f++]=A[x++]))}break}}break}}while(d<e&&f<h);v=o>>3,d-=v,o-=v<<3,n&=(1<<o)-1,a.next_in=d,a.next_out=f,a.avail_in=d<e?e-d+5:5-(d-e),a.avail_out=f<h?h-f+257:257-(f-h),c.hold=n,c.bits=o}},function(a,b,c){"use strict";var d=c(34),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(a,b,c,i,j,k,l,m){var n,o,p,q,r,s,t,u,v,w=m.bits,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=null,I=0,J=new d.Buf16(16),K=new d.Buf16(16),L=null,M=0;for(x=0;x<=15;x++)J[x]=0;for(y=0;y<i;y++)J[b[c+y]]++;for(B=w,A=15;A>=1&&0===J[A];A--);if(B>A&&(B=A),0===A)return j[k++]=20971520,j[k++]=20971520,m.bits=1,0;for(z=1;z<A&&0===J[z];z++);for(B<z&&(B=z),E=1,x=1;x<=15;x++)if(E<<=1,(E-=J[x])<0)return-1;if(E>0&&(0===a||1!==A))return-1;for(K[1]=0,x=1;x<15;x++)K[x+1]=K[x]+J[x];for(y=0;y<i;y++)0!==b[c+y]&&(l[K[b[c+y]]++]=y);if(0===a?(H=L=l,s=19):1===a?(H=e,I-=257,L=f,M-=257,s=256):(H=g,L=h,s=-1),G=0,y=0,x=z,r=k,C=B,D=0,p=-1,F=1<<B,q=F-1,1===a&&F>852||2===a&&F>592)return 1;for(var N=0;;){N++,t=x-D,l[y]<s?(u=0,v=l[y]):l[y]>s?(u=L[M+l[y]],v=H[I+l[y]]):(u=96,v=0),n=1<<x-D,o=1<<C,z=o;do{o-=n,j[r+(G>>D)+o]=t<<24|u<<16|v|0}while(0!==o);for(n=1<<x-1;G&n;)n>>=1;if(0!==n?(G&=n-1,G+=n):G=0,y++,0==--J[x]){if(x===A)break;x=b[c+l[y]]}if(x>B&&(G&q)!==p){for(0===D&&(D=B),r+=z,C=x-D,E=1<<C;C+D<A&&!((E-=J[C+D])<=0);)C++,E<<=1;if(F+=1<<C,1===a&&F>852||2===a&&F>592)return 1;p=G&q,j[p]=B<<24|C<<16|r-k|0}}return 0!==G&&(j[r+G]=x-D<<24|64<<16|0),m.bits=B,0}},function(a,b){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(a,b,c){(function(a,d){function e(a,c){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(c)?d.showHidden=c:c&&b._extend(d,c),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,c,d){if(a.customInspect&&c&&A(c.inspect)&&c.inspect!==b.inspect&&(!c.constructor||c.constructor.prototype!==c)){var e=c.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,c);if(f)return f;var g=Object.keys(c),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(c)),z(c)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(c);if(0===g.length){if(A(c)){var q=c.name?": "+c.name:"";return a.stylize("[Function"+q+"]","special")}if(w(c))return a.stylize(RegExp.prototype.toString.call(c),"regexp");if(y(c))return a.stylize(Date.prototype.toString.call(c),"date");if(z(c))return k(c)}var r="",s=!1,u=["{","}"];if(o(c)&&(s=!0,u=["[","]"]),A(c)){r=" [Function"+(c.name?": "+c.name:"")+"]"}if(w(c)&&(r=" "+RegExp.prototype.toString.call(c)),y(c)&&(r=" "+Date.prototype.toUTCString.call(c)),z(c)&&(r=" "+k(c)),0===g.length&&(!s||0==c.length))return u[0]+r+u[1];if(d<0)return w(c)?a.stylize(RegExp.prototype.toString.call(c),"regexp"):a.stylize("[Object]","special");a.seen.push(c);var v;return v=s?l(a,c,d,p,g):g.map(function(b){return m(a,c,d,p,b,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;b.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},b.deprecate=function(c,e){function f(){if(!g){if(d.throwDeprecation)throw new Error(e);d.traceDeprecation?console.trace(e):console.error(e),g=!0}return c.apply(this,arguments)}if(v(a.process))return function(){return b.deprecate(c,e).apply(this,arguments)};if(!0===d.noDeprecation)return c;var g=!1;return f};var H,I={};b.debuglog=function(a){if(v(H)&&(H=d.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var c=d.pid;I[a]=function(){var d=b.format.apply(b,arguments);console.error("%s %d: %s",a,c,d)}}else I[a]=function(){};return I[a]},b.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},b.isArray=o,b.isBoolean=p,b.isNull=q,b.isNullOrUndefined=r,b.isNumber=s,b.isString=t,b.isSymbol=u,b.isUndefined=v,b.isRegExp=w,b.isObject=x,b.isDate=y,b.isError=z,b.isFunction=A,b.isPrimitive=B,b.isBuffer=c(43);var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];b.log=function(){console.log("%s - %s",E(),b.format.apply(b,arguments))},b.inherits=c(17),b._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(b,function(){return this}(),c(8))},function(a,b){a.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},function(a,b,c){(function(b){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function d(a,b){if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0}function e(a){return b.Buffer&&"function"==typeof b.Buffer.isBuffer?b.Buffer.isBuffer(a):!(null==a||!a._isBuffer)}function f(a){return Object.prototype.toString.call(a)}function g(a){return!e(a)&&("function"==typeof b.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):!!a&&(a instanceof DataView||!!(a.buffer&&a.buffer instanceof ArrayBuffer))))}function h(a){if(u.isFunction(a)){if(x)return a.name;var b=a.toString(),c=b.match(z);return c&&c[1]}}function i(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function j(a){if(x||!u.isFunction(a))return u.inspect(a);var b=h(a);return"[Function"+(b?": "+b:"")+"]"}function k(a){return i(j(a.actual),128)+" "+a.operator+" "+i(j(a.expected),128)}function l(a,b,c,d,e){throw new y.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function m(a,b){a||l(a,!0,b,"==",y.ok)}function n(a,b,c,h){if(a===b)return!0;if(e(a)&&e(b))return 0===d(a,b);if(u.isDate(a)&&u.isDate(b))return a.getTime()===b.getTime();if(u.isRegExp(a)&&u.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"==typeof a||null!==b&&"object"==typeof b){if(g(a)&&g(b)&&f(a)===f(b)&&!(a instanceof Float32Array||a instanceof Float64Array))return 0===d(new Uint8Array(a.buffer),new Uint8Array(b.buffer));if(e(a)!==e(b))return!1;h=h||{actual:[],expected:[]};var i=h.actual.indexOf(a);return-1!==i&&i===h.expected.indexOf(b)||(h.actual.push(a),h.expected.push(b),p(a,b,c,h))}return c?a===b:a==b}function o(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function p(a,b,c,d){if(null===a||void 0===a||null===b||void 0===b)return!1;if(u.isPrimitive(a)||u.isPrimitive(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var e=o(a),f=o(b);if(e&&!f||!e&&f)return!1;if(e)return a=w.call(a),b=w.call(b),n(a,b,c);var g,h,i=A(a),j=A(b);if(i.length!==j.length)return!1;for(i.sort(),j.sort(),h=i.length-1;h>=0;h--)if(i[h]!==j[h])return!1;for(h=i.length-1;h>=0;h--)if(g=i[h],!n(a[g],b[g],c,d))return!1;return!0}function q(a,b,c){n(a,b,!0)&&l(a,b,c,"notDeepStrictEqual",q)}function r(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0}catch(a){}return!Error.isPrototypeOf(b)&&!0===b.call({},a)}function s(a){var b;try{a()}catch(a){b=a}return b}function t(a,b,c,d){var e;if("function"!=typeof b)throw new TypeError('"block" argument must be a function');"string"==typeof c&&(d=c,c=null),e=s(b),d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&l(e,c,"Missing expected exception"+d);var f="string"==typeof d,g=!a&&u.isError(e),h=!a&&e&&!c;if((g&&f&&r(e,c)||h)&&l(e,c,"Got unwanted exception"+d),a&&e&&c&&!r(e,c)||!a&&e)throw e}var u=c(45),v=Object.prototype.hasOwnProperty,w=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),y=a.exports=m,z=/\s*function\s+([^\(\s]*)\s*/;y.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=k(this),this.generatedMessage=!0);var b=a.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var c=new Error;if(c.stack){var d=c.stack,e=h(b),f=d.indexOf("\n"+e);if(f>=0){var g=d.indexOf("\n",f+1);d=d.substring(g+1)}this.stack=d}}},u.inherits(y.AssertionError,Error),y.fail=l,y.ok=m,y.equal=function(a,b,c){a!=b&&l(a,b,c,"==",y.equal)},y.notEqual=function(a,b,c){a==b&&l(a,b,c,"!=",y.notEqual)},y.deepEqual=function(a,b,c){n(a,b,!1)||l(a,b,c,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(a,b,c){n(a,b,!0)||l(a,b,c,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(a,b,c){n(a,b,!1)&&l(a,b,c,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=q,y.strictEqual=function(a,b,c){a!==b&&l(a,b,c,"===",y.strictEqual)},y.notStrictEqual=function(a,b,c){a===b&&l(a,b,c,"!==",y.notStrictEqual)},y.throws=function(a,b,c){t(!0,a,b,c)},y.doesNotThrow=function(a,b,c){t(!1,a,b,c)},y.ifError=function(a){if(a)throw a};var A=Object.keys||function(a){var b=[];for(var c in a)v.call(a,c)&&b.push(c);return b}}).call(b,function(){return this}())},function(a,b,c){(function(a,d){function e(a,c){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(c)?d.showHidden=c:c&&b._extend(d,c),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,c,d){if(a.customInspect&&c&&A(c.inspect)&&c.inspect!==b.inspect&&(!c.constructor||c.constructor.prototype!==c)){var e=c.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,c);if(f)return f;var g=Object.keys(c),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(c)),z(c)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(c);if(0===g.length){if(A(c)){var q=c.name?": "+c.name:"";return a.stylize("[Function"+q+"]","special")}if(w(c))return a.stylize(RegExp.prototype.toString.call(c),"regexp");if(y(c))return a.stylize(Date.prototype.toString.call(c),"date");if(z(c))return k(c)}var r="",s=!1,u=["{","}"];if(o(c)&&(s=!0,u=["[","]"]),A(c)){r=" [Function"+(c.name?": "+c.name:"")+"]"}if(w(c)&&(r=" "+RegExp.prototype.toString.call(c)),y(c)&&(r=" "+Date.prototype.toUTCString.call(c)),z(c)&&(r=" "+k(c)),0===g.length&&(!s||0==c.length))return u[0]+r+u[1];if(d<0)return w(c)?a.stylize(RegExp.prototype.toString.call(c),"regexp"):a.stylize("[Object]","special");a.seen.push(c);var v;return v=s?l(a,c,d,p,g):g.map(function(b){return m(a,c,d,p,b,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;b.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},b.deprecate=function(c,e){function f(){if(!g){if(d.throwDeprecation)throw new Error(e);d.traceDeprecation?console.trace(e):console.error(e),g=!0}return c.apply(this,arguments)}if(v(a.process))return function(){return b.deprecate(c,e).apply(this,arguments)};if(!0===d.noDeprecation)return c;var g=!1;return f};var H,I={};b.debuglog=function(a){if(v(H)&&(H=d.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var c=d.pid;I[a]=function(){var d=b.format.apply(b,arguments);console.error("%s %d: %s",a,c,d)}}else I[a]=function(){};return I[a]},b.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},b.isArray=o,b.isBoolean=p,b.isNull=q,b.isNullOrUndefined=r,b.isNumber=s,b.isString=t,b.isSymbol=u,b.isUndefined=v,b.isRegExp=w,b.isObject=x,b.isDate=y,b.isError=z,b.isFunction=A,b.isPrimitive=B,b.isBuffer=c(46);var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];b.log=function(){console.log("%s - %s",E(),b.format.apply(b,arguments))},b.inherits=c(47),b._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(b,function(){return this}(),c(8))},function(a,b){a.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}]);"undefined"!=typeof module&&module.exports&&(module.exports=WGS),function(){function a(){return"undefined"!=typeof window&&null!==window?window:"undefined"!=typeof self&&null!==self?self:global}function b(b){for(var c=a(),d=b.split("."),e=0;e<d.length;++e)c[d[e]]=c[d[e]]||{},c=c[d[e]];return c}b("Autodesk.Viewing.Private"),b("Autodesk.Viewing.Extensions"),b("Autodesk.Viewing.Shaders"),b("Autodesk.Viewing.UI"),b("Autodesk.LMVTK"),Autodesk.Viewing.getGlobal=a,Autodesk.Viewing.AutodeskNamespace=b,a().AutodeskNamespace=b}(),Autodesk.Viewing.Private.initializeLegacyNamespaces=function(a){var b=Autodesk.Viewing,c=b.Shaders,d=b.Private;b.LMVTK;b.ErrorCodes=WGS.ErrorCodes,b.errorCodeString=WGS.errorCodeString,b.getErrorCode=WGS.getErrorCode,d.InstanceTreeStorage=WGS.InstanceTreeStorage,d.InstanceTreeAccess=WGS.InstanceTreeAccess,d.BVHBuilder=WGS.BVHBuilder,d.NodeArray=WGS.NodeArray,d.ViewingService=WGS.ViewingService,WGS.ViewingService.setEndpoint(b.endpoint),d.logger&&WGS.setLogger(d.logger),a||(b.FileLoaderManager.registerFileLoader("svf",["svf","gltf","glb"],WGS.SvfLoader),b.LOAD_MISSING_GEOMETRY=WGS.LOAD_MISSING_GEOMETRY,b.MODEL_ROOT_LOADED_EVENT=WGS.MODEL_ROOT_LOADED_EVENT,b.FRAGMENTS_LOADED_EVENT=WGS.FRAGMENTS_LOADED_EVENT,b.OBJECT_TREE_CREATED_EVENT=WGS.OBJECT_TREE_CREATED_EVENT,b.OBJECT_TREE_UNAVAILABLE_EVENT=WGS.OBJECT_TREE_UNAVAILABLE_EVENT,b.TEXTURES_LOADED_EVENT=WGS.TEXTURES_LOADED_EVENT,c.PackDepthShaderChunk=WGS.PackDepthShaderChunk,c.TonemapShaderChunk=WGS.TonemapShaderChunk,c.OrderedDitheringShaderChunk=WGS.OrderedDitheringShaderChunk,c.CutPlanesUniforms=WGS.CutPlanesUniforms,c.CutPlanesShaderChunk=WGS.CutPlanesShaderChunk,c.PackNormalsShaderChunk=WGS.PackNormalsShaderChunk,c.HatchPatternShaderChunk=WGS.HatchPatternShaderChunk,c.EnvSamplingShaderChunk=WGS.EnvSamplingShaderChunk,c.IdUniforms=WGS.IdUniforms,c.IdFragmentDeclaration=WGS.IdFragmentDeclaration,c.IdOutputShaderChunk=WGS.IdOutputShaderChunk,c.FinalOutputShaderChunk=WGS.FinalOutputShaderChunk,c.ThemingUniform=WGS.ThemingUniform,c.ThemingFragmentDeclaration=WGS.ThemingFragmentDeclaration,c.ThemingFragmentShaderChunk=WGS.ThemingFragmentShaderChunk,c.BackgroundShader=WGS.BackgroundShader,c.BlendShader=WGS.BlendShader,c.CelShader=WGS.CelShader,c.CopyShader=WGS.CopyShader,c.FXAAShader=WGS.FXAAShader,c.SAOBlurShader=WGS.SAOBlurShader,c.SAOMinifyFirstShader=WGS.SAOMinifyFirstShader,c.SAOMinifyShader=WGS.SAOMinifyShader,c.SAOShader=WGS.SAOShader,c.NormalsShader=WGS.NormalsShader,c.EdgeShader=WGS.EdgeShader,c.LineShader=WGS.LineShader,d.LineStyleDefs=WGS.LineStyleDefs,d.CreateLinePatternTexture=WGS.CreateLinePatternTexture,d.CreateCubeMapFromColors=WGS.CreateCubeMapFromColors,d.FloatToHalf=WGS.FloatToHalf,d.HalfToFloat=WGS.HalfToFloat,d.IntToHalf=WGS.IntToHalf,d.HalfToInt=WGS.HalfToInt,d.HalfTest=WGS.HalfTest,c.createShaderMaterial=WGS.createShaderMaterial,c.setMacro=WGS.setMacro,c.removeMacro=WGS.removeMacro,c.LmvShaderPass=WGS.ShaderPass,c.GaussianPass=WGS.GaussianPass,c.GroundShadow=WGS.GroundShadow,c.createGroundShape=WGS.createGroundShape,c.setGroundShapeTransform=WGS.setGroundShapeTransform,c.GroundReflection=WGS.GroundReflection,d.FireflyWebGLShader=WGS.WebGLShader,d.PrismMaps=WGS.PrismMaps,d.GetPrismMapChunk=WGS.GetPrismMapChunk,d.FireflyWebGLProgram=WGS.WebGLProgram,c.ShadowMapCommonUniforms=WGS.ShadowMapCommonUniforms,c.ShadowMapUniforms=WGS.ShadowMapUniforms,c.ShadowMapDeclareCommonUniforms=WGS.ShadowMapDeclareCommonUniforms,c.ShadowMapVertexDeclaration=WGS.ShadowMapVertexDeclaration,c.ShadowMapVertexShaderChunk=WGS.ShadowMapVertexShaderChunk,c.ShadowMapFragmentDeclaration=WGS.ShadowMapFragmentDeclaration,c.FireflyPhongShader=WGS.PhongShader,c.PrismShader=WGS.PrismShader,c.GetPrismMapUniforms=WGS.GetPrismMapUniforms,c.GetPrismMapSampleChunk=WGS.GetPrismMapSampleChunk,c.GetPrismMapUniformChunk=WGS.GetPrismMapUniformChunk,c.AverageOfFloat3=WGS.AverageOfFloat3,d.createPrismMaterial=WGS.createPrismMaterial,d.clonePrismMaterial=WGS.clonePrismMaterial,d.ShadowMapShader=WGS.ShadowMapShader,d.GroundShadowShader=WGS.GroundShadowShader,d.ShadowMapOverrideMaterials=WGS.ShadowMapOverrideMaterials,d.SHADOWMAP_NEEDS_UPDATE=WGS.SHADOWMAP_NEEDS_UPDATE,d.SHADOWMAP_INCOMPLETE=WGS.SHADOWMAP_INCOMPLETE,d.SHADOWMAP_VALID=WGS.SHADOWMAP_VALID,d.ShadowConfig=WGS.ShadowConfig,d.ShadowRender=WGS.ShadowRender,d.ShadowMaps=WGS.ShadowMaps,d.FrustumIntersector=WGS.FrustumIntersector,d.OUTSIDE=WGS.OUTSIDE,d.INTERSECTS=WGS.INTERSECTS,d.CONTAINS=WGS.CONTAINS,d.VBIntersector=WGS.VBIntersector,d.VertexEnumerator=WGS.VertexEnumerator,d.GPU_MEMORY_LIMIT=WGS.GPU_MEMORY_LIMIT,d.GPU_OBJECT_LIMIT=WGS.GPU_OBJECT_LIMIT,d.PAGEOUT_SUCCESS=WGS.PAGEOUT_SUCCESS,d.PAGEOUT_FAIL=WGS.PAGEOUT_FAIL,d.PAGEOUT_NONE=WGS.PAGEOUT_NONE,d.GeometryList=WGS.GeometryList,d.MESH_VISIBLE=WGS.MESH_VISIBLE,d.MESH_HIGHLIGHTED=WGS.MESH_HIGHLIGHTED,d.MESH_HIDE=WGS.MESH_HIDE,d.MESH_ISLINE=WGS.MESH_ISLINE,d.MESH_ISWIDELINE=WGS.MESH_ISWIDELINE,d.MESH_ISPOINT=WGS.MESH_ISPOINT,d.MESH_MOVED=WGS.MESH_MOVED,d.MESH_TRAVERSED=WGS.MESH_TRAVERSED,d.MESH_DRAWN=WGS.MESH_DRAWN,d.MESH_RENDERFLAG=WGS.MESH_RENDERFLAG,d.FragmentPointer=WGS.FragmentPointer,d.FragmentList=WGS.FragmentList,d.RENDER_NORMAL=WGS.RENDER_NORMAL,d.RENDER_HIGHLIGHTED=WGS.RENDER_HIGHLIGHTED,d.RENDER_HIDDEN=WGS.RENDER_HIDDEN,d.RENDER_SHADOWMAP=WGS.RENDER_SHADOWMAP,d.RENDER_FINISHED=WGS.RENDER_FINISHED,d.GROUND_UNFINISHED=WGS.GROUND_UNFINISHED,d.GROUND_FINISHED=WGS.GROUND_FINISHED,d.GROUND_RENDERED=WGS.GROUND_RENDERED,d.RenderBatch=WGS.RenderBatch,b.rescueFromPolymer=WGS.rescueFromPolymer,d.FireflyWebGLRenderer=WGS.WebGLRenderer,d.ModelIteratorLinear=WGS.ModelIteratorLinear,d.ModelIteratorBVH=WGS.ModelIteratorBVH,d.BufferGeometryUtils=WGS.BufferGeometryUtils,d.RenderScene=WGS.RenderScene,d.SortedList=WGS.SortedList,d.ModelIteratorTexQuad=WGS.ModelIteratorTexQuad,d.TexQuadConfig=WGS.TexQuadConfig,d.InstanceTree=WGS.InstanceTree,b.SelectionMode=WGS.SelectionMode,d.MaterialConverter=WGS.MaterialConverter)};var av=Autodesk.Viewing,avp=av.Private;av.getGlobal=getGlobal;var isBrowser=av.isBrowser="undefined"!=typeof navigator,isIE11=av.isIE11=isBrowser&&!!navigator.userAgent.match(/Edge|Trident\/7\./);"undefined"!=typeof window&&isIE11&&function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.CustomEvent.prototype,window.CustomEvent=a}(),ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){if(!b||b>this.byteLength?b=this.byteLength:b<0&&(b=this.byteLength+b)<0&&(b=0),a<0&&(a=this.byteLength+a)<0&&(a=0),b<=a)return new ArrayBuffer;for(var c=b-a,d=new Uint8Array(this,a,c),e=new Uint8Array(c),f=0;f<c;f++)e[f]=d[f];return e.buffer}),function(){Math.log2=Math.log2||function(a){return Math.log(a)/Math.LN2}}(),"undefined"!=typeof window&&(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);var launchFullscreen=av.launchFullscreen=function(a,b){a.requestFullscreen?a.requestFullscreen(b):a.mozRequestFullScreen?a.mozRequestFullScreen(b):a.webkitRequestFullscreen?a.webkitRequestFullscreen(b):a.msRequestFullscreen&&a.msRequestFullscreen(b)},exitFullscreen=av.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},inFullscreen=av.inFullscreen=function(){return"webkitIsFullScreen"in document?!!document.webkitIsFullScreen:"fullscreenElement"in document?!!document.fullscreenElement:"mozFullScreenElement"in document?!!document.mozFullScreenElement:"msFullscreenElement"in document?!!document.msFullscreenElement:!!document.querySelector(".viewer-fill-browser")},fullscreenElement=av.fullscreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},isFullscreenAvailable=av.isFullscreenAvailable=function(a){return a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen||a.msRequestFullscreen},getAndroidVersion=av.getAndroidVersion=function(a){a=a||navigator.userAgent;var b=a.match(/Android\s([0-9\.]*)/);return!!b&&b[1]},isTouchDevice=av.isTouchDevice=function(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)};av.isIOSDevice=function(){return!!isBrowser&&/ip(ad|hone|od)/.test(navigator.userAgent.toLowerCase())},av.isAndroidDevice=function(){return!!isBrowser&&-1!==navigator.userAgent.toLowerCase().indexOf("android")},av.isMobileDevice=function(){return!!isBrowser&&(av.isIOSDevice()||av.isAndroidDevice())},av.isSafari=function(){if(!isBrowser)return!1;var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")},av.isFirefox=function(){return!!isBrowser&&-1!==navigator.userAgent.toLowerCase().indexOf("firefox")},av.isChrome=function(){return!!isBrowser&&-1!==navigator.userAgent.toLowerCase().indexOf("chrome")},av.isMac=function(){return!!isBrowser&&-1!==navigator.userAgent.toLowerCase().indexOf("mac os")},av.isWindows=function(){if(!isBrowser)return!1;var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("win32")||-1!==a.indexOf("windows")},av.ObjectAssign=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},avp.disableTouchSafari=function(a){var b=window.hasOwnProperty("pageXOffset")?window.pageXOffset:document.documentElement.scrollLeft,c=window.hasOwnProperty("pageYOffset")?window.pageYOffset:document.documentElement.scrollTop,d=document.elementFromPoint(a.pageX-b,a.pageY-c);return!d||"CANVAS"!==d.nodeName||(!!d.getAttribute(!0)||(a.preventDefault(),!1))},avp.disableDocumentTouchSafari=function(){av.isMobileDevice()&&av.isSafari()&&(document.documentElement.addEventListener("touchstart",avp.disableTouchSafari,!0),document.documentElement.addEventListener("touchmove",avp.disableTouchSafari,!0),document.documentElement.addEventListener("touchcanceled",avp.disableTouchSafari,!0),document.documentElement.addEventListener("touchend",avp.disableTouchSafari,!0))},avp.enableDocumentTouchSafari=function(){av.isMobileDevice()&&av.isSafari()&&(document.documentElement.removeEventListener("touchstart",avp.disableTouchSafari,!0),document.documentElement.removeEventListener("touchmove",avp.disableTouchSafari,!0),document.documentElement.removeEventListener("touchcanceled",avp.disableTouchSafari,!0),document.documentElement.removeEventListener("touchend",avp.disableTouchSafari,!0))};var detectWebGL=av.detectWebGL=function(){if(window.WebGLRenderingContext){for(var a=document.createElement("canvas"),b=["webgl","experimental-webgl","moz-webgl","webkit-3d"],c=!1,d=0;d<4;d++)try{if(c=a.getContext(b[d]),(c=av.rescueFromPolymer(c))&&"function"==typeof c.getParameter)return 1}catch(a){}return 0}return-1},touchStartToClick=av.touchStartToClick=function(a){a.target.className.indexOf("fullscreen")>-1||a.target.className.indexOf("webvr")>-1||(a.preventDefault(),a.stopPropagation(),a.target.click())};!function(){var a=getGlobal();a.performance||(a.performance=Date)}(),Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},String.prototype.repeat=String.prototype.repeat||function(a){if(a<1)return"";for(var b="",c=this.valueOf();a>1;)1&a&&(b+=c),a>>=1,c+=c;return b+c},Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{enumerable:!1,value:function(a,b,c){b=void 0===b?0:b,c=void 0===c?this.length:c;for(var d=b;d<c;++d)this[d]=a}}),Int32Array.prototype.lastIndexOf=Int32Array.prototype.lastIndexOf||function(a,b){return Array.prototype.lastIndexOf.call(this,a,b)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,value:function(a,b){for(var c=this.length,d=0;d<c;++d){var e=this[d];if(a.call(b,e,d,this))return e}}});var av=Autodesk.Viewing,avp=Autodesk.Viewing.Private;avp.BUILD_LMV_WORKER_URL="lmvworker.min.js",avp.LMV_WORKER_URL=avp.BUILD_LMV_WORKER_URL,avp.ENABLE_DEBUG=avp.ENABLE_DEBUG||!1,avp.ENABLE_INLINE_WORKER=!0,function(){var a=Autodesk.Viewing,b=a.endpoint=a.endpoint||{};a.Private;b.ENDPOINT_API_DERIVATIVE_SERVICE_V2="derivativeV2",b.ENDPOINT_API_MODEL_DERIVATIVE_V2="modelDerivativeV2";var c={derivativeV2:{baseURL:"/derivativeservice/v2",itemURL:"/derivativeservice/v2/derivatives/:derivativeurn",manifestURL:"/derivativeservice/v2/manifest/:urn",thumbnailsURL:"/derivativeservice/v2/thumbnails/:urn"},modelDerivativeV2:{baseURL:"/modelderivative/v2/",itemURL:"/modelderivative/v2/designdata/:urn/manifest/:derivativeurn",manifestURL:"/modelderivative/v2/designdata/:urn/manifest",thumbnailsURL:"/modelderivative/v2/designdata/:urn/thumbnail"}},d="",e=b.ENDPOINT_API_DERIVATIVE_SERVICE_V2,f=!1;b.HTTP_REQUEST_HEADERS={},b.setEndpointAndApi=function(a,b){d=a,b&&(e=b)},b.getEndpointAndApi=function(){return d+c[e].baseURL},b.getApiEndpoint=function(){return d},b.getManifestApi=function(a,b,f){var g=a||d;return f=f||e,g+=c[f].manifestURL,b=b||"",g=g.replace(":urn",b)},b.getItemApi=function(a,b,f){var g=(a||d)+c[f||e].itemURL;b=b||"";var h=b;return h=h.split("/"),h=h[0]||"",h=h.split(":"),h=h[h.length-1]||"",g=g.replace(":urn",h),g=g.replace(":derivativeurn",b)},b.getThumbnailApi=function(a,b,f){return((a||d)+c[f||e].thumbnailsURL).replace(":urn",b||"")},b.makeOssPath=function(a,b,c){return(a||d)+"/oss/v2/buckets/"+b+"/objects/"+encodeURIComponent(decodeURIComponent(c))},b.getUseCredentials=function(){return f},b.pathRequiresCredentials=function(a){return-1===a.indexOf("://")||0===a.indexOf(this.getEndpointAndApi())},b.getDomainParam=function(){return this.getUseCredentials()&&!a.isNodeJS?"domain="+encodeURIComponent(window.location.origin):""},b.setUseCredentials=function(a){f=a}}(),function(a){var b="object"==typeof exports&&exports,c="object"==typeof module&&module&&module.exports==b&&module,d="object"==typeof global&&global;d.global!==d&&d.window!==d||(a=d);var e=function(a){this.message=a};e.prototype=new Error,e.prototype.name="InvalidCharacterError";var f=function(a){throw new e(a)},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/<%= spaceCharacters %>/g,i=function(a){a=String(a).replace(h,"");var b=a.length;b%4==0&&(a=a.replace(/==?$/,""),b=a.length),(b%4==1||/[^+a-zA-Z0-9\/]/.test(a))&&f("Invalid character: the string to be decoded is not correctly encoded.");for(var c,d,e=0,i="",j=-1;++j<b;)d=g.indexOf(a.charAt(j)),c=e%4?64*c+d:d,e++%4&&(i+=String.fromCharCode(255&c>>(-2*e&6)));return i},j=function(a){a=String(a),/[^\0-\xFF]/.test(a)&&f("The string to be encoded contains characters outside of the Latin1 range.");for(var b,c,d,e,h=a.length%3,i="",j=-1,k=a.length-h;++j<k;)b=a.charCodeAt(j)<<16,c=a.charCodeAt(++j)<<8,d=a.charCodeAt(++j),e=b+c+d,i+=g.charAt(e>>18&63)+g.charAt(e>>12&63)+g.charAt(e>>6&63)+g.charAt(63&e);return 2==h?(b=a.charCodeAt(j)<<8,c=a.charCodeAt(++j),e=b+c,i+=g.charAt(e>>10)+g.charAt(e>>4&63)+g.charAt(e<<2&63)+"="):1==h&&(e=a.charCodeAt(j),i+=g.charAt(e>>2)+g.charAt(e<<4&63)+"=="),i},k={encode:j,decode:i,version:"<%= version %>"};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return k});else if(b&&!b.nodeType)if(c)c.exports=k;else for(var l in k)k.hasOwnProperty(l)&&(b[l]=k[l]);else a.base64=k}(this),function(){"use strict";function a(a,b,c){var d=b||65536;this.FULL_COUNT=0|(c||32767),this.useInstancing=a,this.stride=12,this.vb=new ArrayBuffer(4*this.stride*(this.useInstancing?d/4:d)),this.vbf=new Float32Array(this.vb),this.vbi=new Int32Array(this.vb),this.ib=this.useInstancing?null:new Uint16Array(d),this.reset(0)}var b=Autodesk.Viewing,c=b.Private,d=2*Math.PI,e=[0,1,3,0,3,2];a.prototype.reset=function(a){this.vcount=a,this.icount=0,this.minx=this.miny=1/0,this.maxx=this.maxy=-1/0,this.dbIds={},this.numEllipticals=0,this.numCirculars=0,this.numTriangleGeoms=0},a.prototype.expandStride=function(){},a.prototype.addToBounds=function(a,b){a<this.minx&&(this.minx=a),a>this.maxx&&(this.maxx=a),b<this.miny&&(this.miny=b),b>this.maxy&&(this.maxy=b)},a.prototype.setCommonVertexAttribs=function(a,b,c,d,e,f,g,h){b&=255,c&=255,h&=255,f&=65535,g&=65535,this.vbi[a+8]=b|c<<8|h<<16,this.vbi[a+6]=d,this.vbi[a+7]=e,this.vbi[a+9]=f|g<<16,this.dbIds[e]=1},a.prototype.addVertexTriangleGeom=function(a,b,c,d,e,f,g,h,i,j){for(var k=this.vcount,l=this.vbf,m=this.useInstancing?1:4,n=0;n<m;n++){var o=(k+n)*this.stride;l[o]=a,l[o+1]=b,l[o+2]=c,l[o+3]=d,l[o+4]=e,l[o+5]=f,this.setCommonVertexAttribs(o,0+n,5,g,h,i,j,0),this.vcount++}return k},a.prototype.addVertexLine=function(a,b,c,d,e,f,g,h,i,j,k){for(var l=this.vcount,m=this.vbf,n=this.useInstancing?1:4,o=0;o<n;o++){var p=(l+o)*this.stride;m[p]=a,m[p+1]=b,m[p+2]=c,m[p+3]=d,m[p+4]=.5*f,m[p+5]=e,this.setCommonVertexAttribs(p,0+o,1,g,h,i,j,k),this.vcount++}return l},a.prototype.addVertexTexQuad=function(a,b,c,d,e,f,g,h,i){for(var j=this.vcount,k=this.vbf,l=this.useInstancing?1:4,m=0;m<l;m++){var n=(j+m)*this.stride;k[n]=a,k[n+1]=b,k[n+2]=e,k[n+3]=c,k[n+4]=d,this.setCommonVertexAttribs(n,0+m,4,f,g,h,i,0),this.vcount++}return j},a.prototype.addVertexArc=function(a,b,c,d,e,f,g,h,i,j,k,l){for(var m=this.vcount,n=this.vbf,o=e==f?2:3,p=this.useInstancing?1:4,q=0;q<p;q++){var r=(m+q)*this.stride;n[r]=a,n[r+1]=b,n[r+2]=c,n[r+3]=d,n[r+4]=.5*h,n[r+5]=e,3===o&&(n[r+10]=f,n[r+11]=g),this.setCommonVertexAttribs(r,0+q,o,i,j,k,l,0),this.vcount++}return m},a.prototype.addVertex=function(a,b,c,d,e,f){if(!this.useInstancing){var g=this.vcount,h=this.stride*g,i=this.vbf;return i[h]=a,i[h+1]=b,this.setCommonVertexAttribs(h,0,0,c,d,e,f,0),this.vcount++,g}},a.prototype.addVertexPolytriangle=function(a,b,c,d,e,f){this.useInstancing||(this.addVertex(a,b,c,d,e,f),this.addToBounds(a,b))},a.prototype.addIndices=function(a,b){if(!this.useInstancing){var c=this.ib,d=this.icount;if(d+a.length>=c.length){for(var e=new Uint16Array(2*Math.max(a.length,c.length)),f=0;f<d;++f)e[f]=c[f];this.ib=c=e}for(var f=0;f<a.length;++f)c[d+f]=b+a[f];this.icount+=a.length}},a.prototype.finalizeQuad=function(a){this.useInstancing||this.addIndices(e,a)},a.prototype.addSegment=function(a,b,c,d,e,f,g,h,i,j,k){var l=c-a,m=d-b,n=l||m?Math.atan2(m,l):0,o=l||m?Math.sqrt(l*l+m*m):0,p=this.addVertexLine(a,b,n,o,e,f,g,h,i,j,k);this.finalizeQuad(p),this.addToBounds(a,b),this.addToBounds(c,d)},a.prototype.addTriangleGeom=function(a,b,c,d,e,f,g,h,i,j){this.numTriangleGeoms++;var k=this.addVertexTriangleGeom(a,b,c,d,e,f,g,h,i,j);this.finalizeQuad(k),this.addToBounds(a,b),this.addToBounds(c,d),this.addToBounds(e,f)},a.prototype.addArc=function(a,b,c,e,g,h,i,j,k,l,m,n){g==h?this.numCirculars++:this.numEllipticals++;var o=f(c,e);c=o.start,e=o.end,0==c&&0==e&&(e=d);var p=Math.abs(c-e);if(p>1e-4&&Math.abs(p-d)>1e-4){var q=a+g*Math.cos(c),r=b+h*Math.sin(c);this.addSegment(q,r,q,r,0,j,k,l,m,n);var s=a+g*Math.cos(e),t=b+h*Math.sin(e);this.addSegment(s,t,s,t,0,j,k,l,m,n)}else this.addToBounds(a-g,b-h),this.addToBounds(a+g,b+h);var u=this.addVertexLine(a,b,0,1e-4,0,0,1,l,m,n);this.finalizeQuad(u);var v=this.addVertexArc(a,b,c,e,g,h,i,j,k,l,m,n);this.finalizeQuad(v);var p,q,r,s,t},a.prototype.addTexturedQuad=function(a,b,c,d,e,f,g,h,i){var j=this.addVertexTexQuad(a,b,c,d,e,f,g,h,i);this.finalizeQuad(j);var k=.5*Math.cos(e),l=.5*Math.sin(e),m=Math.abs(c*k)+Math.abs(d*l),n=Math.abs(c*l)+Math.abs(d*k);this.addToBounds(a-m,b-n),this.addToBounds(a+m,b+n)},a.prototype.isFull=function(a){a=a||3;var b=this.useInstancing?4:1;return this.vcount*b+a>this.FULL_COUNT},a.prototype.toMesh=function(){var a={};a.vb=new Float32Array(this.vb.slice(0,this.vcount*this.stride*4)),a.vbstride=this.stride;var b=this.useInstancing?1:0;if(a.vblayout={fields1:{offset:0,itemSize:3,bytesPerItem:4,divisor:b,normalize:!1},fields2:{offset:3,itemSize:3,bytesPerItem:4,divisor:b,normalize:!1},color4b:{offset:6,itemSize:4,bytesPerItem:1,divisor:b,normalize:!0},dbId4b:{offset:7,itemSize:4,bytesPerItem:1,divisor:b,normalize:!1},flags4b:{offset:8,itemSize:4,bytesPerItem:1,divisor:b,normalize:!1},layerVp4b:{offset:9,itemSize:4,bytesPerItem:1,divisor:b,normalize:!1}},this.stride>10&&(a.vblayout.extraParams={offset:10,itemSize:2,bytesPerItem:4,divisor:b,normalize:!1}),this.useInstancing){a.numInstances=this.vcount;var c=new Int32Array([0,1,2,3]);a.vblayout.instFlags4b={offset:0,itemSize:4,bytesPerItem:1,divisor:0,normalize:!1},a.vblayout.instFlags4b.array=c.buffer;a.indices=new Uint16Array(e)}else a.indices=new Uint16Array(this.ib.buffer.slice(0,2*this.icount));a.dbIds=this.dbIds;var d=this.maxx-this.minx,f=this.maxy-this.miny,g=Math.max(d,f);a.boundingBox={min:{x:this.minx,y:this.miny,z:.001*-g},max:{x:this.maxx,y:this.maxy,z:.001*g}};a.boundingSphere={center:{x:.5*(this.minx+this.maxx),y:.5*(this.miny+this.maxy),z:0},radius:.5*Math.sqrt(d*d+f*f)};return a};var f=function(a,b){function c(){function c(a,b){return Math.abs(a-b)<.001}c(a,0)&&(a=0),c(b,0)&&(b=0),c(a,d)&&(a=d),c(b,d)&&(b=d)}if(c(),a>b)for(;a>d;)a-=d,
b-=d;else for(;b>d;)a-=d,b-=d;return c(),a<0&&b>0&&(a+=d),{start:a,end:b}};c.VertexBufferBuilder=a}(),function(){"use strict";function a(a,b,d,f){if(this.metadata=a,this.scaleX=1,this.scaleY=1,this.bbox={min:{x:0,y:0,z:0},max:{x:0,y:0,z:0}},this.is2d=!0,this.layersMap={},this.fontDefs={},this.fontCount=0,this.fontId=0,this.manifestAvailable=!1,this.objectMemberQueue=[],this.propertydb={attrs:[],avs:[],ids:[],values:[],offsets:[],rcv_offsets:[],rcvs:[],viewables:[]},a){var g=a.page_dimensions;this.paperWidth=g.page_width,this.paperHeight=g.page_height,this.scaleX=this.paperWidth/g.plot_width,this.scaleY=this.paperHeight/g.plot_height,this.hidePaper=g.hide_paper,this.bbox.max.x=this.paperWidth,this.bbox.max.y=this.paperHeight;var h=0;this.layersMap[0]=h++;for(var i in a.layers){var j=parseInt(i);this.layersMap[j]=h++}this.layerCount=h,this.createLayerGroups(a.layers)}if(this.hidePaper=this.hidePaper||f&&f.modelSpace,this.opCount=0,this.fontFaces=[],this.fontFamilies=[],this.viewports=[0],this.currentVpId=0,this.clips=[0],this.strings=[],this.stringDbIds=[],this.stringBoxes=[],this.currentStringNumber=-1,this.currentStringBox=new WGS.LmvBox3,this.objectNumber=0,this.currentFakeId=-2,this.imageNumber=0,this.maxObjectNumber=0,this.objectStack=[],this.objectNameStack=[],this.parseObjState={polyTriangle:{},viewport:{},clip:{},raster:{},text:{},fontDef:{},uknown:{}},this.layer=0,this.bgColor="number"==typeof f.bgColor?f.bgColor:4294967295,this.contrastColor=this.color=this.fillColor=4278190080,this.hidePaper&&(this.contrastColor=4294967040),this.useInstancing=f&&!!f.useInstancing,this.isMobile=f&&!!f.isMobile,this.max_vcount=this.isMobile?e:void 0,this.currentVbb=new c.VertexBufferBuilder(this.useInstancing,void 0,this.max_vcount),this.meshes=[],this.numCircles=this.numEllipses=this.numPolylines=this.numLineSegs=0,this.numPolytriangles=this.numTriangles=0,this.error=!1,this.offsetX=0,this.offsetY=0,b){this.manifestAvailable=!0,this.imageId2URI={};for(var k=b.assets,l=0,m=k.length;l<m;++l){var n=k[l];if(-1!=n.mime.indexOf("image/")){var o=n.id;o=o.substr(0,o.indexOf(".")),this.imageId2URI[o]=d+n.URI}"Autodesk.CloudPlatform.PropertyAttributes"==n.type&&this.propertydb.attrs.push(n.URI),"Autodesk.CloudPlatform.PropertyValues"==n.type&&this.propertydb.values.push(n.URI),"Autodesk.CloudPlatform.PropertyIDs"==n.type&&this.propertydb.ids.push(n.URI),"Autodesk.CloudPlatform.PropertyViewables"==n.type&&this.propertydb.viewables.push(n.URI),"Autodesk.CloudPlatform.PropertyOffsets"==n.type&&(-1!=n.id.indexOf("rcv")?this.propertydb.rcv_offsets.push(n.URI):this.propertydb.offsets.push(n.URI)),"Autodesk.CloudPlatform.PropertyAVs"==n.type&&this.propertydb.avs.push(n.URI),"Autodesk.CloudPlatform.PropertyRCVs"==n.type&&this.propertydb.rcvs.push(n.URI)}}}var b=Autodesk.Viewing,c=b.Private,d=Autodesk.LMVTK,e=16383,f={dt_object:0,dt_void:1,dt_byte:2,dt_int:3,dt_float:4,dt_double:5,dt_varint:6,dt_point_varint:7,dt_byte_array:32,dt_int_array:33,dt_float_array:34,dt_double_array:35,dt_varint_array:36,dt_point_varint_array:37,dt_arc:38,dt_circle:39,dt_circular_arc:40,dt_string:63,dt_last_data_type:127},g={st_object_member:0,st_fill:1,st_fill_off:2,st_clip_off:3,st_layer:4,st_link:5,st_line_weight:6,st_miter_angle:7,st_miter_length:8,st_line_pattern_ref:9,st_back_color:10,st_color:11,st_markup:12,st_object_id:13,st_markup_id:14,st_reset_rel_offset:15,st_font_ref:16,st_begin_object:32,st_clip:33,st_line_caps:34,st_line_join:35,st_line_pattern_def:36,st_font_def:37,st_viewport:38,st_sheet:42,st_arc:43,st_polyline:44,st_raster:45,st_text:46,st_polytriangle:47,st_dot:48,st_end_object:63,st_last_semantic_type:127};a.prototype.load=function(a,b){if(b instanceof Uint8Array||(b=new Uint8Array(b)),this.data=b,this.parse(),this.stringBoxes.length){var c=new Float32Array(this.stringBoxes.length);c.set(this.stringBoxes),this.stringBoxes=c}a.loadDoneCB(!0)},a.prototype.loadFrames=function(a){this.loadContext=a;var b=a.data;if(b)b instanceof Uint8Array||(b=new Uint8Array(b)),this.data=b;else if(a.finalFrame&&(this.data=null,this.stringBoxes.length)){var c=new Float32Array(this.stringBoxes.length);c.set(this.stringBoxes),this.stringBoxes=c}this.parseFrames(a.finalFrame),a.loadDoneCB(!0)},a.prototype.pushMesh=function(a){this.meshes.push(a),a.material={skipEllipticals:!this.currentVbb.numEllipticals,skipCircles:!this.currentVbb.numCirculars,skipTriangleGeoms:!this.currentVbb.numTriangleGeoms,useInstancing:this.currentVbb.useInstancing},this.currentImage&&(a.material.image=this.currentImage,a.material.image.name=this.imageNumber++,this.currentImage=null)},a.prototype.flushBuffer=function(a,b){if(this.currentVbb.vcount||b){var d=b;if(d=d||this.currentVbb.isFull(a)){if(this.currentVbb.vcount){var e=this.currentVbb.toMesh();WGS.VBUtils.bboxUnion(this.bbox,e.boundingBox),this.pushMesh(e),this.currentVbb=new c.VertexBufferBuilder(this.useInstancing,void 0,this.max_vcount)}this.loadContext&&this.loadContext.loadDoneCB(!0,b)}}},a.prototype.tx=function(a){return this.sx(a)},a.prototype.ty=function(a){return this.sy(a)},a.prototype.sx=function(a){return a*this.scaleX},a.prototype.sy=function(a){return a*this.scaleY},a.prototype.invertColor=function(a){var b=a>>24&255,c=a>>16&255,d=a>>8&255,e=255&a;return c=255-c,d=255-d,e=255-e,b<<24|c<<16|d<<8|e},a.prototype.mapColor=function(a,b){if(!this.hidePaper)return a;if(0!==this.bgColor)return a;var c=255&a,d=(65280&a)>>8,e=(16711680&a)>>16,f=c===d&&c===e;return c<127||f&&b&&(a&=2583691263),a},a.prototype.restoreSignBitFromLSB=function(a){return 1&a?-(a>>>1):a>>>1},a.prototype.parsePointPositions=function(){var a=this.stream.getVarints(),b=this.stream.getVarints();return a=this.restoreSignBitFromLSB(a),b=this.restoreSignBitFromLSB(b),a+=this.offsetX,b+=this.offsetY,this.offsetX=a,this.offsetY=b,[this.tx(a),this.ty(b)]},a.prototype.parserAssert=function(a,b,d){return a!=b&&(c.logger.warn("Expect "+b+"; actual type is "+a+"; in function "+d),this.error=!0,!0)},a.prototype.unhandledTypeWarning=function(a,b){c.logger.warn("Unhandled semantic type : "+b+" in function "+a)},a.prototype.parseObject=function(){var a=this.stream.getVarints();switch(this.objectStack.push(a),a){case g.st_sheet:this.objectNameStack.push("sheet"),this.objectMemberQueue.unshift("paperColor");break;case g.st_viewport:this.objectNameStack.push("viewport"),this.objectMemberQueue.unshift("units","transform");break;case g.st_clip:this.objectNameStack.push("clip"),this.objectMemberQueue.unshift("contourCounts","points","indices");break;case g.st_polytriangle:this.objectNameStack.push("polyTriangle"),this.objectMemberQueue.unshift("points","indices","colors");break;case g.st_raster:this.objectNameStack.push("raster"),this.objectMemberQueue.unshift("position","width","height","imageId");break;case g.st_text:this.currentStringNumber=this.strings.length,0===this.objectNumber&&(this.objectNumber=this.currentFakeId--),this.currentStringBox.makeEmpty(),this.objectNameStack.push("text"),this.objectMemberQueue.unshift("string","position","height","widthScale","rotation","oblique","charWidths");break;case g.st_font_def:this.objectNameStack.push("fontDef"),this.objectMemberQueue.unshift("name","fullName","flags","spacing","panose");break;case g.st_end_object:if(this.objectStack.pop(),this.objectStack.length){switch(this.objectStack.pop()){case g.st_polytriangle:this.actOnPolyTriangle();break;case g.st_viewport:this.actOnViewport();break;case g.st_clip:this.actOnClip();break;case g.st_raster:this.actOnRaster();break;case g.st_text:this.actOnText();break;case g.st_font_def:this.actOnFontDef()}var b=this.objectNameStack.pop(),c=this.parseObjState[b];for(var d in c)c[d]=null}else this.parserAssert(0,1,"parseEndObject (Stack Empty)");this.objectMemberQueue.length=0;break;default:this.objectNameStack.push("unknown"),this.error=!0,this.unhandledTypeWarning("parseObject",a)}},a.prototype.initSheet=function(a){if(this.bgColor=a,!this.hidePaper&&this.metadata){var b=this.paperWidth,c=this.paperHeight,d=this.currentVbb,e=.0075*b,f=[0,0,b,0,b,c,0,c,e,-e,b+e,-e,b+e,0,e,0,b,0,b+e,0,b+e,c-e,b,c-e],g=[a,a,a,a,4283782485,4283782485,4283782485,4283782485,4283782485,4283782485,4283782485,4283782485],h=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11];this.addPolyTriangle(f,g,h,4294967295,-1,0,!1),d.addSegment(0,0,b,0,0,1e-6,4278190080,-1,0,this.currentVpId),d.addSegment(b,0,b,c,0,1e-6,4278190080,-1,0,this.currentVpId),d.addSegment(b,c,0,c,0,1e-6,4278190080,-1,0,this.currentVpId),d.addSegment(0,c,0,0,0,1e-6,4278190080,-1,0,this.currentVpId)}},a.prototype.setObjectMember=function(a){if(!this.objectMemberQueue.length)return c.logger.warn("Unexpected object member. "+a+" on object "+this.objectNameStack[this.objectNameStack.length-1]),!1;var b=this.objectMemberQueue.shift(),d=this.objectNameStack[this.objectNameStack.length-1];return"sheet"==d&&"paperColor"==b?(this.initSheet(a),!0):!!d&&(this.parseObjState[d][b]=a,!0)},a.prototype.parseString=function(){var a=this.stream,b=a.getVarints(),d=a.getVarints(),e=a.getString(d);switch(b){case g.st_object_member:if(this.setObjectMember(e))return;break;default:c.logger.info("Unexpected opcode semantic type for string.")}return e},a.prototype.actOnFontDef=function(){var a=this.parseObjState.fontDef;this.fontDefs[++this.fontCount]=a,this.fontId=this.fontCount},a.prototype.parsePoint=function(){var a=this.stream,b=a.getVarints(),d=this.parsePointPositions();switch(b){case g.st_object_member:if(this.setObjectMember(d))return;break;default:c.logger.info("Unexpected opcode semantic type for point.")}return d},a.prototype.parsePointsArray=function(){var a=this.stream,b=a.getVarints(),d=a.getVarints();if(d){d/=2;for(var e,f=[],h=0;h<d;++h)e=this.parsePointPositions(),f.push(e[0]),f.push(e[1]);switch(b){case g.st_polyline:return void this.actOnPolylinePointsArray(f);case g.st_dot:return void this.actOnDot(f);case g.st_object_member:if(this.setObjectMember(f))return;break;default:c.logger.info("Unexpected opcode semantic type for points array.")}return f}},a.prototype.parseIntArray=function(){for(var a=this.stream,b=a.getVarints(),c=a.getVarints(),d=[],e=0;e<c;++e)d.push(a.getUint32());switch(b){case g.st_object_member:if(this.setObjectMember(d))return;break;default:this.unhandledTypeWarning("parseIntArray",b)}return d},a.prototype.parseDoubleArray=function(){for(var a=this.stream,b=a.getVarints(),c=a.getVarints(),d=[],e=0;e<c;++e)d.push(a.getFloat64());switch(b){case g.st_object_member:if(this.setObjectMember(d))return;break;default:this.unhandledTypeWarning("parseDoubleArray",b)}return d},a.prototype.parseByteArray=function(){for(var a=this.stream,b=a.getVarints(),c=a.getVarints(),d=[],e=0;e<c;++e)d.push(a.getUint8());switch(b){case g.st_object_member:if(this.setObjectMember(d))return;break;default:this.unhandledTypeWarning("parseByteArray",b)}return d},a.prototype.parseVarintArray=function(){for(var a=this.stream,b=a.getVarints(),c=[],d=a.getVarints(),e=0;e<d;++e)c.push(a.getVarints());switch(b){case g.st_object_member:if(this.setObjectMember(c))return;break;default:this.unhandledTypeWarning("parseVarIntArray",b)}return c},a.prototype.parseInt=function(){var a=this.stream,b=a.getVarints(),c=a.getUint32();switch(b){case g.st_color:this.color=this.mapColor(c,!1);break;case g.st_fill:this.fill=!0,this.fillColor=this.mapColor(c,!0);break;case g.st_object_member:if(this.setObjectMember(c))return;default:this.unhandledTypeWarning("parseInt",b)}return c},a.prototype.parseVoid=function(){var a=this.stream.getVarints();switch(a){case g.st_fill_off:this.fill=!1;break;default:this.unhandledTypeWarning("parseVoid",a)}},a.prototype.parseVarint=function(){var a=this.stream,b=a.getVarints(),c=a.getVarints();switch(b){case g.st_line_weight:this.lineWeight=this.tx(c);break;case g.st_object_id:case g.st_markup_id:this.objectNumber=c,this.maxObjectNumber=Math.max(this.maxObjectNumber,c);break;case g.st_layer:this.layer=this.layersMap[c];break;case g.st_font_ref:this.fontId=c;break;case g.st_object_member:if(this.setObjectMember(c))return}return c},a.prototype.parseFloat=function(){var a=this.stream,b=a.getVarints(),c=a.getFloat32();switch(b){case g.st_miter_angle:case g.st_miter_length:break;case g.st_object_member:if(this.setObjectMember(c))return}return c},a.prototype.parseCircularArc=function(){var a=this.stream,b=a.getVarints();if(!this.parserAssert(b,g.st_arc,"parseCircularArc")){var c=this.parsePointPositions(),d=a.getVarints(),e=a.getFloat32(),f=a.getFloat32();this.actOnCircularArc(c[0],c[1],e,f,this.sx(d))}},a.prototype.parseCircle=function(){var a=this.stream,b=a.getVarints();if(!this.parserAssert(b,g.st_arc,"parseCircle")){var c=this.parsePointPositions(),d=a.getVarints();this.actOnCompleteCircle(c[0],c[1],this.sx(d))}},a.prototype.parseArc=function(){var a=this.stream,b=a.getVarints();if(!this.parserAssert(b,g.st_arc,"parseArc")){var c=this.parsePointPositions(),d=a.getVarints(),e=a.getVarints(),f=a.getFloat32(),h=a.getFloat32(),i=a.getFloat32();this.actOnArc(c[0],c[1],h,i,this.sx(d),this.sy(e),f)}},a.prototype.parseDataType=function(){var a=this.stream.getVarints();switch(a){case f.dt_void:this.parseVoid();break;case f.dt_int:this.parseInt();break;case f.dt_object:this.parseObject();break;case f.dt_varint:this.parseVarint();break;case f.dt_point_varint:this.parsePoint();break;case f.dt_float:this.parseFloat();break;case f.dt_point_varint_array:this.parsePointsArray();break;case f.dt_circular_arc:this.parseCircularArc();break;case f.dt_circle:this.parseCircle();break;case f.dt_arc:this.parseArc();break;case f.dt_int_array:this.parseIntArray();break;case f.dt_varint_array:this.parseVarintArray();break;case f.dt_byte_array:this.parseByteArray();break;case f.dt_string:this.parseString();break;case f.dt_double_array:this.parseDoubleArray();break;default:this.error=!0,c.logger.info("Data type not supported yet: "+a)}},a.prototype.readHeader=function(){var a=this.stream=new WGS.InputStream(this.data),d=a.getString(3);if("F2D"!=d)return c.logger.error("Invalid F2D header : "+d,b.errorCodeString(b.ErrorCodes.BAD_DATA)),!1;var e=a.getString(2);if("01"!=e)return c.logger.error("Only support f2d major version 1; actual version is : "+e,b.errorCodeString(b.ErrorCodes.BAD_DATA)),!1;if("."!=a.getString(1))return c.logger.error("Invalid version delimiter.",b.errorCodeString(b.ErrorCodes.BAD_DATA)),!1;a.getString(2);return!0},a.prototype.parse=function(){if(this.readHeader()){for(var a=this.stream;a.offset<a.byteLength&&(this.parseDataType(),!this.error);)this.opCount++;this.flushBuffer(0,!0),this.currentVbb=null,this.stream=null,this.data=null,c.logger.info("F2d parse: data types count : "+this.opCount)}},a.prototype.parseFrames=function(a){if(this.data)for(var b=this.stream=new WGS.InputStream(this.data);b.offset<b.byteLength&&(this.parseDataType(),!this.error);)this.opCount++;else a||c.logger.warn("Unexpected F2D parse state: If there is no data, we only expect a flush command, but flush was false.");a&&this.flushBuffer(0,!0),this.stream=null,this.data=null},a.prototype.actOnPolylinePointsArray=function(a){this.flushBuffer(),this.numPolylines++;for(var b=a.length/2,c=0,d=a[0],e=a[1],f=1;f<b;++f){var g=a[2*f],h=a[2*f+1];this.currentVbb.addSegment(d,e,g,h,c,this.lineWeight,this.color,this.objectNumber,this.layer,this.currentVpId),c+=Math.sqrt((g-d)*(g-d)+(h-e)*(h-e)),d=g,e=h}this.numLineSegs+=b-1},a.prototype.actOnDot=function(a){var b=a[0],c=a[1];this.actOnCompleteCircle(b,c,this.sx(1))},a.prototype.actOnCompleteCircle=function(a,b,c){this.flushBuffer(),this.numCircles++,this.fill?this.currentVbb.addSegment(a,b,a,b,0,2*c,this.color,this.objectNumber,this.layer,this.currentVpId,!0,!1,!0):this.currentVbb.addArc(a,b,0,2*Math.PI,c,c,0,this.lineWeight,this.color,this.objectNumber,this.layer,this.currentVpId)},a.prototype.actOnCircularArc=function(a,b,c,d,e){this.numCircles++,this.flushBuffer(),this.currentVbb.addArc(a,b,c,d,e,e,0,this.lineWeight,this.color,this.objectNumber,this.layer,this.currentVpId)},a.prototype.actOnArc=function(a,b,c,d,e,f,g){this.numEllipses++,this.flushBuffer(),this.currentVbb.addArc(a,b,c,d,e,f,g,this.lineWeight,this.color,this.objectNumber,this.layer,this.currentVpId)},a.prototype.actOnRaster=function(){if(this.manifestAvailable){this.flushBuffer(4,!0);var a=this.parseObjState.raster,b=a.position,c=a.imageId,d=this.imageId2URI[c],e=this.sx(a.width),f=this.sy(a.height),g=b[0]+.5*e,h=b[1]-.5*f;this.currentVbb.addTexturedQuad(g,h,e,f,0,4278255615,this.objectNumber,this.layer,this.currentVpId),this.currentImage={dataURI:d},this.flushBuffer(0,!0)}},a.prototype.actOnClip=function(){var a=this.parseObjState.clip;this.parseObjState.clip={},this.clips.push(a)},a.prototype.actOnText=function(){this.strings[this.currentStringNumber]=this.parseObjState.text.string,this.stringDbIds[this.currentStringNumber]=this.objectNumber,this.stringBoxes.push(this.currentStringBox.min.x,this.currentStringBox.min.y,this.currentStringBox.max.x,this.currentStringBox.max.y),this.currentStringBox.makeEmpty(),this.currentStringNumber=-1,this.objectNumber<-1&&(this.objectNumber=0)};var h=new WGS.LmvVector3;a.prototype.addPolyTriangle=function(a,b,d,e,f,i,j){function k(a,b){if(a>b){var c=a;a=b,b=c}if(n[a]){var d=n[a],e=d.lastIndexOf(b);-1==e?d.push(b):d[e]=-1}else n[a]=[b]}function l(d,g){if(d>g){var h=d;d=g,g=h}var j=n[d];if(j){-1!=j.indexOf(g)&&(m.flushBuffer(4),m.currentVbb.addSegment(a[2*d],a[2*d+1],a[2*g],a[2*g+1],0,o,m.mapColor(b?b[d]:e,!0),f,i,m.currentVpId),b&&b[d]!=b[g]&&c.logger.warn("Gouraud triangle encountered. Will have incorrect antialiasing."))}}var m=this,n=null,o=-1;if(this.objectStack[this.objectStack.length-1]==g.st_text&&(o=-.5),j){n=new Array(a.length/2);for(var p=0,q=d.length;p<q;p+=3){var r=d[p],s=d[p+1],t=d[p+2];k(r,s),k(s,t),k(t,r)}}if(-1!==this.currentStringNumber)for(var u=a.length/2,p=0;p<u;++p)h.set(a[2*p],a[2*p+1],0),this.currentStringBox.expandByPoint(h);if(this.currentVbb.useInstancing)for(var u=d.length,p=0;p<u;p+=3){var r=d[p],s=d[p+1],t=d[p+2];this.flushBuffer(4),this.currentVbb.addTriangleGeom(a[2*r],a[2*r+1],a[2*s],a[2*s+1],a[2*t],a[2*t+1],this.mapColor(b?b[r]:e,!0),f,i,this.currentVpId),j&&(l(r,s),l(s,t),l(t,r))}else{var u=a.length/2;this.flushBuffer(u);for(var v=this.currentVbb,w=v.vcount,p=0;p<u;++p){var x=a[2*p],y=a[2*p+1];v.addVertexPolytriangle(x,y,this.mapColor(b?b[p]:e,!0),f,i,this.currentVpId)}v.addIndices(d,w),j&&function(){for(var d=0,g=n.length;d<g;d++){var h=n[d];if(h)for(var j=0;j<h.length;j++){var k=h[j];-1!=k&&(m.flushBuffer(4),m.currentVbb.addSegment(a[2*d],a[2*d+1],a[2*k],a[2*k+1],0,o,m.mapColor(b?b[d]:e,!0),f,i,m.currentVpId),b&&b[d]!=b[k]&&c.logger.warn("Gouraud triangle encountered. Will have incorrect antialiasing."))}}}()}},a.prototype.actOnPolyTriangle=function(){var a=this.parseObjState.polyTriangle;this.parseObjState.polyTriangle={};var b=a.points,d=a.indices,e=a.colors;if(!b||!d)return void c.logger.warn("Malformed polytriangle.");this.numPolytriangles++,this.numTriangles+=d.length/3,this.addPolyTriangle(b,e,d,this.color,this.objectNumber,this.layer,!0)},a.prototype.actOnViewport=function(){var a=this.parseObjState.viewport;this.parseObjState.viewport={},this.viewports.push(a),this.currentVpId=this.viewports.length-1},a.prototype.createLayerGroups=function(a){function b(a){var c=Object.keys(a.childrenByName).map(function(b){return a.childrenByName[b]});if(delete a.childrenByName,c.length){a.children=c,a.childCount=0;for(var d=0;d<c.length;++d)a.childCount+=b(c[d]);c.sort(function(a,b){return a.isLayer&&!b.isLayer?-1:!a.isLayer&&b.isLayer?1:a.name.localeCompare(b.name,void 0,{sensitivity:"base",numeric:!0})})}return a.isLayer?1:a.childCount}var c=this.layersRoot={name:"root",id:"root",childrenByName:{},isLayer:!1},d=0,e=0;for(var f in a){var g=parseInt(f),h=a[f],i="string"==typeof h?h:h.name;i||(i=f);var j=i.split("|"),k=c;if(j.length>1)for(var l=0;l<j.length-1;++l){var m=j[l],n=k.childrenByName[m];n||(n={name:m,id:"group-"+d++,childrenByName:{},isLayer:!1},k.childrenByName[m]=n),k=n}k.childrenByName[i]={name:i,index:g,id:e++,childrenByName:{},isLayer:!0}}b(this.layersRoot)},d.F2D=a,d.F2dDataType=f,d.F2dSemanticType=g}(),function(){"use strict";function a(a,b,c,e){d.F2D.call(this,a,b,c,e)}var b=Autodesk.Viewing,c=b.Private,d=Autodesk.LMVTK;a.prototype=Object.create(d.F2D.prototype),a.prototype.constructor=a,a.prototype.load=function(a,b){b instanceof Uint8Array||(b=new Uint8Array(b)),this.data=b,this.readHeader()},a.prototype.loadFrames=function(a){if(this.loadContext=a,this.acceptMeshCB=a.acceptMeshCB,null==this.stream){var b=a.data;if(b)b instanceof Uint8Array||(b=new Uint8Array(b)),this.data=b;else if(a.finalFrame&&(this.data=null,this.stringBoxes.length)){var c=new Float32Array(this.stringBoxes.length);c.set(this.stringBoxes),this.stringBoxes=c}}this.parseFrames(a.finalFrame),a.loadDoneCB(!0)},a.prototype.pushMesh=function(a){this.acceptMeshCB&&!this.acceptMeshCB(a)||d.F2D.prototype.pushMesh.call(this,a)},a.prototype.parseFrames=function(a){if(this.data||this.stream){this.stream||(this.stream=new WGS.InputStream(this.data));for(var b=this.stream;b.offset<b.byteLength;){if(this.meshes.length>0)return;if(this.parseDataType(),this.error)break;this.opCount++}}else a||c.logger.warn("Unexpected F2D parse state: If there is no data, we only expect a flush command, but flush was false.");a&&this.flushBuffer(0,!0),this.stream=null,this.data=null},a.prototype.saveState=function(){var a={};a.fontCount=this.fontCount,a.fontId=this.fontId,a.objectMemberQueue=[].concat(this.objectMemberQueue),a.viewportCount=this.viewports.length,a.currentVpId=this.currentVpId,a.clipsCount=this.clips.length,a.stringsCount=this.strings.length,a.currentStringNumber=this.currentStringNumber,a.currentStringBox=this.currentStringBox.clone(),a.objectNumber=this.objectNumber,a.currentFakeId=this.currentFakeId,a.maxObjectNumber=this.maxObjectNumber,a.objectStack=[].concat(this.objectStack),a.objectNameStack=[].concat(this.objectNameStack);var b=a.parseObjState={},c=b.polyTriangle={};c.points=this.parseObjState.polyTriangle.points,c.indices=this.parseObjState.polyTriangle.indices,c.colors=this.parseObjState.polyTriangle.colors;var d=b.viewport={};d.units=this.parseObjState.viewport.units,d.transform=this.parseObjState.viewport.transform;var e=b.clip={};e.contourCounts=this.parseObjState.clip.contourCounts,e.points=this.parseObjState.clip.points,e.indices=this.parseObjState.clip.indices;var f=b.raster={};f.position=this.parseObjState.raster.position,f.width=this.parseObjState.raster.width,f.height=this.parseObjState.raster.height,f.imageId=this.parseObjState.raster.imageId;var g=b.text={};g.string=this.parseObjState.text.string,g.position=this.parseObjState.text.position,g.height=this.parseObjState.text.height,g.widthScale=this.parseObjState.text.widthScale,g.rotation=this.parseObjState.text.rotation,g.oblique=this.parseObjState.text.oblique,g.charWidths=this.parseObjState.text.charWidths;var h=b.fontDef={};return h.name=this.parseObjState.fontDef.name,h.fullName=this.parseObjState.fontDef.fullName,h.flags=this.parseObjState.fontDef.flags,h.spacing=this.parseObjState.fontDef.spacing,h.panose=this.parseObjState.fontDef.panose,b.uknown={},a.lineWeight=this.lineWeight,a.color=this.color,a.layer=this.layer,a.bgColor=this.bgColor,a.vbbCount=this.currentVbb.vcount,a.numCircles=this.numCircles,a.numEllipses=this.numEllipses,a.numPolylines=this.numPolylines,a.numLineSegs=this.numLineSegs,a.numPolytriangles=this.numPolytriangles,a.numTriangles=this.numTriangles,a.error=this.error,a.offsetX=this.offsetX,a.offsetY=this.offsetY,a.streamPosition=null==this.stream?0:this.stream.offset,a},a.prototype.restoreState=function(a,b){if(b||!this.stream||a.streamPosition!=this.stream.offset){if(b)this.stream=new WGS.InputStream(b);else if(!this.stream)return!1;this.stream.seek(a.streamPosition),this.currentVbb.reset(a.vbbCount),this.fontCount=a.fontCount,this.fontId=a.fontId,this.objectMemberQueue=[].concat(a.objectMemberQueue),this.viewports.length=a.viewportCount,this.currentVpId=a.currentVpId,this.clips.length=a.clipsCount,this.strings.length=a.stringsCount,this.currentStringNumber=a.currentStringNumber,this.currentStringBox=a.currentStringBox,this.objectNumber=a.objectNumber,this.currentFakeId=a.currentFakeId,this.maxObjectNumber=a.maxObjectNumber,this.objectStack=[].concat(a.objectStack),this.objectNameStack=[].concat(a.objectNameStack);var c=this.parseObjState,d=c.polyTriangle;d.points=a.parseObjState.polyTriangle.points,d.indices=a.parseObjState.polyTriangle.indices,d.colors=a.parseObjState.polyTriangle.colors;var e=c.viewport;e.units=a.parseObjState.viewport.units,e.transform=a.parseObjState.viewport.transform;var f=c.clip;f.contourCounts=a.parseObjState.clip.contourCounts,f.points=a.parseObjState.clip.points,f.indices=a.parseObjState.clip.indices;var g=c.raster;g.position=a.parseObjState.raster.position,g.width=a.parseObjState.raster.width,g.height=a.parseObjState.raster.height,g.imageId=a.parseObjState.raster.imageId;var h=c.text;h.string=a.parseObjState.text.string,h.position=a.parseObjState.text.position,h.height=a.parseObjState.text.height,h.widthScale=a.parseObjState.text.widthScale,h.rotation=a.parseObjState.text.rotation,h.oblique=a.parseObjState.text.oblique,h.charWidths=a.parseObjState.text.charWidths;var i=c.fontDef;i.name=a.parseObjState.fontDef.name,i.fullName=a.parseObjState.fontDef.fullName,i.flags=a.parseObjState.fontDef.flags,i.spacing=a.parseObjState.fontDef.spacing,i.panose=a.parseObjState.fontDef.panose,this.lineWeight=a.lineWeight,this.color=a.color,this.layer=a.layer,this.bgColor=a.bgColor,this.numCircles=a.numCircles,this.numEllipses=a.numEllipses,this.numPolylines=a.numPolylines,this.numLineSegs=a.numLineSegs,this.numPolytriangles=a.numPolytriangles,this.numTriangles=a.numTriangles,this.error=a.error,this.offsetX=a.offsetX,this.offsetY=a.offsetY}return!0},d.F2DOnDemand=a}(),function(){"use strict";function a(){this.data=null,this.frameStart=0,this.frameEnd=0,this.stream=null,this.opCount=0,this.marker={frameStart:this.frameStart,frameEnd:this.frameEnd}}var b=Autodesk.LMVTK,c=Autodesk.Viewing,d=Autodesk.Viewing.Private;a.prototype.load=function(a){return this.data=a,this.frameStart=0,this.stream?(this.stream.reset(this.data),this.stream.seek(0),this.frameEnd=0):(this.stream=new b.CheckedInputStream(this.data),this.stream.seek(8),this.frameStart=8,this.frameEnd=8),this.probe(),this.marker.frameStart=this.frameStart,this.marker.frameEnd=this.frameEnd,this.marker};var e=b.F2dDataType,f=b.F2dSemanticType;a.prototype.readColor=function(){var a=this.stream;a.getVarints(),a.getVarints(),a.skipUint32()},a.prototype.parsePointPositions=function(){this.stream.getVarints(),this.stream.getVarints()},a.prototype.unhandledTypeWarning=function(a,b){d.logger.warn("Unhandled semantic type when probing F2d : "+b+" in function "+a)},a.prototype.parseObject=function(){this.stream.getVarints()},a.prototype.parseString=function(){var a=this.stream;a.getVarints();var b=a.getVarints();a.skipBytes(b)},a.prototype.parsePoint=function(){this.stream.getVarints(),this.parsePointPositions()},a.prototype.parseVarintArray=function(){var a=this.stream;a.getVarints();for(var b=a.getVarints(),c=0;c<b;++c)a.getVarints()},a.prototype.parseByteArray=function(){var a=this.stream;a.getVarints();var b=a.getVarints();a.skipBytes(b)},a.prototype.parseEndOfObject=function(){var a=this.stream;a.getVarints(),a.getVarints()},a.prototype.parsePointsArray=function(a){var b=this.stream,c=(b.getVarints(),b.getVarints());if(c){c/=2;for(var d=0;d<c;++d)this.parsePointPositions()}},a.prototype.parsePoint=function(a){var b=this.stream;b.getVarints();this.parsePointPositions()},a.prototype.parseInt=function(){var a=this.stream,b=a.getVarints();switch(b){case f.st_color:case f.st_fill:a.skipUint32();break;default:a.skipUint32(),this.unhandledTypeWarning("parseInt",b)}},a.prototype.parseVoid=function(){var a=this.stream.getVarints();switch(a){case f.st_fill_off:break;default:this.unhandledTypeWarning("parseVoid",a)}},a.prototype.parseVarint=function(){this.stream.getVarints(),this.stream.getVarints()},a.prototype.parseIntArray=function(){var a=this.stream;a.getVarints();for(var b=a.getVarints(),c=0;c<b;++c)a.skipUint32()},a.prototype.parseFloat=function(){var a=this.stream;a.getVarints(),a.getFloat32()},a.prototype.parseDoubleArray=function(){var a=this.stream;a.getVarints();for(var b=a.getVarints(),c=0;c<b;++c)a.skipFloat64()},a.prototype.parseCircularArc=function(){var a=this.stream;a.getVarints(),this.parsePointPositions(),a.getVarints(),a.getFloat32(),a.getFloat32()},a.prototype.parseCircle=function(){var a=this.stream;a.getVarints(),this.parsePointPositions(),a.getVarints()},a.prototype.parseArc=function(){var a=this.stream;a.getVarints(),this.parsePointPositions(),a.getVarints(),a.getVarints(),a.getFloat32(),a.getFloat32(),a.getFloat32()},a.prototype.parseDataType=function(){var a=this.stream.getVarints();switch(a){case e.dt_void:this.parseVoid();break;case e.dt_int:this.parseInt();break;case e.dt_object:this.parseObject();break;case e.dt_varint:this.parseVarint();break;case e.dt_float:this.parseFloat();break;case e.dt_point_varint:this.parsePoint();break;case e.dt_point_varint_array:this.parsePointsArray();break;case e.dt_circular_arc:this.parseCircularArc();break;case e.dt_circle:this.parseCircle();break;case e.dt_arc:this.parseArc();break;case e.dt_varint_array:this.parseVarintArray();break;case e.dt_int_array:this.parseIntArray();break;case e.dt_byte_array:this.parseByteArray();break;case e.dt_string:this.parseString();break;case e.dt_double_array:this.parseDoubleArray();break;default:this.error=!0,d.logger.error("Bad op code encountered : "+a+" , bail out.",c.errorCodeString(c.ErrorCodes.BAD_DATA))}this.error||(this.frameEnd=this.stream.offset)},a.prototype.probe=function(){var a=this.stream;try{for(;a.offset<a.byteLength&&(this.parseDataType(),!this.error);)this.opCount++}catch(a){a.toString(),a.stack&&a.stack.toString()}},b.F2DProbe=a}(),function(){"use strict";function a(a){this.buffer=a,this.offset=0,this.byteLength=a.length,this.convBuf=new ArrayBuffer(8),this.convUint8=new Uint8Array(this.convBuf),this.convUint16=new Uint16Array(this.convBuf),this.convInt32=new Int32Array(this.convBuf),this.convUint32=new Uint32Array(this.convBuf)}function b(a){this.offset=a,this.message="try to access an offset that is out of bounds: "+this.offset,this.toString=function(){return this.message}}var c=Autodesk.LMVTK;a.prototype.boundsCheck=function(a){if(a>=this.byteLength)throw new b(a)},a.prototype.seek=function(a){this.boundsCheck(a),this.offset=a},a.prototype.getBytes=function(a){this.boundsCheck(this.offset+a);var b=new Uint8Array(this.buffer.buffer,this.offset,a);return this.offset+=a,b},a.prototype.skipBytes=function(a){this.boundsCheck(this.offset+a),this.offset+=a},a.prototype.getVarints=function(){var a,b=0,c=0;do{this.boundsCheck(this.offset),a=this.buffer[this.offset++],b|=(127&a)<<c,c+=7}while(128&a);return b},a.prototype.getUint8=function(){return this.boundsCheck(this.offset+1),this.buffer[this.offset++]},a.prototype.getUint16=function(){return this.boundsCheck(this.offset+2),this.convUint8[0]=this.buffer[this.offset++],this.convUint8[1]=this.buffer[this.offset++],this.convUint16[0]},a.prototype.getInt16=function(){var a=this.getUint16();return a>32767&&(a|=4294901760),a},a.prototype.getInt32=function(){this.boundsCheck(this.offset+4);var a=this.buffer,b=this.convUint8,c=this.offset;return b[0]=a[c],b[1]=a[c+1],b[2]=a[c+2],b[3]=a[c+3],this.offset+=4,this.convInt32[0]},a.prototype.getUint32=function(){this.boundsCheck(this.offset+4);var a=this.buffer,b=this.convUint8,c=this.offset;return b[0]=a[c],b[1]=a[c+1],b[2]=a[c+2],b[3]=a[c+3],this.offset+=4,this.convUint32[0]},a.prototype.skipUint32=function(){this.boundsCheck(this.offset+4),this.offset+=4},a.prototype.getFloat32=function(){return this.boundsCheck(this.offset+4),this.offset+=4,0},a.prototype.getFloat64=function(){return this.boundsCheck(this.offset+8),this.offset+=8,0},a.prototype.skipFloat64=function(){
this.boundsCheck(this.offset+8),this.offset+=8},a.prototype.reset=function(a){this.buffer=a,this.offset=0,this.byteLength=a.length},c.CheckedInputStream=a}(),function(){function a(a){for(var b=new WGS.LmvMatrix4,c=new WGS.LmvVector3,d=[],e=0;e<a.tasks.length;e++){var f=a.tasks[e],g=WGS.GeomMergeTask.prototype.run.call(f,b,c);d.push(g)}for(var h=[],e=0;e<d.length;e++)h.push(d[e].vb.buffer),h.push(d[e].vertexIds.buffer);a.worker.postMessage(d,h)}WGS.workerMain.register("MERGE_GEOMETRY",{doOperation:a})}(),function(){"use strict";function a(a){var b=a.worker,c=base64.decode(a.delta);c=c.split("").map(function(a){return a.charCodeAt(0)});for(var d=new WGS.Zlib.Inflate(c),e=d.decompress(),f="",g=0;g<e.length;g++)f+=String.fromCharCode(e[g]);f=JSON.parse(f),b.postMessage({cbId:a.cbId,index:a.index,res:f})}Autodesk.LMVTK;WGS.workerMain.register("DECOMPRESS_DELTA",{doOperation:a})}(),function(){"use strict";function a(a,b){try{b()}catch(b){a.raiseError(f.ErrorCodes.BAD_DATA,"",{exception:b.toString(),stack:b.stack}),a.postMessage(null)}}function b(a,b){var c=b.f2dLoadOptions.onDemandLoading?g.F2DOnDemand:g.F2D,d=a.f2d=new c(b.metadata,b.manifest,b.basePath,b.f2dLoadOptions);return d.F2D_MESH_COUNT_OLD=0,a.onDemandLoading&&(a.nextFrame=0,a.queuedMeshes=[],a.useFrames||d.load(b,a.frames[0])),d}function c(a,c){if(a.onDemandLoading){for(var d=0;d<a.requestQueue.length;++d)a.requestQueue[d]&&(a.requestQueue[d].promised?a.requestQueue[d].rendered=!1:a.requestQueue[d]=null);a.nextRequest=0}return b(a,c)}function d(b){var d=b.worker;if(d.postMessage({progress:.01}),b.data){if(d.postMessage({progress:.5}),b.f2dLoadOptions.onDemandLoading){var e=b.data;e instanceof Uint8Array||(e=new Uint8Array(e)),d.frames=[e],d.nextFrame=1,d.finalFrame=!0,d.initialLoadContext=b,d.onDemandLoading=!0,d.streamStates=[],d.requestQueue=[],d.promisedBuffers=[],d.parsePromiseRequest=!1}d.totalBufferCount=h,d.useFrames=!1;var g=c(d,b);if(d.onDemandLoading){var i={f2dframe:g};d.postMessage(i)}else b.loadDoneCB=function(a){if(a){var b={f2d:g};d.postMessage(b)}else d.raiseError(f.ErrorCodes.BAD_DATA,"",{}),d.postMessage(null)},a(d,function(){g.load(b,b.data)})}else d.postMessage(null)}function e(d){function e(){}function g(a,b){var c=o.saveState();n.streamStates[a+(0!=c.vbbCount)]=c,c.dataBuffer=b}function i(a){a>=n.streamStates.length&&(a=n.streamStates.length-1);for(var c,d=a;!(c=n.streamStates[d]);--d)if(d<=0)return void(o=b(n,n.initialLoadContext));var e=n.frames[c.dataBuffer];o.stream&&o.stream.buffer==e&&(e=null),o.restoreState(c,e)?(n.queuedMeshes.length=0,o.F2D_MESH_COUNT_OLD=d-(0!=c.vbbCount),n.nextFrame=c.dataBuffer+1):o=b(n,n.initialLoadContext)}function j(a){return!(o.F2D_MESH_COUNT_OLD<d.bufferId)||(++o.F2D_MESH_COUNT_OLD,!1)}function k(){for(var a=n.nextRequest;a<n.requestQueue.length;){var b=n.requestQueue[a];if(b&&b.rendered)return n.nextRequest=a,b;++a}return null}function l(){d=k();var b=n.parsePromiseRequest;if(n.parsePromiseRequest=!0,b||!d)for(var c;n.promisedBuffers.length>0;)if((c=n.requestQueue[n.promisedBuffers.shift()])&&c.promised){d=c,n.parsePromiseRequest=!1;break}if(d){if(d.loadDoneCB=e,d.acceptMeshCB=j,0==n.streamStates.length&&g(0,0),o&&(d.bufferId<o.F2D_MESH_COUNT_OLD||d.bufferId>o.F2D_MESH_COUNT_OLD+n.queuedMeshes.length)&&i(d.bufferId),o.F2D_MESH_COUNT_OLD+=n.queuedMeshes.splice(0,d.bufferId-o.F2D_MESH_COUNT_OLD).length,d.bufferId<o.F2D_MESH_COUNT_OLD+n.queuedMeshes.length)o.meshes=n.queuedMeshes.splice(0,1),d.finalFrame=n.finalFrame&&n.nextFrame==n.frames.length&&0==n.queuedMeshes.length&&null==o.stream&&n.totalBufferCount==h,m(!0,!0);else for(var f=d.bufferId;f<=d.bufferId;){if(null==o.stream){if(!(n.nextFrame<n.frames.length)){if(n.finalFrame&&0==n.queuedMeshes.length)break;return}d.data=n.frames[n.nextFrame++]}n.nextFrame>=n.frames.length&&(d.finalFrame=n.finalFrame),a(n,function(){o.loadFrames(d)}),n.queuedMeshes=n.queuedMeshes.concat(o.meshes),o.F2D_MESH_COUNT_OLD+=n.queuedMeshes.splice(0,d.bufferId-o.F2D_MESH_COUNT_OLD).length,o.meshes=n.queuedMeshes.splice(0,1),o.meshes.length&&(d.finalFrame=n.finalFrame&&n.nextFrame==n.frames.length&&0==n.queuedMeshes.length&&null==o.stream&&n.totalBufferCount==h,m(!0,!0),f=o.F2D_MESH_COUNT_OLD,n.streamStates[o.F2D_MESH_COUNT_OLD+n.queuedMeshes.length]||g(o.F2D_MESH_COUNT_OLD+n.queuedMeshes.length,n.nextFrame-1))}if(d.bufferId==n.nextRequest&&++n.nextRequest,n.requestQueue[d.bufferId]=null,d.promised){var p=n.promisedBuffers.indexOf(d.bufferId);p>=0&&n.promisedBuffers.splice(p,1)}n.timer=setTimeout(l,2)}}function m(a,b){if(a){if(!o.meshes.length&&!b)return;var c={f2dframe:!0,meshes:o.meshes,baseIndex:o.F2D_MESH_COUNT_OLD,bbox:o.bbox};o.F2D_MESH_COUNT_OLD+=o.meshes.length,d.finalFrame&&(c.cumulativeProps={maxObjectNumber:o.maxObjectNumber,viewports:o.viewports,clips:o.clips,strings:o.strings,stringDbIds:o.stringDbIds,stringBoxes:o.stringBoxes},c.finalFrame=b,n.totalBufferCount=o.F2D_MESH_COUNT_OLD,n.onDemandLoading&&n.requestQueue.splice(n.totalBufferCount));for(var e=[],g=0,h=o.meshes.length;g<h;++g)e.push(o.meshes[g].vb.buffer),e.push(o.meshes[g].indices.buffer);n.postMessage(c,e),o.meshes=[]}else n.raiseError(f.ErrorCodes.BAD_DATA,"",{}),n.postMessage(null)}var n=d.worker,o=n.f2d;if(!o&&d.data){n.postMessage({progress:.5}),d.f2dLoadOptions.onDemandLoading&&(n.frames=[],n.finalFrame=!1,n.initialLoadContext=d,n.onDemandLoading=!0,n.streamStates=[],n.requestQueue=[],n.promisedBuffers=[],n.parsePromiseRequest=!1),n.totalBufferCount=h,n.useFrames=!0,o=c(n,d);var p={f2dframe:o};n.postMessage(p)}if(n.onDemandLoading){if(d.data){var q=d.data;q instanceof Uint8Array||(q=new Uint8Array(q)),n.frames.push(q),d.finalFrame&&(n.finalFrame=!0)}else if(d.finalFrame)n.finalFrame=!0;else if(d.cancel)o&&(o=c(n,n.initialLoadContext)),n.postMessage({canceled:!0});else if(d.cancelPromise){var r=n.requestQueue[d.cancelPromise];r&&(r.rendered?r.promise=!1:n.requestQueue[d.cancelPromise]=null);var s=n.promisedBuffers.indexOf(d.cancelPromise);s>=0&&n.promisedBuffers.splice(s,1)}else if(d.bufferId>=0&&d.bufferId<n.totalBufferCount){var r=n.requestQueue[d.bufferId];d.conditional&&!r||(d.promised&&n.promisedBuffers.push(d.bufferId),r&&(d.promised|=r.promised,d.rendered|=r.rendered),n.requestQueue[d.bufferId]=d)}o&&(n.timer&&clearTimeout(n.timer),n.timer=setTimeout(l,2))}else d.loadDoneCB=m,a(n,function(){o.loadFrames(d)})}var f=Autodesk.Viewing,g=Autodesk.LMVTK,h=1e20;WGS.workerMain.register("PARSE_F2D",{doOperation:d}),WGS.workerMain.register("PARSE_F2D_FRAME",{doOperation:e})}(),function(){"use strict";function a(a,b,c){var e=a.basePath+b;d.ViewingService.getItem(a,e,c,null)}function b(b){function g(a){if(m.length<a.length+n){var b=Math.max(2*m.length,a.length+n),c=new Uint8Array(b);c.set(m),m=c}m.set(a,n),n+=a.length}function h(a){o=a}function i(a,b,h){function i(c){if(l.postMessage({type:"F2DAssetURL",urls:s}),s=null,f){var d={type:"F2DSTREAM",finalFrame:!0,finished:!0,progress:1};return A||(d.manifest=b,d.metadata=h,d.basePath=a.basePath,d.f2dSize=t,A=!0),l.debug("Total text bytes count : "+c.length),void l.postMessage(d)}m.length>n&&(m=new Uint8Array(m.buffer.slice(0,n)));var e;if(31==m[0]&&139==m[1])try{e=new Uint8Array(m.buffer,0,n),e=new WGS.Zlib.Gunzip(e).decompress()}catch(a){}var d={type:"F2DBLOB",metadata:h,manifest:b,f2dSize:t,basePath:a.basePath,progress:1,buffer:e.buffer},g=[];g.push(e.buffer),l.postMessage(d,g)}function j(){if(f){if(y&&(y=!1,31==m[0]&&139==m[1]))return d.logger.error("F2D streaming broken by non-streaming unzip!",c.errorCodeString(c.ErrorCodes.BAD_DATA)),void(f=!1);var e=new Uint8Array(m.buffer,z,n-z);try{var g=x.load(e);if(g.frameEnd>g.frameStart){var i=m.buffer.slice(z+g.frameStart,z+g.frameEnd);z+=g.frameEnd;var j=[];j.push(i);var k={type:"F2DSTREAM",frames:i,finalFrame:!1};t&&(k.progress=z/t),A||(k.manifest=b,k.metadata=h,k.f2dSize=t,k.basePath=a.basePath,A=!0),l.postMessage(k,j)}}catch(a){debug(a)}}}function k(a){g(a),j()}var l=a.worker,r=a.url,s=[],t=0,u=0;if(b&&b.assets)for(var v=b.assets,w=0;w<v.length;w++){if(-1!=r.indexOf(v[w].URI)){t=v[w].usize||0;break}"Autodesk.CloudPlatform.F2D"==v[w].type&&(u=v[w].usize||0)}0==t&&u>0&&(t=u);var x=new e.F2DProbe,y=!0,z=0,A=!1;q=i,p=k,n>0&&j(),null!=o&&i(o)}b.worker.postMessage({progress:.01});var j,k,l=0,m=new Uint8Array(65536),n=0,o=null,p=g,q=h;d.ViewingService.getItem(b,b.url,function(a){q(a)},b.onFailureCallback,{ondata:function(a){p(a)},responseType:""}),a(b,"metadata.json.gz",function(a){try{j=JSON.parse(WGS.utf8ArrayToString(a)),l++}catch(a){self.raiseError(c.ErrorCodes.BAD_DATA,"")}2===l&&i(b,k,j)}),a(b,"manifest.json.gz",function(a){try{a&&(k=JSON.parse(WGS.utf8ArrayToString(a))),l++}catch(a){}2===l&&i(b,k,j)})}var c=Autodesk.Viewing,d=c.Private,e=Autodesk.LMVTK,f=!0;WGS.workerMain.register("STREAM_F2D",{doOperation:b})}(),function(){"use strict";function a(a,b){try{b()}catch(b){a.worker.raiseError(e.ErrorCodes.BAD_DATA,"Unhandled exception while loading Scalaris data",{url:a.url,exception:b.toString(),stack:b.stack}),a.worker.postMessage(null)}}function b(b){function c(c){a(b,function(){var a=d(b,c);if(a){var f={};f.geometry={},f.geometry.indices=a.attributes.index.array.buffer,f.geometry.normals=a.attributes.normal.array.buffer,f.geometry.vertices=a.attributes.position.array.buffer,f.geometry.meshCount=1,f.geometry.offsets=a.offsets,f.geometry.min=a.min,f.geometry.max=a.max,self.postMessage(f,[f.geometry.indices,f.geometry.normals,f.geometry.vertices])}e.postMessage({progress:1})})}var e=b.worker;e.postMessage({progress:.01});var g={responseType:"arraybuffer"};(function(a){return new Promise(function(b,c){protobuf.load(a,function(a,c){b(c)})})})(b.scalarisProtoPath).then(function(a){e.root=a,f.ViewingService.getItem(b,b.url,c,b.onFailureCallback,g)})}function c(a,b){var c=new dcodeIO.ByteBuffer(0,!0,!1);c.buffer=b,c.offset=0,c.limit=b.byteLength,c.view=b.byteLength>0?new DataView(b.buffer):null;for(var d=!0,e=new h(6514,a.root);c.offset<c.limit;){var f=Math.min(65536,c.remaining()),g=c.slice(c.offset,c.offset+f),i=.01+c.offset/c.limit;if(a.postMessage({progress:i}),!(d=e.parseData(g)))break;c.skip(f)}if(e.flush(!0),!d)return console.log("\nError: Failed to load the scalaris data"),null;if(null===e.m_vertexNormals&&e.m_triangles&&e.m_triangles.length>2){e.m_vertexNormals=new Float32Array(e.m_vertices.length);for(var j=new LmvVector3,k=new LmvVector3,l=new LmvVector3,m=new LmvVector3,n=new LmvVector3,o=0,p=0,q=0,r=0;r<e.m_triangles.length/3;r++)o=e.m_triangles[3*r],p=e.m_triangles[3*r+1],q=e.m_triangles[3*r+2],j.set(e.m_vertices[3*o],e.m_vertices[3*o+1],e.m_vertices[3*o+2]),k.set(e.m_vertices[3*p],e.m_vertices[3*p+1],e.m_vertices[3*p+2]),l.set(e.m_vertices[3*q],e.m_vertices[3*q+1],e.m_vertices[3*q+2]),m.subVectors(l,k),n.subVectors(j,k),m.cross(n),m.normalize(),e.m_vertexNormals[3*o]=e.m_vertexNormals[3*p]=e.m_vertexNormals[3*q]=m.x,e.m_vertexNormals[3*o+1]=e.m_vertexNormals[3*p+1]=e.m_vertexNormals[3*q+1]=m.y,e.m_vertexNormals[3*o+2]=e.m_vertexNormals[3*p+2]=e.m_vertexNormals[3*q+2]=m.z}if(e.m_vertices&&e.m_vertices.length>0){var s={};return s.attributes={index:{itemSize:1,array:e.m_triangles},position:{itemSize:3,array:e.m_vertices},normal:{itemSize:3,array:e.m_vertexNormals}},s.min=e.m_min,s.max=e.m_max,s.offsets=[],s}return null}function d(a,b){return c(a.worker,b)}var e=Autodesk.Viewing,f=e.Private,g=(Autodesk.LMVTK,{0:"Mesh",1:"ElementData",2:"NodeData",3:"Scalar",4:"ValueData",5:"StringData",6:"Texture"}),h=function(a,b){this.m_magic=a,this.m_protoRoot=b,this.m_metadata=void 0,this.m_prefixParsed=!1,this.m_headerParsed=!1,this.m_data=null,this.m_vertices=null,this.m_triangles=null,this.m_vertexNormals=null,this.m_faceNormals=null,this.m_vertexColors=null,this.m_min=new LmvVector3(1/0,1/0,1/0),this.m_max=new LmvVector3(-1/0,-1/0,-1/0),this.m_refs={}};h.prototype.constructor=h,h.prototype.parseData=function(a){return this.m_data?this.m_data=dcodeIO.ByteBuffer.concat([this.m_data,a]):this.m_data=a,this.doParseData(!1)},h.prototype.flush=function(){this.doParseData(!0)},h.prototype.length=function(){return null==this.m_data?0:this.m_data.limit-this.m_data.offset},h.prototype.doParseData=function(a){if(!this.m_prefixParsed){if(!this.doParsePrefix(a))return!1;if(0===this.length())return!1}if(!this.m_headerParsed){if(!this.doParseHeader(a))return!1;if(0==this.length())return!1}for(;this.length()>0;){if(this.m_data.offset==this.m_data.limit){this.m_data=null;break}if(!a&&this.m_data.limit-this.m_data.offset<32)break;var b=!1,c=this.m_data.slice(),d=c.readVarint32(),e=c.readVarint32();if(e<=c.remaining()){var f=c.slice(c.offset,c.offset+e);f.compact(),this.handleMessage(d,f),b=!0}if(!b)break;var f=c.slice(c.offset+e);f.compact(),this.m_data=f,!0}return!0},h.prototype.doParsePrefix=function(a){if(!a&&this.length()<8)return!1;var b=0,c=this.m_data.slice();if(c.readUint32()!==this.m_magic)return console.log("\n Invalid Scalaris file."),!1;var d=c.readUint32();if(d<=c.remaining()&&(this.m_metadata=c.readString(d),this.m_prefixParsed=!0),b=c.offset,this.m_prefixParsed)if(b<this.length()){var e=this.m_data.compact(c.offset);this.m_data=e}else this.m_data=null;return!0},h.prototype.doParseHeader=function(a){if(!a&&this.length()<24)return!1;var b=this.m_data.slice(this.m_data.offset),c=b.readVarint32();if(c<=b.remaining()){var d=b.slice(b.offset,b.offset+c);this.m_headerParsed=!0,b.skip(c)}var e=b.offset;if(this.m_headerParsed)if(e<this.length()){var d=this.m_data.compact(b.offset);this.m_data=d}else this.m_data=null;return!0},h.prototype.handleMessage=function(a,b){var c=b.compact();try{var d=g[a],e=this.m_protoRoot.lookupType("Scalaris."+d),f=e.decode(new Uint8Array(c.buffer));switch(d){case"Mesh":this.m_refs[f.ref]=f;break;case"NodeData":this._parseNodeDataMsg(f);break;case"ElementData":this._parseElementDataMsg(f);break;case"Scalar":this.m_refs[f.ref]=f;break;case"ValueData":this._parseValueDataMsg(f)}}catch(a){console.log("Error: failed to parse message of type",e.name,a)}},h.prototype._parseNodeDataMsg=function(a){var b=this.m_refs[a.ref],c=b.nodes,d=a.offset?a.offset:0;0===d&&(this.m_vertices=new Float32Array(3*c));for(var e=a.data.length,f=0;f<e;f++){for(var g=a.data[f].values,h=0;h<3;h++)this.m_vertices[3*(d+f)+h]=g[h];this._updateBBox(g)}},h.prototype._parseElementDataMsg=function(a){var b=this.m_refs[a.ref],c=b.elements,d=a.offset?a.offset:0;0===d&&(this.m_triangles=new Uint32Array(3*c));for(var e=a.data.length,f=0;f<e;f++){var g=a.data[f];if(5===g.type)for(var h=0;h<3;h++)this.m_triangles[3*(d+f)+h]=g.nodes[h]}},h.prototype._updateBBox=function(a){a[0]<this.m_min.x?this.m_min.x=a[0]:a[0]>this.m_max.x&&(this.m_max.x=a[0]),a[1]<this.m_min.y?this.m_min.y=a[1]:a[1]>this.m_max.y&&(this.m_max.y=a[1]),a[2]<this.m_min.z?this.m_min.z=a[2]:a[2]>this.m_max.z&&(this.m_max.z=a[2])},h.prototype._parseValueData=function(a,b,c){for(var d=b.offset?b.offset:0,e=b.data.length,f=0;f<e;f++)for(var g=0;g<c.components;g++)a[3*(d+f)+g]=b.data[f].values[g]},h.prototype._parseValueDataMsg=function(a){var b=this.m_refs[a.ref],c=b.tuples,d=a.offset?a.offset:0,e=null;switch(b.name){case"Normals":2===b.parent&&(0===d&&(this.m_vertexNormals=new Float32Array(3*c)),e=this.m_vertexNormals)}e&&this._parseValueData(e,a,b)},WGS.workerMain.register("LOAD_SCALARIS",{doOperation:b})}(),function(t,e){"use strict";!function(a,b,c){function d(c){var e=b[c];return e||a[c][0].call(e=b[c]={exports:{}},d,e,e.exports),e.exports}var e=t.protobuf=d(c[0]);"function"==typeof define&&define.amd&&define(["long"],function(a){return a&&a.isLong&&(e.util.Long=a,e.configure()),e}),"object"==typeof module&&module&&module.exports&&(module.exports=e)}({1:[function(a,b){function c(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}b.exports=c},{}],2:[function(a,b,c){var d=c;d.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};for(var f=Array(64),g=Array(123),h=0;h<64;)g[f[h]=h<26?h+65:h<52?h+71:h<62?h-4:h-59|43]=h++;d.encode=function(a,b,c){for(var d,e=[],g=0,h=0;b<c;){var i=a[b++];switch(h){case 0:e[g++]=f[i>>2],d=(3&i)<<4,h=1;break;case 1:e[g++]=f[d|i>>4],d=(15&i)<<2,h=2;break;case 2:e[g++]=f[d|i>>6],e[g++]=f[63&i],h=0}}return h&&(e[g++]=f[d],e[g]=61,1===h&&(e[g+1]=61)),String.fromCharCode.apply(String,e)},d.decode=function(a,b,c){for(var d,f=c,h=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&h>1)break;if((j=g[j])===e)throw Error("invalid encoding");switch(h){case 0:d=j,h=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,h=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,h=3;break;case 3:b[c++]=(3&d)<<6|j,h=0}}if(1===h)throw Error("invalid encoding");return c-f},d.test=function(a){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(a)}},{}],3:[function(a,b){function c(a,b){function d(a){if("string"!=typeof a){var b=f();if(c.verbose&&console.log("codegen: "+b),b="return "+b,a){for(var e=Object.keys(a),h=Array(e.length+1),i=Array(e.length),j=0;j<e.length;)h[j]=e[j],i[j]=a[e[j++]];return h[j]=b,Function.apply(null,h).apply(null,i)}return Function(b)()}for(var k=Array(arguments.length-1),l=0;l<k.length;)k[l]=arguments[++l];if(l=0,a=a.replace(/%([%dfijs])/g,function(a,b){var c=k[l++];switch(b){case"d":case"f":return+c+"";case"i":return Math.floor(c)+"";case"j":return JSON.stringify(c);case"s":return c+""}return"%"}),l!==k.length)throw Error("parameter count mismatch");return g.push(a),d}function f(c){return"function "+(c||b||"")+"("+(a&&a.join(",")||"")+"){\n  "+g.join("\n  ")+"\n}"}"string"==typeof a&&(b=a,a=e);var g=[];return d.toString=f,d}b.exports=c,c.verbose=!1},{}],4:[function(a,b){function c(){this.a={}}b.exports=c,c.prototype.on=function(a,b,c){return(this.a[a]||(this.a[a]=[])).push({fn:b,ctx:c||this}),this},c.prototype.off=function(a,b){if(a===e)this.a={};else if(b===e)this.a[a]=[];else for(var c=this.a[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},c.prototype.emit=function(a){var b=this.a[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}},{}],5:[function(a,b){function c(a,b,e){return"function"==typeof b?(e=b,b={}):b||(b={}),e?!b.xhr&&g&&g.readFile?g.readFile(a,function(d,f){return d&&"undefined"!=typeof XMLHttpRequest?c.xhr(a,b,e):d?e(d):e(null,b.binary?f:f.toString("utf8"))}):c.xhr(a,b,e):d(c,this,a,b)}b.exports=c;var d=a(1),f=a(7),g=f("fs");c.xhr=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4!==d.readyState)return e;if(0!==d.status&&200!==d.status)return c(Error("status "+d.status));if(b.binary){var a=d.response;if(!a){a=[];for(var f=0;f<d.responseText.length;++f)a.push(255&d.responseText.charCodeAt(f))}return c(null,"undefined"!=typeof Uint8Array?new Uint8Array(a):a)}return c(null,d.responseText)},b.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer"),d.open("GET",a),d.send()}},{1:1,7:7}],6:[function(a,b){function c(a){return"undefined"!=typeof Float32Array?function(){function b(a,b,c){f[0]=a,b[c]=g[0],b[c+1]=g[1],b[c+2]=g[2],b[c+3]=g[3]}function c(a,b,c){f[0]=a,b[c]=g[3],b[c+1]=g[2],b[c+2]=g[1],b[c+3]=g[0]}function d(a,b){return g[0]=a[b],g[1]=a[b+1],g[2]=a[b+2],g[3]=a[b+3],f[0]}function e(a,b){return g[3]=a[b],g[2]=a[b+1],g[1]=a[b+2],g[0]=a[b+3],f[0]}var f=new Float32Array([-0]),g=new Uint8Array(f.buffer),h=128===g[3];a.writeFloatLE=h?b:c,a.writeFloatBE=h?c:b,a.readFloatLE=h?d:e,a.readFloatBE=h?e:d}():function(){function b(a,b,c,d){var e=b<0?1:0;if(e&&(b=-b),0===b)a(1/b>0?0:2147483648,c,d);else if(isNaN(b))a(2143289344,c,d);else if(b>3.4028234663852886e38)a((e<<31|2139095040)>>>0,c,d);else if(b<1.1754943508222875e-38)a((e<<31|Math.round(b/1.401298464324817e-45))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=2*(d>>31)+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:e*(1/0):0===f?1.401298464324817e-45*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,d),a.writeFloatBE=b.bind(null,e),a.readFloatLE=c.bind(null,f),a.readFloatBE=c.bind(null,g)}(),"undefined"!=typeof Float64Array?function(){function b(a,b,c){f[0]=a,b[c]=g[0],b[c+1]=g[1],b[c+2]=g[2],b[c+3]=g[3],b[c+4]=g[4],b[c+5]=g[5],b[c+6]=g[6],b[c+7]=g[7]}function c(a,b,c){f[0]=a,b[c]=g[7],b[c+1]=g[6],b[c+2]=g[5],b[c+3]=g[4],b[c+4]=g[3],b[c+5]=g[2],b[c+6]=g[1],b[c+7]=g[0]}function d(a,b){return g[0]=a[b],g[1]=a[b+1],g[2]=a[b+2],g[3]=a[b+3],g[4]=a[b+4],g[5]=a[b+5],g[6]=a[b+6],g[7]=a[b+7],f[0]}function e(a,b){return g[7]=a[b],g[6]=a[b+1],g[5]=a[b+2],g[4]=a[b+3],g[3]=a[b+4],g[2]=a[b+5],g[1]=a[b+6],g[0]=a[b+7],f[0]}var f=new Float64Array([-0]),g=new Uint8Array(f.buffer),h=128===g[7];a.writeDoubleLE=h?b:c,a.writeDoubleBE=h?c:b,a.readDoubleLE=h?d:e,a.readDoubleBE=h?e:d}():function(){function b(a,b,c,d,e,f){var g=d<0?1:0;if(g&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:2147483648,e,f+c);else if(isNaN(d))a(0,e,f+b),a(2146959360,e,f+c);else if(d>1.7976931348623157e308)a(0,e,f+b),a((g<<31|2146435072)>>>0,e,f+c);else{var h;if(d<2.2250738585072014e-308)h=d/5e-324,a(h>>>0,e,f+b),a((g<<31|h/4294967296)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),h=d*Math.pow(2,-i),a(4503599627370496*h>>>0,e,f+b),a((g<<31|i+1023<<20|1048576*h&1048575)>>>0,e,f+c)}}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=2*(g>>31)+1,i=g>>>20&2047,j=4294967296*(1048575&g)+f;return 2047===i?j?NaN:h*(1/0):0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+4503599627370496)}a.writeDoubleLE=b.bind(null,d,0,4),a.writeDoubleBE=b.bind(null,e,4,0),a.readDoubleLE=c.bind(null,f,0,4),a.readDoubleBE=c.bind(null,g,4,0)}(),a}function d(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function e(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function f(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function g(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=c(c)},{}],7:[function(t,e,r){function n(t){try{var e=eval("quire".replace(/^/,"re"))(t);if(e&&(e.length||Object.keys(e).length))return e}catch(t){}return null}e.exports=n},{}],8:[function(a,b,c){var d=c,e=d.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},f=d.normalize=function(a){a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var b=a.split("/"),c=e(a),d="";c&&(d=b.shift()+"/");for(var f=0;f<b.length;)".."===b[f]?f>0&&".."!==b[f-1]?b.splice(--f,2):c?b.splice(f,1):++f:"."===b[f]?b.splice(f,1):++f;return d+b.join("/")};d.resolve=function(a,b,c){return c||(b=f(b)),e(b)?b:(c||(a=f(a)),(a=a.replace(/(?:\/|^)[^\/]+$/,"")).length?f(a+"/"+b):b)}},{}],9:[function(a,b){function c(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=1+(7|g)),h}}b.exports=c},{}],10:[function(a,b,c){var d=c;d.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)c=a.charCodeAt(d),c<128?b+=1:c<2048?b+=2:55296==(64512&c)&&56320==(64512&a.charCodeAt(d+1))?(++d,b+=4):b+=3;return b},d.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)d=a[b++],d<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},d.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)d=a.charCodeAt(g),d<128?b[c++]=d:d<2048?(b[c++]=d>>6|192,b[c++]=63&d|128):55296==(64512&d)&&56320==(64512&(e=a.charCodeAt(g+1)))?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128,b[c++]=d>>6&63|128,b[c++]=63&d|128):(b[c++]=d>>12|224,b[c++]=d>>6&63|128,b[c++]=63&d|128);return c-f}},{}],11:[function(a,b){function c(a,b){d.test(a)||(a="google/protobuf/"+a+".proto",b={nested:{google:{nested:{protobuf:{nested:b}}}}}),c[a]=b}b.exports=c;var d=/\/|\./;c("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var e;c("duration",{Duration:e={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),c("timestamp",{Timestamp:e}),c("empty",{Empty:{fields:{}}}),c("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),c("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),c.get=function(a){return c[a]||null}},{}],12:[function(a,b,c){function d(a,b,c,d){if(b.resolvedType)if(b.resolvedType instanceof g){a("switch(d%s){",d);for(var e=b.resolvedType.values,f=Object.keys(e),h=0;h<f.length;++h)b.repeated&&e[f[h]]===b.typeDefault&&a("default:"),a("case%j:",f[h])("case %j:",e[f[h]])("m%s=%j",d,e[f[h]])("break");a("}")}else a('if(typeof d%s!=="object")',d)("throw TypeError(%j)",b.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",d,c,d);else{var i=!1;switch(b.type){case"double":case"float":a("m%s=Number(d%s)",d,d);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",d,d);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",d,d);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",d,d,i)('else if(typeof d%s==="string")',d)("m%s=parseInt(d%s,10)",d,d)('else if(typeof d%s==="number")',d)("m%s=d%s",d,d)('else if(typeof d%s==="object")',d)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",d,d,d,i?"true":"");break;case"bytes":a('if(typeof d%s==="string")',d)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",d,d,d)("else if(d%s.length)",d)("m%s=d%s",d,d);break;case"string":a("m%s=String(d%s)",d,d);break;case"bool":a("m%s=Boolean(d%s)",d,d)}}return a}function e(a,b,c,d){if(b.resolvedType)b.resolvedType instanceof g?a("d%s=o.enums===String?types[%i].values[m%s]:m%s",d,c,d,d):a("d%s=types[%i].toObject(m%s,o)",d,c,d);else{var e=!1;switch(b.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",d,d,d,d);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a('if(typeof m%s==="number")',d)("d%s=o.longs===String?String(m%s):m%s",d,d,d)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",d,d,d,d,e?"true":"",d);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",d,d,d,d,d);break;default:a("d%s=m%s",d,d)}}return a}var f=c,g=a(15),h=a(37);f.fromObject=function(a){var b=a.fieldsArray,c=h.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!b.length)return c("return new this.ctor");c("var m=new this.ctor");for(var e=0;e<b.length;++e){var f=b[e].resolve(),i=h.safeProp(f.name);f.map?(c("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",f.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),d(c,f,e,i+"[ks[i]]")("}")("}")):f.repeated?(c("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",f.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),d(c,f,e,i+"[i]")("}")("}")):(f.resolvedType instanceof g||c("if(d%s!=null){",i),d(c,f,e,i),f.resolvedType instanceof g||c("}"))}return c("return m")},f.toObject=function(a){var b=a.fieldsArray.slice().sort(h.compareFieldsById);if(!b.length)return h.codegen()("return {}");for(var c=h.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],f=[],g=[],i=0;i<b.length;++i)b[i].partOf||(b[i].resolve().repeated?d:b[i].map?f:g).push(b[i]);var j,k,l=!1;for(i=0;i<b.length;++i){var j=b[i],m=a.b.indexOf(j),k=h.safeProp(j.name);j.map?(l||(l=!0,c("var ks2")),c("if(m%s&&(ks2=Object.keys(m%s)).length){",k,k)("d%s={}",k)("for(var j=0;j<ks2.length;++j){"),e(c,j,m,k+"[ks2[j]]")("}")):j.repeated?(c("if(m%s&&m%s.length){",k,k)("d%s=[]",k)("for(var j=0;j<m%s.length;++j){",k),e(c,j,m,k+"[j]")("}")):(c("if(m%s!=null&&m.hasOwnProperty(%j)){",k,j.name),e(c,j,m,k),j.partOf&&c("if(o.oneofs)")("d%s=%j",h.safeProp(j.partOf.name),j.name)),c("}")}return c("return d")}},{15:15,37:37}],13:[function(a,b){function c(a){return"missing required '"+a.name+"'"}function d(a){var b=h.codegen(["r","l"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(a){return a.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");a.group&&b("if((t&7)===4)")("break"),b("switch(t>>>3){");for(var d=0;d<a.fieldsArray.length;++d){var i=a.b[d].resolve(),j=i.resolvedType instanceof f?"int32":i.type,k="m"+h.safeProp(i.name);b("case %i:",i.id),i.map?(b("r.skip().pos++")("if(%s===util.emptyObject)",k)("%s={}",k)("k=r.%s()",i.keyType)("r.pos++"),g.long[i.keyType]!==e?g.basic[j]===e?b('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',k,d):b('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',k,j):g.basic[j]===e?b("%s[k]=types[%i].decode(r,r.uint32())",k,d):b("%s[k]=r.%s()",k,j)):i.repeated?(b("if(!(%s&&%s.length))",k,k)("%s=[]",k),g.packed[j]!==e&&b("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",k,j)("}else"),g.basic[j]===e?b(i.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",k,d):b("%s.push(r.%s())",k,j)):g.basic[j]===e?b(i.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",k,d):b("%s=r.%s()",k,j),b("break")}for(b("default:")("r.skipType(t&7)")("break")("}")("}"),d=0;d<a.b.length;++d){var l=a.b[d];l.required&&b("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",c(l))}return b("return m")}b.exports=d;var f=a(15),g=a(36),h=a(37)},{15:15,36:36,37:37}],14:[function(a,b){function c(a,b,c,d){return b.resolvedType.group?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",c,d,(b.id<<3|3)>>>0,(b.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",c,d,(b.id<<3|2)>>>0)}function d(a){for(var b,d,i=h.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),j=a.fieldsArray.slice().sort(h.compareFieldsById),b=0;b<j.length;++b){var k=j[b].resolve(),l=a.b.indexOf(k),m=k.resolvedType instanceof f?"int32":k.type,n=g.basic[m];d="m"+h.safeProp(k.name),k.map?(i("if(%s!=null&&m.hasOwnProperty(%j)){",d,k.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",d)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(k.id<<3|2)>>>0,8|g.mapKey[k.keyType],k.keyType),n===e?i("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,d):i(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|n,m,d),i("}")("}")):k.repeated?(i("if(%s!=null&&%s.length){",d,d),k.packed&&g.packed[m]!==e?i("w.uint32(%i).fork()",(k.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",d)("w.%s(%s[i])",m,d)("w.ldelim()"):(i("for(var i=0;i<%s.length;++i)",d),n===e?c(i,k,l,d+"[i]"):i("w.uint32(%i).%s(%s[i])",(k.id<<3|n)>>>0,m,d)),
i("}")):(k.optional&&i("if(%s!=null&&m.hasOwnProperty(%j))",d,k.name),n===e?c(i,k,l,d):i("w.uint32(%i).%s(%s)",(k.id<<3|n)>>>0,m,d))}return i("return w")}b.exports=d;var f=a(15),g=a(36),h=a(37)},{15:15,36:36,37:37}],15:[function(a,b){function c(a,b,c){if(d.call(this,a,c),b&&"object"!=typeof b)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comments={},b)for(var e=Object.keys(b),f=0;f<e.length;++f)"number"==typeof b[e[f]]&&(this.valuesById[this.values[e[f]]=b[e[f]]]=e[f])}b.exports=c;var d=a(24);((c.prototype=Object.create(d.prototype)).constructor=c).className="Enum";var f=a(37);c.fromJSON=function(a,b){return new c(a,b.values,b.options)},c.prototype.toJSON=function(){return f.toObject(["options",this.options,"values",this.values])},c.prototype.add=function(a,b,c){if(!f.isString(a))throw TypeError("name must be a string");if(!f.isInteger(b))throw TypeError("id must be an integer");if(this.values[a]!==e)throw Error("duplicate name");if(this.valuesById[b]!==e){if(!this.options||!this.options.allow_alias)throw Error("duplicate id");this.values[a]=b}else this.valuesById[this.values[a]=b]=a;return this.comments[a]=c||null,this},c.prototype.remove=function(a){if(!f.isString(a))throw TypeError("name must be a string");var b=this.values[a];if(b===e)throw Error("name does not exist");return delete this.valuesById[b],delete this.values[a],delete this.comments[a],this}},{24:24,37:37}],16:[function(a,b){function c(a,b,c,f,g,k){if(i.isObject(f)?(k=f,f=g=e):i.isObject(g)&&(k=g,g=e),d.call(this,a,k),!i.isInteger(b)||b<0)throw TypeError("id must be a non-negative integer");if(!i.isString(c))throw TypeError("type must be a string");if(f!==e&&!j.test(f=(""+f).toLowerCase()))throw TypeError("rule must be a string rule");if(g!==e&&!i.isString(g))throw TypeError("extend must be a string");this.rule=f&&"optional"!==f?f:e,this.type=c,this.id=b,this.extend=g||e,this.required="required"===f,this.optional=!this.required,this.repeated="repeated"===f,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!i.Long&&h.long[c]!==e,this.bytes="bytes"===c,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.c=null}b.exports=c;var d=a(24);((c.prototype=Object.create(d.prototype)).constructor=c).className="Field";var f,g=a(15),h=a(36),i=a(37),j=/^required|optional|repeated$/;c.fromJSON=function(a,b){return new c(a,b.id,b.type,b.rule,b.extend,b.options)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this.c&&(this.c=!1!==this.getOption("packed")),this.c}}),c.prototype.setOption=function(a,b,c){return"packed"===a&&(this.c=null),d.prototype.setOption.call(this,a,b,c)},c.prototype.toJSON=function(){return i.toObject(["rule","optional"!==this.rule&&this.rule||e,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])},c.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=h.defaults[this.type])===e&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof f?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof g&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===e||!this.resolvedType||this.resolvedType instanceof g)||delete this.options.packed,Object.keys(this.options).length||(this.options=e)),this.long)this.typeDefault=i.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var a;i.base64.test(this.typeDefault)?i.base64.decode(this.typeDefault,a=i.newBuffer(i.base64.length(this.typeDefault)),0):i.utf8.write(this.typeDefault,a=i.newBuffer(i.utf8.length(this.typeDefault)),0),this.typeDefault=a}return this.map?this.defaultValue=i.emptyObject:this.repeated?this.defaultValue=i.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof f&&(this.parent.ctor.prototype[this.name]=this.defaultValue),d.prototype.resolve.call(this)},c.d=function(a,b,d,e){return"function"==typeof b?b=i.decorateType(b).name:b&&"object"==typeof b&&(b=i.decorateEnum(b).name),function(f,g){i.decorateType(f.constructor).add(new c(g,a,b,d,{default:e}))}},c.e=function(a){f=a}},{15:15,24:24,36:36,37:37}],17:[function(a,b){function c(a,b,c){return"function"==typeof b?(c=b,b=new e.Root):b||(b=new e.Root),b.load(a,c)}function d(a,b){return b||(b=new e.Root),b.loadSync(a)}var e=b.exports=a(18);e.build="light",e.load=c,e.loadSync=d,e.encoder=a(14),e.decoder=a(13),e.verifier=a(40),e.converter=a(12),e.ReflectionObject=a(24),e.Namespace=a(23),e.Root=a(29),e.Enum=a(15),e.Type=a(35),e.Field=a(16),e.OneOf=a(25),e.MapField=a(20),e.Service=a(33),e.Method=a(22),e.Message=a(21),e.wrappers=a(41),e.types=a(36),e.util=a(37),e.ReflectionObject.e(e.Root),e.Namespace.e(e.Type,e.Service),e.Root.e(e.Type),e.Field.e(e.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(a,b,c){function d(){e.Reader.e(e.BufferReader),e.util.e()}var e=c;e.build="minimal",e.Writer=a(42),e.BufferWriter=a(43),e.Reader=a(27),e.BufferReader=a(28),e.util=a(39),e.rpc=a(31),e.roots=a(30),e.configure=d,e.Writer.e(e.BufferWriter),d()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(a,b){var c=b.exports=a(17);c.build="full",c.tokenize=a(34),c.parse=a(26),c.common=a(11),c.Root.e(c.Type,c.parse,c.common)},{11:11,17:17,26:26,34:34}],20:[function(a,b){function c(a,b,c,e,f){if(d.call(this,a,b,e,f),!g.isString(c))throw TypeError("keyType must be a string");this.keyType=c,this.resolvedKeyType=null,this.map=!0}b.exports=c;var d=a(16);((c.prototype=Object.create(d.prototype)).constructor=c).className="MapField";var f=a(36),g=a(37);c.fromJSON=function(a,b){return new c(a,b.id,b.keyType,b.type,b.options)},c.prototype.toJSON=function(){return g.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options])},c.prototype.resolve=function(){if(this.resolved)return this;if(f.mapKey[this.keyType]===e)throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},c.d=function(a,b,d){return"function"==typeof d?d=g.decorateType(d).name:d&&"object"==typeof d&&(d=g.decorateEnum(d).name),function(e,f){g.decorateType(e.constructor).add(new c(f,a,b,d))}}},{16:16,36:36,37:37}],21:[function(a,b){function c(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)this[b[c]]=a[b[c]]}b.exports=c;var d=a(39);c.create=function(a){return this.$type.create(a)},c.encode=function(a,b){return this.$type.encode(a,b)},c.encodeDelimited=function(a,b){return this.$type.encodeDelimited(a,b)},c.decode=function(a){return this.$type.decode(a)},c.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},c.verify=function(a){return this.$type.verify(a)},c.fromObject=function(a){return this.$type.fromObject(a)},c.toObject=function(a,b){return this.$type.toObject(a,b)},c.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)}},{39:39}],22:[function(a,b){function c(a,b,c,g,h,i,j){if(f.isObject(h)?(j=h,h=i=e):f.isObject(i)&&(j=i,i=e),b!==e&&!f.isString(b))throw TypeError("type must be a string");if(!f.isString(c))throw TypeError("requestType must be a string");if(!f.isString(g))throw TypeError("responseType must be a string");d.call(this,a,j),this.type=b||"rpc",this.requestType=c,this.requestStream=!!h||e,this.responseType=g,this.responseStream=!!i||e,this.resolvedRequestType=null,this.resolvedResponseType=null}b.exports=c;var d=a(24);((c.prototype=Object.create(d.prototype)).constructor=c).className="Method";var f=a(37);c.fromJSON=function(a,b){return new c(a,b.type,b.requestType,b.responseType,b.requestStream,b.responseStream,b.options)},c.prototype.toJSON=function(){return f.toObject(["type","rpc"!==this.type&&this.type||e,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options])},c.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(a,b){function c(a){if(!a||!a.length)return e;for(var b={},c=0;c<a.length;++c)b[a[c].name]=a[c].toJSON();return b}function d(a,b){g.call(this,a,b),this.nested=e,this.f=null}function f(a){return a.f=null,a}b.exports=d;var g=a(24);((d.prototype=Object.create(g.prototype)).constructor=d).className="Namespace";var h,i,j=a(15),k=a(16),l=a(37);d.fromJSON=function(a,b){return new d(a,b.options).addJSON(b.nested)},d.arrayToJSON=c,Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this.f||(this.f=l.toArray(this.nested))}}),d.prototype.toJSON=function(){return l.toObject(["options",this.options,"nested",c(this.nestedArray)])},d.prototype.addJSON=function(a){var b=this;if(a)for(var c,f=Object.keys(a),g=0;g<f.length;++g)c=a[f[g]],b.add((c.fields!==e?h.fromJSON:c.values!==e?j.fromJSON:c.methods!==e?i.fromJSON:c.id!==e?k.fromJSON:d.fromJSON)(f[g],c));return this},d.prototype.get=function(a){return this.nested&&this.nested[a]||null},d.prototype.getEnum=function(a){if(this.nested&&this.nested[a]instanceof j)return this.nested[a].values;throw Error("no such enum")},d.prototype.add=function(a){if(!(a instanceof k&&a.extend!==e||a instanceof h||a instanceof j||a instanceof i||a instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var b=this.get(a.name);if(b){if(!(b instanceof d&&a instanceof d)||b instanceof h||b instanceof i)throw Error("duplicate name '"+a.name+"' in "+this);for(var c=b.nestedArray,g=0;g<c.length;++g)a.add(c[g]);this.remove(b),this.nested||(this.nested={}),a.setOptions(b.options,!0)}}else this.nested={};return this.nested[a.name]=a,a.onAdd(this),f(this)},d.prototype.remove=function(a){if(!(a instanceof g))throw TypeError("object must be a ReflectionObject");if(a.parent!==this)throw Error(a+" is not a member of "+this);return delete this.nested[a.name],Object.keys(this.nested).length||(this.nested=e),a.onRemove(this),f(this)},d.prototype.define=function(a,b){if(l.isString(a))a=a.split(".");else if(!Array.isArray(a))throw TypeError("illegal path");if(a&&a.length&&""===a[0])throw Error("path must be relative");for(var c=this;a.length>0;){var e=a.shift();if(c.nested&&c.nested[e]){if(!((c=c.nested[e])instanceof d))throw Error("path conflicts with non-namespace objects")}else c.add(c=new d(e))}return b&&c.addJSON(b),c},d.prototype.resolveAll=function(){for(var a=this.nestedArray,b=0;b<a.length;)a[b]instanceof d?a[b++].resolveAll():a[b++].resolve();return this.resolve()},d.prototype.lookup=function(a,b,c){if("boolean"==typeof b?(c=b,b=e):b&&!Array.isArray(b)&&(b=[b]),l.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;if(""===a[0])return this.root.lookup(a.slice(1),b);var f=this.get(a[0]);if(f){if(1===a.length){if(!b||b.indexOf(f.constructor)>-1)return f}else if(f instanceof d&&(f=f.lookup(a.slice(1),b,!0)))return f}else for(var g=0;g<this.nestedArray.length;++g)if(this.f[g]instanceof d&&(f=this.f[g].lookup(a,b,!0)))return f;return null===this.parent||c?null:this.parent.lookup(a,b)},d.prototype.lookupType=function(a){var b=this.lookup(a,[h]);if(!b)throw Error("no such type");return b},d.prototype.lookupEnum=function(a){var b=this.lookup(a,[j]);if(!b)throw Error("no such Enum '"+a+"' in "+this);return b},d.prototype.lookupTypeOrEnum=function(a){var b=this.lookup(a,[h,j]);if(!b)throw Error("no such Type or Enum '"+a+"' in "+this);return b},d.prototype.lookupService=function(a){var b=this.lookup(a,[i]);if(!b)throw Error("no such Service '"+a+"' in "+this);return b},d.e=function(a,b){h=a,i=b}},{15:15,16:16,24:24,37:37}],24:[function(a,b){function c(a,b){if(!f.isString(a))throw TypeError("name must be a string");if(b&&!f.isObject(b))throw TypeError("options must be an object");this.options=b,this.name=a,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}b.exports=c,c.className="ReflectionObject";var d,f=a(37);Object.defineProperties(c.prototype,{root:{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],b=this.parent;b;)a.unshift(b.name),b=b.parent;return a.join(".")}}}),c.prototype.toJSON=function(){throw Error()},c.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var b=a.root;b instanceof d&&b.g(this)},c.prototype.onRemove=function(a){var b=a.root;b instanceof d&&b.h(this),this.parent=null,this.resolved=!1},c.prototype.resolve=function(){return this.resolved?this:(this.root instanceof d&&(this.resolved=!0),this)},c.prototype.getOption=function(a){return this.options?this.options[a]:e},c.prototype.setOption=function(a,b,c){return c&&this.options&&this.options[a]!==e||((this.options||(this.options={}))[a]=b),this},c.prototype.setOptions=function(a,b){if(a)for(var c=Object.keys(a),d=0;d<c.length;++d)this.setOption(c[d],a[c[d]],b);return this},c.prototype.toString=function(){var a=this.constructor.className,b=this.fullName;return b.length?a+" "+b:a},c.e=function(a){d=a}},{37:37}],25:[function(a,b){function c(a,b,c){if(Array.isArray(b)||(c=b,b=e),f.call(this,a,c),b!==e&&!Array.isArray(b))throw TypeError("fieldNames must be an Array");this.oneof=b||[],this.fieldsArray=[]}function d(a){if(a.parent)for(var b=0;b<a.fieldsArray.length;++b)a.fieldsArray[b].parent||a.parent.add(a.fieldsArray[b])}b.exports=c;var f=a(24);((c.prototype=Object.create(f.prototype)).constructor=c).className="OneOf";var g=a(16),h=a(37);c.fromJSON=function(a,b){return new c(a,b.oneof,b.options)},c.prototype.toJSON=function(){return h.toObject(["options",this.options,"oneof",this.oneof])},c.prototype.add=function(a){if(!(a instanceof g))throw TypeError("field must be a Field");return a.parent&&a.parent!==this.parent&&a.parent.remove(a),this.oneof.push(a.name),this.fieldsArray.push(a),a.partOf=this,d(this),this},c.prototype.remove=function(a){if(!(a instanceof g))throw TypeError("field must be a Field");var b=this.fieldsArray.indexOf(a);if(b<0)throw Error(a+" is not a member of "+this);return this.fieldsArray.splice(b,1),b=this.oneof.indexOf(a.name),b>-1&&this.oneof.splice(b,1),a.partOf=null,this},c.prototype.onAdd=function(a){f.prototype.onAdd.call(this,a);for(var b=this,c=0;c<this.oneof.length;++c){var e=a.get(this.oneof[c]);e&&!e.partOf&&(e.partOf=b,b.fieldsArray.push(e))}d(this)},c.prototype.onRemove=function(a){for(var b,c=0;c<this.fieldsArray.length;++c)(b=this.fieldsArray[c]).parent&&b.parent.remove(b);f.prototype.onRemove.call(this,a)},c.d=function(){for(var a=Array(arguments.length),b=0;b<arguments.length;)a[b]=arguments[b++];return function(b,d){h.decorateType(b.constructor).add(new c(d,a)),Object.defineProperty(b,d,{get:h.oneOfGetter(a),set:h.oneOfSetter(a)})}}},{16:16,24:24,37:37}],26:[function(a,b){function c(a,b,z){function A(a,b,d){var e=c.filename;return d||(c.filename=null),Error("illegal "+(b||"token")+" '"+a+"' ("+(e?e+", ":"")+"line "+_.line+")")}function B(){var a,b=[];do{if('"'!==(a=aa())&&"'"!==a)throw A(a);b.push(aa()),da(a),a=ca()}while('"'===a||"'"===a);return b.join("")}function C(a){var b=aa();switch(b){case"'":case'"':return ba(b),B();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return E(b,!0)}catch(c){if(a&&x.test(b))return b;throw A(b,"value")}}function D(a,b){var c,d;do{!b||'"'!==(c=ca())&&"'"!==c?a.push([d=F(aa()),da("to",!0)?F(aa()):d]):a.push(B())}while(da(",",!0));da(";")}function E(a,b){var c=1;switch("-"===a.charAt(0)&&(c=-1,a=a.substring(1)),a){case"inf":case"INF":case"Inf":return c*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(a))return c*parseInt(a,10);if(r.test(a))return c*parseInt(a,16);if(t.test(a))return c*parseInt(a,8);if(v.test(a))return c*parseFloat(a);throw A(a,"number",b)}function F(a,b){switch(a){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!b&&"-"===a.charAt(0))throw A(a,"id");if(q.test(a))return parseInt(a,10);if(s.test(a))return parseInt(a,16);if(u.test(a))return parseInt(a,8);throw A(a,"id")}function G(a,b){switch(b){case"option":return P(a,b),da(";"),!0;case"message":return I(a,b),!0;case"enum":return N(a,b),!0;case"service":return T(a,b),!0;case"extend":return V(a,b),!0}return!1}function H(a,b,d){var e=_.line;if(a&&(a.comment=ea(),a.filename=c.filename),da("{",!0)){for(var f;"}"!==(f=aa());)b(f);da(";",!0)}else d&&d(),da(";"),a&&"string"!=typeof a.comment&&(a.comment=ea(e))}function I(a,b){if(!w.test(b=aa()))throw A(b,"type name");var c=new g(b);H(c,function(a){if(!G(c,a))switch(a){case"map":L(c);break;case"required":case"optional":case"repeated":J(c,a);break;case"oneof":M(c,a);break;case"extensions":D(c.extensions||(c.extensions=[]));break;case"reserved":D(c.reserved||(c.reserved=[]),!0);break;default:if(!ga||!x.test(a))throw A(a);ba(a),J(c,"optional")}}),a.add(c)}function J(a,b,c){var d=aa();if("group"===d)return void K(a,b);if(!x.test(d))throw A(d,"type");var f=aa();if(!w.test(f))throw A(f,"name");f=ia(f),da("=");var g=new h(f,F(aa()),d,b,c);H(g,function(a){if("option"!==a)throw A(a);P(g,a),da(";")},function(){S(g)}),a.add(g),ga||!g.repeated||n.packed[d]===e&&n.basic[d]!==e||g.setOption("packed",!1,!0)}function K(a,b){var d=aa();if(!w.test(d))throw A(d,"name");var e=o.lcFirst(d);d===e&&(d=o.ucFirst(d)),da("=");var f=F(aa()),i=new g(d);i.group=!0;var j=new h(e,f,d,b);j.filename=c.filename,H(i,function(a){switch(a){case"option":P(i,a),da(";");break;case"required":case"optional":case"repeated":J(i,a);break;default:throw A(a)}}),a.add(i).add(j)}function L(a){da("<");var b=aa();if(n.mapKey[b]===e)throw A(b,"type");da(",");var c=aa();if(!x.test(c))throw A(c,"type");da(">");var d=aa();if(!w.test(d))throw A(d,"name");da("=");var f=new i(ia(d),F(aa()),b,c);H(f,function(a){if("option"!==a)throw A(a);P(f,a),da(";")},function(){S(f)}),a.add(f)}function M(a,b){if(!w.test(b=aa()))throw A(b,"name");var c=new j(ia(b));H(c,function(a){"option"===a?(P(c,a),da(";")):(ba(a),J(c,"optional"))}),a.add(c)}function N(a,b){if(!w.test(b=aa()))throw A(b,"name");var c=new k(b);H(c,function(a){"option"===a?(P(c,a),da(";")):O(c,a)}),a.add(c)}function O(a,b){if(!w.test(b))throw A(b,"name");da("=");var c=F(aa(),!0),d={};H(d,function(a){if("option"!==a)throw A(a);P(d,a),da(";")},function(){S(d)}),a.add(b,c,d.comment)}function P(a,b){var c=da("(",!0);if(!x.test(b=aa()))throw A(b,"name");var d=b;c&&(da(")"),d="("+d+")",b=ca(),y.test(b)&&(d+=b,aa())),da("="),Q(a,d)}function Q(a,b){if(da("{",!0))do{if(!w.test($=aa()))throw A($,"name");"{"===ca()?Q(a,b+"."+$):(da(":"),R(a,b+"."+$,C(!0)))}while(!da("}",!0));else R(a,b,C(!0))}function R(a,b,c){a.setOption&&a.setOption(b,c)}function S(a){if(da("[",!0)){do{P(a,"option")}while(da(",",!0));da("]")}return a}function T(a,b){if(!w.test(b=aa()))throw A(b,"service name");var c=new l(b);H(c,function(a){if(!G(c,a)){if("rpc"!==a)throw A(a);U(c,a)}}),a.add(c)}function U(a,b){var c=b;if(!w.test(b=aa()))throw A(b,"name");var d,e,f,g,h=b;if(da("("),da("stream",!0)&&(e=!0),!x.test(b=aa()))throw A(b);if(d=b,da(")"),da("returns"),da("("),da("stream",!0)&&(g=!0),!x.test(b=aa()))throw A(b);f=b,da(")");var i=new m(h,c,d,f,e,g);H(i,function(a){if("option"!==a)throw A(a);P(i,a),da(";")}),a.add(i)}function V(a,b){if(!x.test(b=aa()))throw A(b,"reference");var c=b;H(null,function(b){switch(b){case"required":case"repeated":case"optional":J(a,b,c);break;default:if(!ga||!x.test(b))throw A(b);ba(b),J(a,"optional",c)}})}b instanceof f||(z=b,b=new f),z||(z=c.defaults);for(var W,X,Y,Z,$,_=d(a),aa=_.next,ba=_.push,ca=_.peek,da=_.skip,ea=_.cmnt,fa=!0,ga=!1,ha=b,ia=z.keepCase?function(a){return a}:o.camelCase;null!==($=aa());)switch($){case"package":if(!fa)throw A($);!function(){if(W!==e)throw A("package");if(W=aa(),!x.test(W))throw A(W,"name");ha=ha.define(W),da(";")}();break;case"import":if(!fa)throw A($);!function(){var a,b=ca();switch(b){case"weak":a=Y||(Y=[]),aa();break;case"public":aa();default:a=X||(X=[])}b=B(),da(";"),a.push(b)}();break;case"syntax":if(!fa)throw A($);!function(){if(da("="),Z=B(),!(ga="proto3"===Z)&&"proto2"!==Z)throw A(Z,"syntax");da(";")}();break;case"option":if(!fa)throw A($);P(ha,$),da(";");break;default:if(G(ha,$)){fa=!1;continue}throw A($)}return c.filename=null,{package:W,imports:X,weakImports:Y,syntax:Z,root:b}}b.exports=c,c.filename=null,c.defaults={keepCase:!1};var d=a(34),f=a(29),g=a(35),h=a(16),i=a(20),j=a(25),k=a(15),l=a(33),m=a(22),n=a(36),o=a(37),p=/^[1-9][0-9]*$/,q=/^-?[1-9][0-9]*$/,r=/^0[x][0-9a-fA-F]+$/,s=/^-?0[x][0-9a-fA-F]+$/,t=/^0[0-7]+$/,u=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,y=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(a,b){function c(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function d(a){this.buf=a,this.pos=0,this.len=a.length}function e(){var a=new j(0,0),b=0;if(!(this.len-this.pos>4)){for(;b<3;++b){if(this.pos>=this.len)throw c(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;if(b=0,this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw c(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function f(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw c(this,8);return new j(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}b.exports=d;var h,i=a(39),j=i.LongBits,k=i.utf8,l="undefined"!=typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new d(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new d(a);throw Error("illegal buffer")};d.create=i.Buffer?function(a){return(d.create=function(a){return i.Buffer.isBuffer(a)?new h(a):l(a)})(a)}:l,d.prototype.i=i.Array.prototype.subarray||i.Array.prototype.slice,d.prototype.uint32=function(){var a=4294967295;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return a;if((this.pos+=5)>this.len)throw this.pos=this.len,c(this,10);return a}}(),d.prototype.int32=function(){return 0|this.uint32()},d.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)|0},d.prototype.bool=function(){return 0!==this.uint32()},d.prototype.fixed32=function(){if(this.pos+4>this.len)throw c(this,4);return f(this.buf,this.pos+=4)},d.prototype.sfixed32=function(){if(this.pos+4>this.len)throw c(this,4);return 0|f(this.buf,this.pos+=4)},d.prototype.float=function(){if(this.pos+4>this.len)throw c(this,4);var a=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},d.prototype.double=function(){if(this.pos+8>this.len)throw c(this,4);var a=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},d.prototype.bytes=function(){var a=this.uint32(),b=this.pos,d=this.pos+a;if(d>this.len)throw c(this,a);return this.pos+=a,Array.isArray(this.buf)?this.buf.slice(b,d):b===d?new this.buf.constructor(0):this.i.call(this.buf,b,d)},d.prototype.string=function(){var a=this.bytes();return k.read(a,0,a.length)},d.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw c(this,a);this.pos+=a}else do{if(this.pos>=this.len)throw c(this)}while(128&this.buf[this.pos++]);return this},d.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},d.e=function(a){h=a;var b=i.Long?"toLong":"toNumber";i.merge(d.prototype,{int64:function(){return e.call(this)[b](!1)},uint64:function(){return e.call(this)[b](!0)},sint64:function(){return e.call(this).zzDecode()[b](!1)},fixed64:function(){return g.call(this)[b](!0)},sfixed64:function(){return g.call(this)[b](!1)}})}},{39:39}],28:[function(a,b){function c(a){d.call(this,a)}b.exports=c;var d=a(27);(c.prototype=Object.create(d.prototype)).constructor=c;var e=a(39);e.Buffer&&(c.prototype.i=e.Buffer.prototype.slice),c.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len))}},{27:27,39:39}],29:[function(a,b){function c(a){g.call(this,"",a),this.deferred=[],this.files=[]}function d(){}function f(a,b){var c=b.parent.lookup(b.extend);if(c){var d=new k(b.fullName,b.id,b.type,b.rule,e,b.options);return d.declaringField=b,b.extensionField=d,c.add(d),!0}return!1}b.exports=c;var g=a(23);((c.prototype=Object.create(g.prototype)).constructor=c).className="Root";var h,i,j,k=a(16),l=a(15),m=a(25),n=a(37);c.fromJSON=function(a,b){return b||(b=new c),a.options&&b.setOptions(a.options),b.addJSON(a.nested)},c.prototype.resolvePath=n.path.resolve,c.prototype.load=function a(b,c,f){function g(a,b){if(f){var c=f;if(f=null,m)throw a;c(a,b)}}function h(a,b){try{if(n.isString(b)&&"{"===b.charAt(0)&&(b=JSON.parse(b)),n.isString(b)){i.filename=a;var d,e=i(b,l,c),f=0;if(e.imports)for(;f<e.imports.length;++f)(d=l.resolvePath(a,e.imports[f]))&&k(d);if(e.weakImports)for(f=0;f<e.weakImports.length;++f)(d=l.resolvePath(a,e.weakImports[f]))&&k(d,!0)}else l.setOptions(b.options).addJSON(b.nested)}catch(a){g(a)}m||o||g(null,l)}function k(a,b){var c=a.lastIndexOf("google/protobuf/");if(c>-1){var d=a.substring(c);d in j&&(a=d)}if(!(l.files.indexOf(a)>-1)){if(l.files.push(a),a in j)return void(m?h(a,j[a]):(++o,setTimeout(function(){--o,h(a,j[a])})));if(m){var e;try{e=n.fs.readFileSync(a).toString("utf8")}catch(a){return void(b||g(a))}h(a,e)}else++o,n.fetch(a,function(c,d){if(--o,f)return c?void(b?o||g(null,l):g(c)):void h(a,d)})}}"function"==typeof c&&(f=c,c=e);var l=this;if(!f)return n.asPromise(a,l,b,c);var m=f===d,o=0;n.isString(b)&&(b=[b]);for(var p,q=0;q<b.length;++q)(p=l.resolvePath("",b[q]))&&k(p);return m?l:(o||g(null,l),e)},c.prototype.loadSync=function(a,b){if(!n.isNode)throw Error("not supported");return this.load(a,b,d)},c.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(a){return"'extend "+a.extend+"' in "+a.parent.fullName}).join(", "));return g.prototype.resolveAll.call(this)};var o=/^[A-Z]/;c.prototype.g=function(a){if(a instanceof k)a.extend===e||a.extensionField||f(this,a)||this.deferred.push(a);else if(a instanceof l)o.test(a.name)&&(a.parent[a.name]=a.values);else if(!(a instanceof m)){if(a instanceof h)for(var b=0;b<this.deferred.length;)f(this,this.deferred[b])?this.deferred.splice(b,1):++b;for(var c=0;c<a.nestedArray.length;++c)this.g(a.f[c]);o.test(a.name)&&(a.parent[a.name]=a)}},c.prototype.h=function(a){if(a instanceof k){if(a.extend!==e)if(a.extensionField)a.extensionField.parent.remove(a.extensionField),a.extensionField=null;else{var b=this.deferred.indexOf(a);b>-1&&this.deferred.splice(b,1)}}else if(a instanceof l)o.test(a.name)&&delete a.parent[a.name];else if(a instanceof g){for(var c=0;c<a.nestedArray.length;++c)this.h(a.f[c]);o.test(a.name)&&delete a.parent[a.name]}},c.e=function(a,b,c){h=a,i=b,j=c}},{15:15,16:16,23:23,25:25,37:37}],30:[function(a,b){b.exports={}},{}],31:[function(a,b,c){c.Service=a(32)},{32:32}],32:[function(a,b){function c(a,b,c){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!c}b.exports=c;var d=a(39);(c.prototype=Object.create(d.EventEmitter.prototype)).constructor=c,c.prototype.rpcCall=function a(b,c,f,g,h){if(!g)throw TypeError("request must be specified");var i=this;if(!h)return d.asPromise(a,i,b,c,f,g);if(!i.rpcImpl)return setTimeout(function(){h(Error("already ended"))},0),e;try{return i.rpcImpl(b,c[i.requestDelimited?"encodeDelimited":"encode"](g).finish(),function(a,c){if(a)return i.emit("error",a,b),h(a);if(null===c)return i.end(!0),e;if(!(c instanceof f))try{c=f[i.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return i.emit("error",a,b),h(a)}return i.emit("data",c,b),h(null,c)})}catch(a){return i.emit("error",a,b),setTimeout(function(){h(a)},0),e}},c.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(a,b){function c(a,b){f.call(this,a,b),this.methods={},this.j=null}function d(a){return a.j=null,a}b.exports=c;var f=a(23);((c.prototype=Object.create(f.prototype)).constructor=c).className="Service";var g=a(22),h=a(37),i=a(31);c.fromJSON=function(a,b){var d=new c(a,b.options);if(b.methods)for(var e=Object.keys(b.methods),f=0;f<e.length;++f)d.add(g.fromJSON(e[f],b.methods[e[f]]));return b.nested&&d.addJSON(b.nested),d},c.prototype.toJSON=function(){var a=f.prototype.toJSON.call(this);return h.toObject(["options",a&&a.options||e,"methods",f.arrayToJSON(this.methodsArray)||{},"nested",a&&a.nested||e])},Object.defineProperty(c.prototype,"methodsArray",{get:function(){return this.j||(this.j=h.toArray(this.methods))}}),c.prototype.get=function(a){return this.methods[a]||f.prototype.get.call(this,a)},c.prototype.resolveAll=function(){for(var a=this.methodsArray,b=0;b<a.length;++b)a[b].resolve();return f.prototype.resolve.call(this)},c.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof g?(this.methods[a.name]=a,a.parent=this,d(this)):f.prototype.add.call(this,a)},c.prototype.remove=function(a){if(a instanceof g){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,d(this)}return f.prototype.remove.call(this,a)},c.prototype.create=function(a,b,c){for(var d,e=new i.Service(a,b,c),f=0;f<this.methodsArray.length;++f)e[h.lcFirst((d=this.j[f]).resolve().name)]=h.codegen(["r","c"],h.lcFirst(d.name))("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor});return e}},{22:22,23:23,31:31,37:37}],34:[function(a,b){function c(a){return a.replace(l,function(a,b){switch(b){case"\\":case"":return b;default:return m[b]||""}})}function d(a){function b(a){return Error("illegal "+a+" (line "+u+")")}function d(){var d="'"===A?h:g;d.lastIndex=s-1;var e=d.exec(a);if(!e)throw b("string");return s=d.lastIndex,o(A),A=null,c(e[1])}function l(b){return a.charAt(b)}function m(b,c){v=a.charAt(b++),x=u,y=!1;var d,e=b-3;do{if(--e<0||"\n"===(d=a.charAt(e))){y=!0;break}}while(" "===d||"\t"===d);for(var f=a.substring(b,c).split(j),g=0;g<f.length;++g)f[g]=f[g].replace(i,"").trim();w=f.join("\n").trim()}function n(){if(z.length>0)return z.shift();if(A)return d();var c,e,g,h,i;do{if(s===t)return null;for(c=!1;k.test(g=l(s));)if("\n"===g&&++u,++s===t)return null;if("/"===l(s)){if(++s===t)throw b("comment");if("/"===l(s)){for(i="/"===l(h=s+1);"\n"!==l(++s);)if(s===t)return null;++s,i&&m(h,s-1),
++u,c=!0}else{if("*"!==(g=l(s)))return"/";i="*"===l(h=s+1);do{if("\n"===g&&++u,++s===t)throw b("comment");e=g,g=l(s)}while("*"!==e||"/"!==g);++s,i&&m(h,s-2),c=!0}}}while(c);var j=s;if(f.lastIndex=0,!f.test(l(j++)))for(;j<t&&!f.test(l(j));)++j;var n=a.substring(s,s=j);return'"'!==n&&"'"!==n||(A=n),n}function o(a){z.push(a)}function p(){if(!z.length){var a=n();if(null===a)return null;o(a)}return z[0]}function q(a,c){var d=p();if(d===a)return n(),!0;if(!c)throw b("token '"+d+"', '"+a+"' expected");return!1}function r(a){var b=null;return a===e?x!==u-1||"*"!==v&&!y||(b=w):(x<a&&p(),x!==a||y||"/"!==v||(b=w)),b}a=""+a;var s=0,t=a.length,u=1,v=null,w=null,x=0,y=!1,z=[],A=null;return Object.defineProperty({next:n,peek:p,push:o,skip:q,cmnt:r},"line",{get:function(){return u}})}b.exports=d;var f=/[\s{}=;:[\],'"()<>]/g,g=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,h=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*\/]+ */,j=/\n/g,k=/\s/,l=/\\(.?)/g,m={0:"\0",r:"\r",n:"\n",t:"\t"};d.unescape=c},{}],35:[function(a,b){function c(a,b){f.call(this,a,b),this.fields={},this.oneofs=e,this.extensions=e,this.reserved=e,this.group=e,this.k=null,this.b=null,this.l=null,this.o=null}function d(a){return a.k=a.b=a.l=null,delete a.encode,delete a.decode,delete a.verify,a}b.exports=c;var f=a(23);((c.prototype=Object.create(f.prototype)).constructor=c).className="Type";var g=a(15),h=a(25),i=a(16),j=a(20),k=a(33),l=a(21),m=a(27),n=a(42),o=a(37),p=a(14),q=a(13),r=a(40),s=a(12),t=a(41);Object.defineProperties(c.prototype,{fieldsById:{get:function(){if(this.k)return this.k;this.k={};for(var a=Object.keys(this.fields),b=0;b<a.length;++b){var c=this.fields[a[b]],d=c.id;if(this.k[d])throw Error("duplicate id "+d+" in "+this);this.k[d]=c}return this.k}},fieldsArray:{get:function(){return this.b||(this.b=o.toArray(this.fields))}},oneofsArray:{get:function(){return this.l||(this.l=o.toArray(this.oneofs))}},ctor:{get:function(){return this.o||(this.ctor=c.generateConstructor(this)())},set:function(a){var b=a.prototype;b instanceof l||((a.prototype=new l).constructor=a,o.merge(a.prototype,b)),a.$type=a.prototype.$type=this,o.merge(a,l,!0),this.o=a;for(var c=0;c<this.fieldsArray.length;++c)this.b[c].resolve();var d={};for(c=0;c<this.oneofsArray.length;++c)d[this.l[c].resolve().name]={get:o.oneOfGetter(this.l[c].oneof),set:o.oneOfSetter(this.l[c].oneof)};c&&Object.defineProperties(a.prototype,d)}}}),c.generateConstructor=function(a){for(var b,c=o.codegen(["p"],a.name),d=0;d<a.fieldsArray.length;++d)(b=a.b[d]).map?c("this%s={}",o.safeProp(b.name)):b.repeated&&c("this%s=[]",o.safeProp(b.name));return c("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},c.fromJSON=function(a,b){var d=new c(a,b.options);d.extensions=b.extensions,d.reserved=b.reserved;for(var l=Object.keys(b.fields),m=0;m<l.length;++m)d.add((e!==b.fields[l[m]].keyType?j.fromJSON:i.fromJSON)(l[m],b.fields[l[m]]));if(b.oneofs)for(l=Object.keys(b.oneofs),m=0;m<l.length;++m)d.add(h.fromJSON(l[m],b.oneofs[l[m]]));if(b.nested)for(l=Object.keys(b.nested),m=0;m<l.length;++m){var n=b.nested[l[m]];d.add((n.id!==e?i.fromJSON:n.fields!==e?c.fromJSON:n.values!==e?g.fromJSON:n.methods!==e?k.fromJSON:f.fromJSON)(l[m],n))}return b.extensions&&b.extensions.length&&(d.extensions=b.extensions),b.reserved&&b.reserved.length&&(d.reserved=b.reserved),b.group&&(d.group=!0),d},c.prototype.toJSON=function(){var a=f.prototype.toJSON.call(this);return o.toObject(["options",a&&a.options||e,"oneofs",f.arrayToJSON(this.oneofsArray),"fields",f.arrayToJSON(this.fieldsArray.filter(function(a){return!a.declaringField}))||{},"extensions",this.extensions&&this.extensions.length?this.extensions:e,"reserved",this.reserved&&this.reserved.length?this.reserved:e,"group",this.group||e,"nested",a&&a.nested||e])},c.prototype.resolveAll=function(){for(var a=this.fieldsArray,b=0;b<a.length;)a[b++].resolve();var c=this.oneofsArray;for(b=0;b<c.length;)c[b++].resolve();return f.prototype.resolveAll.call(this)},c.prototype.get=function(a){return this.fields[a]||this.oneofs&&this.oneofs[a]||this.nested&&this.nested[a]||null},c.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);if(a instanceof i&&a.extend===e){if(this.k?this.k[a.id]:this.fieldsById[a.id])throw Error("duplicate id "+a.id+" in "+this);if(this.isReservedId(a.id))throw Error("id "+a.id+" is reserved in "+this);if(this.isReservedName(a.name))throw Error("name '"+a.name+"' is reserved in "+this);return a.parent&&a.parent.remove(a),this.fields[a.name]=a,a.message=this,a.onAdd(this),d(this)}return a instanceof h?(this.oneofs||(this.oneofs={}),this.oneofs[a.name]=a,a.onAdd(this),d(this)):f.prototype.add.call(this,a)},c.prototype.remove=function(a){if(a instanceof i&&a.extend===e){if(!this.fields||this.fields[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.fields[a.name],a.parent=null,a.onRemove(this),d(this)}if(a instanceof h){if(!this.oneofs||this.oneofs[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.oneofs[a.name],a.parent=null,a.onRemove(this),d(this)}return f.prototype.remove.call(this,a)},c.prototype.isReservedId=function(a){if(this.reserved)for(var b=0;b<this.reserved.length;++b)if("string"!=typeof this.reserved[b]&&this.reserved[b][0]<=a&&this.reserved[b][1]>=a)return!0;return!1},c.prototype.isReservedName=function(a){if(this.reserved)for(var b=0;b<this.reserved.length;++b)if(this.reserved[b]===a)return!0;return!1},c.prototype.create=function(a){return new this.ctor(a)},c.prototype.setup=function(){for(var a=this.fullName,b=[],c=0;c<this.fieldsArray.length;++c)b.push(this.b[c].resolve().resolvedType);this.encode=p(this)({Writer:n,types:b,util:o}),this.decode=q(this)({Reader:m,types:b,util:o}),this.verify=r(this)({types:b,util:o}),this.fromObject=s.fromObject(this)({types:b,util:o}),this.toObject=s.toObject(this)({types:b,util:o});var d=t[a];if(d){var e=Object.create(this);e.fromObject=this.fromObject,this.fromObject=d.fromObject.bind(e),e.toObject=this.toObject,this.toObject=d.toObject.bind(e)}return this},c.prototype.encode=function(a,b){return this.setup().encode(a,b)},c.prototype.encodeDelimited=function(a,b){return this.encode(a,b&&b.len?b.fork():b).ldelim()},c.prototype.decode=function(a,b){return this.setup().decode(a,b)},c.prototype.decodeDelimited=function(a){return a instanceof m||(a=m.create(a)),this.decode(a,a.uint32())},c.prototype.verify=function(a){return this.setup().verify(a)},c.prototype.fromObject=function(a){return this.setup().fromObject(a)},c.prototype.toObject=function(a,b){return this.setup().toObject(a,b)},c.d=function(a){return function(b){o.decorateType(b,a)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(a,b,c){function d(a,b){var c=0,d={};for(b|=0;c<a.length;)d[g[c+b]]=a[c++];return d}var e=c,f=a(37),g=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];e.basic=d([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=d([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",f.emptyArray,null]),e.long=d([0,0,0,1,1],7),e.mapKey=d([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=d([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(a,b){var c,d,f=b.exports=a(39),g=a(30);f.codegen=a(3),f.fetch=a(5),f.path=a(8),f.fs=f.inquire("fs"),f.toArray=function(a){if(a){for(var b=Object.keys(a),c=Array(b.length),d=0;d<b.length;)c[d]=a[b[d++]];return c}return[]},f.toObject=function(a){for(var b={},c=0;c<a.length;){var d=a[c++],f=a[c++];f!==e&&(b[d]=f)}return b},f.safeProp=function(a){return'["'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"]'},f.ucFirst=function(a){return a.charAt(0).toUpperCase()+a.substring(1)},f.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(/_([a-z])/g,function(a,b){return b.toUpperCase()})},f.compareFieldsById=function(a,b){return a.id-b.id},f.decorateType=function(b,d){if(b.$type)return d&&b.$type.name!==d&&(f.decorateRoot.remove(b.$type),b.$type.name=d,f.decorateRoot.add(b.$type)),b.$type;c||(c=a(35));var e=new c(d||b.name);return f.decorateRoot.add(e),e.ctor=b,Object.defineProperty(b,"$type",{value:e,enumerable:!1}),Object.defineProperty(b.prototype,"$type",{value:e,enumerable:!1}),e};var h=0;f.decorateEnum=function(b){if(b.$type)return b.$type;d||(d=a(15));var c=new d("Enum"+h++,b);return f.decorateRoot.add(c),Object.defineProperty(b,"$type",{value:c,enumerable:!1}),c},Object.defineProperty(f,"decorateRoot",{get:function(){return g.decorated||(g.decorated=new(a(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(a,b){function c(a,b){this.lo=a>>>0,this.hi=b>>>0}b.exports=c;var d=a(39),e=c.zero=new c(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var f=c.zeroHash="\0\0\0\0\0\0\0\0";c.fromNumber=function(a){if(0===a)return e;var b=a<0;b&&(a=-a);var d=a>>>0,f=(a-d)/4294967296>>>0;return b&&(f=~f>>>0,d=~d>>>0,++d>4294967295&&(d=0,++f>4294967295&&(f=0))),new c(d,f)},c.from=function(a){if("number"==typeof a)return c.fromNumber(a);if(d.isString(a)){if(!d.Long)return c.fromNumber(parseInt(a,10));a=d.Long.fromString(a)}return a.low||a.high?new c(a.low>>>0,a.high>>>0):e},c.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=1+~this.lo>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+4294967296*c)}return this.lo+4294967296*this.hi},c.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var g=String.prototype.charCodeAt;c.fromHash=function(a){return a===f?e:new c((g.call(a,0)|g.call(a,1)<<8|g.call(a,2)<<16|g.call(a,3)<<24)>>>0,(g.call(a,4)|g.call(a,5)<<8|g.call(a,6)<<16|g.call(a,7)<<24)>>>0)},c.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},c.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},c.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},c.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}},{39:39}],39:[function(a,b,c){function d(a,b,c){for(var d=Object.keys(b),f=0;f<d.length;++f)a[d[f]]!==e&&c||(a[d[f]]=b[d[f]]);return a}function f(a){function b(a,c){if(!(this instanceof b))return new b(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&d(this,c)}return(b.prototype=Object.create(Error.prototype)).constructor=b,Object.defineProperty(b.prototype,"name",{get:function(){return a}}),b.prototype.toString=function(){return this.name+": "+this.message},b}var g=c;g.asPromise=a(1),g.base64=a(2),g.EventEmitter=a(4),g.float=a(6),g.inquire=a(7),g.utf8=a(10),g.pool=a(9),g.LongBits=a(38),g.emptyArray=Object.freeze?Object.freeze([]):[],g.emptyObject=Object.freeze?Object.freeze({}):{},g.isNode=!!(t.process&&t.process.versions&&t.process.versions.node),g.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},g.isString=function(a){return"string"==typeof a||a instanceof String},g.isObject=function(a){return a&&"object"==typeof a},g.isset=g.isSet=function(a,b){var c=a[b];return!(null==c||!a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},g.Buffer=function(){try{var a=g.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(a){return null}}(),g.p=null,g.u=null,g.newBuffer=function(a){return"number"==typeof a?g.Buffer?g.u(a):new g.Array(a):g.Buffer?g.p(a):"undefined"==typeof Uint8Array?a:new Uint8Array(a)},g.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,g.Long=t.dcodeIO&&t.dcodeIO.Long||g.inquire("long"),g.key2Re=/^true|false|0|1$/,g.key32Re=/^-?(?:0|[1-9][0-9]*)$/,g.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,g.longToHash=function(a){return a?g.LongBits.from(a).toHash():g.LongBits.zeroHash},g.longFromHash=function(a,b){var c=g.LongBits.fromHash(a);return g.Long?g.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)},g.merge=d,g.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},g.newError=f,g.ProtocolError=f("ProtocolError"),g.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&this[a[c]]!==e&&null!==this[a[c]])return a[c]}},g.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},g.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},g.e=function(){var a=g.Buffer;if(!a)return void(g.p=g.u=null);g.p=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},g.u=a.allocUnsafe||function(b){return new a(b)}}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(a,b){function c(a,b){return a.name+": "+b+(a.repeated&&"array"!==b?"[]":a.map&&"object"!==b?"{k:"+a.keyType+"}":"")+" expected"}function d(a,b,d,e){if(b.resolvedType)if(b.resolvedType instanceof g){a("switch(%s){",e)("default:")("return%j",c(b,"enum value"));for(var f=Object.keys(b.resolvedType.values),h=0;h<f.length;++h)a("case %i:",b.resolvedType.values[f[h]]);a("break")("}")}else a("var e=types[%i].verify(%s);",d,e)("if(e)")("return%j+e",b.name+".");else switch(b.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",e)("return%j",c(b,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",e,e,e,e)("return%j",c(b,"integer|Long"));break;case"float":case"double":a('if(typeof %s!=="number")',e)("return%j",c(b,"number"));break;case"bool":a('if(typeof %s!=="boolean")',e)("return%j",c(b,"boolean"));break;case"string":a("if(!util.isString(%s))",e)("return%j",c(b,"string"));break;case"bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',e,e,e)("return%j",c(b,"buffer"))}return a}function e(a,b,d){switch(b.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.key32Re.test(%s))",d)("return%j",c(b,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.key64Re.test(%s))",d)("return%j",c(b,"integer|Long key"));break;case"bool":a("if(!util.key2Re.test(%s))",d)("return%j",c(b,"boolean key"))}return a}function f(a){var b=h.codegen(["m"],a.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),f=a.oneofsArray,g={};f.length&&b("var p={}");for(var i=0;i<a.fieldsArray.length;++i){var j=a.b[i].resolve(),k="m"+h.safeProp(j.name);if(j.optional&&b("if(%s!=null&&m.hasOwnProperty(%j)){",k,j.name),j.map)b("if(!util.isObject(%s))",k)("return%j",c(j,"object"))("var k=Object.keys(%s)",k)("for(var i=0;i<k.length;++i){"),e(b,j,"k[i]"),d(b,j,i,k+"[k[i]]")("}");else if(j.repeated)b("if(!Array.isArray(%s))",k)("return%j",c(j,"array"))("for(var i=0;i<%s.length;++i){",k),d(b,j,i,k+"[i]")("}");else{if(j.partOf){var l=h.safeProp(j.partOf.name);1===g[j.partOf.name]&&b("if(p%s===1)",l)("return%j",j.partOf.name+": multiple values"),g[j.partOf.name]=1,b("p%s=1",l)}d(b,j,i,k)}j.optional&&b("}")}return b("return null")}b.exports=f;var g=a(15),h=a(37)},{15:15,37:37}],41:[function(a,b,c){var d=c,e=a(21);d[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var b=this.lookup(a["@type"]);if(b)return this.create({type_url:a["@type"],value:b.encode(a).finish()})}return this.fromObject(a)},toObject:function(a,b){if(b&&b.json&&a.type_url&&a.value){var c=this.lookup(a.type_url);c&&(a=c.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof e){var d=a.$type.toObject(a,b);return d["@type"]=a.$type.fullName,d}return this.toObject(a,b)}}},{21:21}],42:[function(a,b){function c(a,b,c){this.fn=a,this.len=b,this.next=e,this.val=c}function d(){}function f(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function g(){this.len=0,this.head=new c(d,0,0),this.tail=this.head,this.states=null}function h(a,b,c){b[c]=255&a}function i(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function j(a,b){this.len=a,this.next=e,this.val=b}function k(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function l(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}b.exports=g;var m,n=a(39),o=n.LongBits,p=n.base64,q=n.utf8;g.create=n.Buffer?function(){return(g.create=function(){return new m})()}:function(){return new g},g.alloc=function(a){return new n.Array(a)},n.Array!==Array&&(g.alloc=n.pool(g.alloc,n.Array.prototype.subarray)),g.prototype.v=function(a,b,d){return this.tail=this.tail.next=new c(a,b,d),this.len+=b,this},j.prototype=Object.create(c.prototype),j.prototype.fn=i,g.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new j((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<268435456?4:5,a)).len,this},g.prototype.int32=function(a){return a<0?this.v(k,10,o.fromNumber(a)):this.uint32(a)},g.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},g.prototype.uint64=function(a){var b=o.from(a);return this.v(k,b.length(),b)},g.prototype.int64=g.prototype.uint64,g.prototype.sint64=function(a){var b=o.from(a).zzEncode();return this.v(k,b.length(),b)},g.prototype.bool=function(a){return this.v(h,1,a?1:0)},g.prototype.fixed32=function(a){return this.v(l,4,a>>>0)},g.prototype.sfixed32=g.prototype.fixed32,g.prototype.fixed64=function(a){var b=o.from(a);return this.v(l,4,b.lo).v(l,4,b.hi)},g.prototype.sfixed64=g.prototype.fixed64,g.prototype.float=function(a){return this.v(n.float.writeFloatLE,4,a)},g.prototype.double=function(a){return this.v(n.float.writeDoubleLE,8,a)};var r=n.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};g.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this.v(h,1,0);if(n.isString(a)){var c=g.alloc(b=p.length(a));p.decode(a,c,0),a=c}return this.uint32(b).v(r,b,a)},g.prototype.string=function(a){var b=q.length(a);return b?this.uint32(b).v(q.write,b,a):this.v(h,1,0)},g.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new c(d,0,0),this.len=0,this},g.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(d,0,0),this.len=0),this},g.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},g.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},g.e=function(a){m=a}},{39:39}],43:[function(a,b){function c(){e.call(this)}function d(a,b,c){a.length<40?f.utf8.write(a,b,c):b.utf8Write(a,c)}b.exports=c;var e=a(42);(c.prototype=Object.create(e.prototype)).constructor=c;var f=a(39),g=f.Buffer;c.alloc=function(a){return(c.alloc=f.u)(a)};var h=g&&g.prototype instanceof Uint8Array&&"set"===g.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]};c.prototype.bytes=function(a){f.isString(a)&&(a=f.p(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this.v(h,b,a),this},c.prototype.string=function(a){var b=g.byteLength(a);return this.uint32(b),b&&this.v(d,b,a),this}},{39:39,42:42}]},{},[19])}("object"==typeof window&&window||"object"==typeof self&&self||this),function(a,b){if("function"==typeof define&&define.amd)define(["long"],b);else if("function"==typeof require&&"object"==typeof module&&module&&module.exports){var c,d=module;try{c=require("long")}catch(a){}c=b(c),d.exports=c}else(a.dcodeIO=a.dcodeIO||{}).ByteBuffer=b(a.dcodeIO.Long)}(this,function(a){function b(a){var b=0;return function(){return b<a.length?a.charCodeAt(b++):null}}function c(){var a=[],b=[];return function(){if(0===arguments.length)return b.join("")+g.apply(String,a);1024<a.length+arguments.length&&(b.push(g.apply(String,a)),a.length=0),Array.prototype.push.apply(a,arguments)}}var d=function(a,b,c){if(void 0===a&&(a=d.DEFAULT_CAPACITY),void 0===b&&(b=d.DEFAULT_ENDIAN),void 0===c&&(c=d.DEFAULT_NOASSERT),!c){if(0>(a|=0))throw RangeError("Illegal capacity");b=!!b,c=!!c}this.buffer=0===a?f:new ArrayBuffer(a),this.view=0===a?null:new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=a,this.littleEndian=b,this.noAssert=c};d.VERSION="5.0.1",d.LITTLE_ENDIAN=!0,d.BIG_ENDIAN=!1,d.DEFAULT_CAPACITY=16,d.DEFAULT_ENDIAN=d.BIG_ENDIAN,d.DEFAULT_NOASSERT=!1,d.Long=a||null;var e=d.prototype;Object.defineProperty(e,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var f=new ArrayBuffer(0),g=String.fromCharCode;d.accessor=function(){return DataView},d.allocate=function(a,b,c){return new d(a,b,c)},d.concat=function(a,b,c,e){"boolean"!=typeof b&&"string"==typeof b||(e=c,c=b,b=void 0);for(var f,g=0,h=0,i=a.length;h<i;++h)d.isByteBuffer(a[h])||(a[h]=d.wrap(a[h],b)),0<(f=a[h].limit-a[h].offset)&&(g+=f);if(0===g)return new d(0,c,e);for(b=new d(g,c,e),e=new Uint8Array(b.buffer),h=0;h<i;)c=a[h++],0>=(f=c.limit-c.offset)||(e.set(new Uint8Array(c.buffer).subarray(c.offset,c.limit),b.offset),b.offset+=f);return b.limit=b.offset,b.offset=0,b},d.isByteBuffer=function(a){return!0===(a&&a.__isByteBuffer__)},d.type=function(){return ArrayBuffer},d.wrap=function(a,b,c,f){if("string"!=typeof b&&(f=c,c=b,b=void 0),"string"==typeof a)switch(void 0===b&&(b="utf8"),b){case"base64":return d.fromBase64(a,c);case"hex":return d.fromHex(a,c);case"binary":return d.fromBinary(a,c);case"utf8":return d.fromUTF8(a,c);case"debug":return d.fromDebug(a,c);default:throw Error("Unsupported encoding: "+b)}if(null===a||"object"!=typeof a)throw TypeError("Illegal buffer");if(d.isByteBuffer(a))return b=e.clone.call(a),b.markedOffset=-1,b;if(a instanceof Uint8Array)b=new d(0,c,f),0<a.length&&(b.buffer=a.buffer,b.offset=a.byteOffset,b.limit=a.byteOffset+a.byteLength,b.view=new DataView(a.buffer));else if(a instanceof ArrayBuffer)b=new d(0,c,f),0<a.byteLength&&(b.buffer=a,b.offset=0,b.limit=a.byteLength,b.view=0<a.byteLength?new DataView(a):null);else{if("[object Array]"!==Object.prototype.toString.call(a))throw TypeError("Illegal buffer");for(b=new d(a.length,c,f),b.limit=a.length,c=0;c<a.length;++c)b.view.setUint8(c,a[c])}return b},e.writeBitSet=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if(!(a instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}var d,e=b,f=a.length,g=f>>3,h=0;for(b+=this.writeVarint32(f,b);g--;)d=1&!!a[h++]|(1&!!a[h++])<<1|(1&!!a[h++])<<2|(1&!!a[h++])<<3|(1&!!a[h++])<<4|(1&!!a[h++])<<5|(1&!!a[h++])<<6|(1&!!a[h++])<<7,this.writeByte(d,b++);if(h<f){for(d=g=0;h<f;)d|=(1&!!a[h++])<<g++;this.writeByte(d,b++)}return c?(this.offset=b,this):b-e},e.readBitSet=function(a){var b=void 0===a;b&&(a=this.offset);var c=this.readVarint32(a),d=c.value,e=d>>3,f=0,g=[];for(a+=c.length;e--;)c=this.readByte(a++),g[f++]=!!(1&c),g[f++]=!!(2&c),g[f++]=!!(4&c),g[f++]=!!(8&c),g[f++]=!!(16&c),g[f++]=!!(32&c),g[f++]=!!(64&c),g[f++]=!!(128&c);if(f<d)for(e=0,c=this.readByte(a++);f<d;)g[f++]=!!(c>>e++&1);return b&&(this.offset=a),g},e.readBytes=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+a>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+"+a+") <= "+this.buffer.byteLength)}var d=this.slice(b,b+a);return c&&(this.offset+=a),d},e.writeBytes=e.append,e.writeInt8=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a|=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=1;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setInt8(b-1,a),c&&(this.offset+=1),this},e.writeByte=e.writeInt8,e.readInt8=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength)}return a=this.view.getInt8(a),b&&(this.offset+=1),a},e.readByte=e.readInt8,e.writeUint8=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=1;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setUint8(b-1,a),c&&(this.offset+=1),this},e.writeUInt8=e.writeUint8,e.readUint8=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength)}return a=this.view.getUint8(a),b&&(this.offset+=1),a},e.readUInt8=e.readUint8,e.writeInt16=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a|=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=2;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setInt16(b-2,a,this.littleEndian),c&&(this.offset+=2),this},e.writeShort=e.writeInt16,e.readInt16=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+2) <= "+this.buffer.byteLength)}return a=this.view.getInt16(a,this.littleEndian),b&&(this.offset+=2),a},e.readShort=e.readInt16,e.writeUint16=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=2;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setUint16(b-2,a,this.littleEndian),c&&(this.offset+=2),this},e.writeUInt16=e.writeUint16,e.readUint16=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+2) <= "+this.buffer.byteLength)}return a=this.view.getUint16(a,this.littleEndian),b&&(this.offset+=2),a},e.readUInt16=e.readUint16,e.writeInt32=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a|=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=4;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setInt32(b-4,a,this.littleEndian),c&&(this.offset+=4),this},e.writeInt=e.writeInt32,e.readInt32=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength)}return a=this.view.getInt32(a,this.littleEndian),b&&(this.offset+=4),a},e.readInt=e.readInt32,e.writeUint32=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=4;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setUint32(b-4,a,this.littleEndian),c&&(this.offset+=4),this},e.writeUInt32=e.writeUint32,e.readUint32=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength)}return a=this.view.getUint32(a,this.littleEndian),b&&(this.offset+=4),a},e.readUInt32=e.readUint32,a&&(e.writeInt64=function(b,c){var d=void 0===c;if(d&&(c=this.offset),!this.noAssert){if("number"==typeof b)b=a.fromNumber(b);else if("string"==typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}"number"==typeof b?b=a.fromNumber(b):"string"==typeof b&&(b=a.fromString(b)),c+=8;var e=this.buffer.byteLength;return c>e&&this.resize((e*=2)>c?e:c),c-=8,this.littleEndian?(this.view.setInt32(c,b.low,!0),this.view.setInt32(c+4,b.high,!0)):(this.view.setInt32(c,b.high,!1),this.view.setInt32(c+4,b.low,!1)),d&&(this.offset+=8),this},e.writeLong=e.writeInt64,e.readInt64=function(b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+8) <= "+this.buffer.byteLength)}return b=this.littleEndian?new a(this.view.getInt32(b,!0),this.view.getInt32(b+4,!0),!1):new a(this.view.getInt32(b+4,!1),this.view.getInt32(b,!1),!1),c&&(this.offset+=8),b},e.readLong=e.readInt64,e.writeUint64=function(b,c){var d=void 0===c;if(d&&(c=this.offset),!this.noAssert){if("number"==typeof b)b=a.fromNumber(b);else if("string"==typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}"number"==typeof b?b=a.fromNumber(b):"string"==typeof b&&(b=a.fromString(b)),c+=8;var e=this.buffer.byteLength;return c>e&&this.resize((e*=2)>c?e:c),c-=8,this.littleEndian?(this.view.setInt32(c,b.low,!0),this.view.setInt32(c+4,b.high,!0)):(this.view.setInt32(c,b.high,!1),this.view.setInt32(c+4,b.low,!1)),d&&(this.offset+=8),this},e.writeUInt64=e.writeUint64,e.readUint64=function(b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)")
;if(0>(b>>>=0)||b+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+8) <= "+this.buffer.byteLength)}return b=this.littleEndian?new a(this.view.getInt32(b,!0),this.view.getInt32(b+4,!0),!0):new a(this.view.getInt32(b+4,!1),this.view.getInt32(b,!1),!0),c&&(this.offset+=8),b},e.readUInt64=e.readUint64),e.writeFloat32=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a)throw TypeError("Illegal value: "+a+" (not a number)");if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=4;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setFloat32(b-4,a,this.littleEndian),c&&(this.offset+=4),this},e.writeFloat=e.writeFloat32,e.readFloat32=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength)}return a=this.view.getFloat32(a,this.littleEndian),b&&(this.offset+=4),a},e.readFloat=e.readFloat32,e.writeFloat64=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a)throw TypeError("Illegal value: "+a+" (not a number)");if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}b+=8;var d=this.buffer.byteLength;return b>d&&this.resize((d*=2)>b?d:b),this.view.setFloat64(b-8,a,this.littleEndian),c&&(this.offset+=8),this},e.writeDouble=e.writeFloat64,e.readFloat64=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+8) <= "+this.buffer.byteLength)}return a=this.view.getFloat64(a,this.littleEndian),b&&(this.offset+=8),a},e.readDouble=e.readFloat64,d.MAX_VARINT32_BYTES=5,d.calculateVarint32=function(a){return a>>>=0,128>a?1:16384>a?2:2097152>a?3:268435456>a?4:5},d.zigZagEncode32=function(a){return((a|=0)<<1^a>>31)>>>0},d.zigZagDecode32=function(a){return a>>>1^-(1&a)|0},e.writeVarint32=function(a,b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a|=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength)}var e,f=d.calculateVarint32(a);for(b+=f,e=this.buffer.byteLength,b>e&&this.resize((e*=2)>b?e:b),b-=f,a>>>=0;128<=a;)e=127&a|128,this.view.setUint8(b++,e),a>>>=7;return this.view.setUint8(b++,a),c?(this.offset=b,this):f},e.writeVarint32ZigZag=function(a,b){return this.writeVarint32(d.zigZagEncode32(a),b)},e.readVarint32=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength)}var c,d=0,e=0;do{if(!this.noAssert&&a>this.limit)throw a=Error("Truncated"),a.truncated=!0,a;c=this.view.getUint8(a++),5>d&&(e|=(127&c)<<7*d),++d}while(0!=(128&c));return e|=0,b?(this.offset=a,e):{value:e,length:d}},e.readVarint32ZigZag=function(a){return a=this.readVarint32(a),"object"==typeof a?a.value=d.zigZagDecode32(a.value):a=d.zigZagDecode32(a),a},a&&(d.MAX_VARINT64_BYTES=10,d.calculateVarint64=function(b){"number"==typeof b?b=a.fromNumber(b):"string"==typeof b&&(b=a.fromString(b));var c=b.toInt()>>>0,d=b.shiftRightUnsigned(28).toInt()>>>0;return b=b.shiftRightUnsigned(56).toInt()>>>0,0==b?0==d?16384>c?128>c?1:2:2097152>c?3:4:16384>d?128>d?5:6:2097152>d?7:8:128>b?9:10},d.zigZagEncode64=function(b){return"number"==typeof b?b=a.fromNumber(b,!1):"string"==typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned()),b.shiftLeft(1).xor(b.shiftRight(63)).toUnsigned()},d.zigZagDecode64=function(b){return"number"==typeof b?b=a.fromNumber(b,!1):"string"==typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned()),b.shiftRightUnsigned(1).xor(b.and(a.ONE).toSigned().negate()).toSigned()},e.writeVarint64=function(b,c){var e=void 0===c;if(e&&(c=this.offset),!this.noAssert){if("number"==typeof b)b=a.fromNumber(b);else if("string"==typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}"number"==typeof b?b=a.fromNumber(b,!1):"string"==typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned());var f=d.calculateVarint64(b),g=b.toInt()>>>0,h=b.shiftRightUnsigned(28).toInt()>>>0,i=b.shiftRightUnsigned(56).toInt()>>>0;c+=f;var j=this.buffer.byteLength;switch(c>j&&this.resize((j*=2)>c?j:c),c-=f,f){case 10:this.view.setUint8(c+9,i>>>7&1);case 9:this.view.setUint8(c+8,9!==f?128|i:127&i);case 8:this.view.setUint8(c+7,8!==f?h>>>21|128:h>>>21&127);case 7:this.view.setUint8(c+6,7!==f?h>>>14|128:h>>>14&127);case 6:this.view.setUint8(c+5,6!==f?h>>>7|128:h>>>7&127);case 5:this.view.setUint8(c+4,5!==f?128|h:127&h);case 4:this.view.setUint8(c+3,4!==f?g>>>21|128:g>>>21&127);case 3:this.view.setUint8(c+2,3!==f?g>>>14|128:g>>>14&127);case 2:this.view.setUint8(c+1,2!==f?g>>>7|128:g>>>7&127);case 1:this.view.setUint8(c,1!==f?128|g:127&g)}return e?(this.offset+=f,this):f},e.writeVarint64ZigZag=function(a,b){return this.writeVarint64(d.zigZagEncode64(a),b)},e.readVarint64=function(b){var c=void 0===b;if(c&&(b=this.offset),!this.noAssert){if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");if(0>(b>>>=0)||b+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+1) <= "+this.buffer.byteLength)}var d=b,e=0,f=0,g=0,h=0,h=this.view.getUint8(b++),e=127&h;if(128&h&&(h=this.view.getUint8(b++),e|=(127&h)<<7,128&h&&(h=this.view.getUint8(b++),e|=(127&h)<<14,128&h&&(h=this.view.getUint8(b++),e|=(127&h)<<21,128&h&&(h=this.view.getUint8(b++),f=127&h,128&h&&(h=this.view.getUint8(b++),f|=(127&h)<<7,128&h&&(h=this.view.getUint8(b++),f|=(127&h)<<14,128&h&&(h=this.view.getUint8(b++),f|=(127&h)<<21,128&h&&(h=this.view.getUint8(b++),g=127&h,128&h&&(h=this.view.getUint8(b++),g|=(127&h)<<7,128&h))))))))))throw Error("Buffer overrun");return e=a.fromBits(e|f<<28,f>>>4|g<<24,!1),c?(this.offset=b,e):{value:e,length:b-d}},e.readVarint64ZigZag=function(b){return(b=this.readVarint64(b))&&b.value instanceof a?b.value=d.zigZagDecode64(b.value):b=d.zigZagDecode64(b),b}),e.writeCString=function(a,c){var d=void 0===c;d&&(c=this.offset);var e,f=a.length;if(!this.noAssert){if("string"!=typeof a)throw TypeError("Illegal str: Not a string");for(e=0;e<f;++e)if(0===a.charCodeAt(e))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}return f=i.calculateUTF16asUTF8(b(a))[1],c+=f+1,e=this.buffer.byteLength,c>e&&this.resize((e*=2)>c?e:c),c-=f+1,i.encodeUTF16toUTF8(b(a),function(a){this.view.setUint8(c++,a)}.bind(this)),this.view.setUint8(c++,0),d?(this.offset=c,this):f},e.readCString=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength)}var d,e=a,f=-1;return i.decodeUTF8toUTF16(function(){if(0===f)return null;if(a>=this.limit)throw RangeError("Illegal range: Truncated data, "+a+" < "+this.limit);return f=this.view.getUint8(a++),0===f?null:f}.bind(this),d=c(),!0),b?(this.offset=a,d()):{string:d(),length:a-e}},e.writeIString=function(a,c){var d=void 0===c;if(d&&(c=this.offset),!this.noAssert){if("string"!=typeof a)throw TypeError("Illegal str: Not a string");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var e,f=c;e=i.calculateUTF16asUTF8(b(a),this.noAssert)[1],c+=4+e;var g=this.buffer.byteLength;if(c>g&&this.resize((g*=2)>c?g:c),c-=4+e,this.view.setUint32(c,e,this.littleEndian),c+=4,i.encodeUTF16toUTF8(b(a),function(a){this.view.setUint8(c++,a)}.bind(this)),c!==f+4+e)throw RangeError("Illegal range: Truncated data, "+c+" == "+(c+4+e));return d?(this.offset=c,this):c-f},e.readIString=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength)}var c=a,e=this.readUint32(a),e=this.readUTF8String(e,d.METRICS_BYTES,a+=4);return a+=e.length,b?(this.offset=a,e.string):{string:e.string,length:a-c}},d.METRICS_CHARS="c",d.METRICS_BYTES="b",e.writeUTF8String=function(a,c){var d=void 0===c;if(d&&(c=this.offset),!this.noAssert){if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var e,f=c;e=i.calculateUTF16asUTF8(b(a))[1],c+=e;var g=this.buffer.byteLength;return c>g&&this.resize((g*=2)>c?g:c),c-=e,i.encodeUTF16toUTF8(b(a),function(a){this.view.setUint8(c++,a)}.bind(this)),d?(this.offset=c,this):c-f},e.writeString=e.writeUTF8String,d.calculateUTF8Chars=function(a){return i.calculateUTF16asUTF8(b(a))[0]},d.calculateUTF8Bytes=function(a){return i.calculateUTF16asUTF8(b(a))[1]},d.calculateString=d.calculateUTF8Bytes,e.readUTF8String=function(a,b,e){"number"==typeof b&&(e=b,b=void 0);var f=void 0===e;if(f&&(e=this.offset),void 0===b&&(b=d.METRICS_CHARS),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal length: "+a+" (not an integer)");if(a|=0,"number"!=typeof e||0!=e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");if(0>(e>>>=0)||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var g,h=0,j=e;if(b===d.METRICS_CHARS){if(g=c(),i.decodeUTF8(function(){return h<a&&e<this.limit?this.view.getUint8(e++):null}.bind(this),function(a){++h,i.UTF8toUTF16(a,g)}),h!==a)throw RangeError("Illegal range: Truncated data, "+h+" == "+a);return f?(this.offset=e,g()):{string:g(),length:e-j}}if(b===d.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof e||0!=e%1)throw TypeError("Illegal offset: "+e+" (not an integer)");if(0>(e>>>=0)||e+a>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+a+") <= "+this.buffer.byteLength)}var k=e+a;if(i.decodeUTF8toUTF16(function(){return e<k?this.view.getUint8(e++):null}.bind(this),g=c(),this.noAssert),e!==k)throw RangeError("Illegal range: Truncated data, "+e+" == "+k);return f?(this.offset=e,g()):{string:g(),length:e-j}}throw TypeError("Unsupported metrics: "+b)},e.readString=e.readUTF8String,e.writeVString=function(a,c){var e=void 0===c;if(e&&(c=this.offset),!this.noAssert){if("string"!=typeof a)throw TypeError("Illegal str: Not a string");if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}var f,g,h=c;f=i.calculateUTF16asUTF8(b(a),this.noAssert)[1],g=d.calculateVarint32(f),c+=g+f;var j=this.buffer.byteLength;if(c>j&&this.resize((j*=2)>c?j:c),c-=g+f,c+=this.writeVarint32(f,c),i.encodeUTF16toUTF8(b(a),function(a){this.view.setUint8(c++,a)}.bind(this)),c!==h+f+g)throw RangeError("Illegal range: Truncated data, "+c+" == "+(c+f+g));return e?(this.offset=c,this):c-h},e.readVString=function(a){var b=void 0===a;if(b&&(a=this.offset),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength)}var c=a,e=this.readVarint32(a),e=this.readUTF8String(e.value,d.METRICS_BYTES,a+=e.length);return a+=e.length,b?(this.offset=a,e.string):{string:e.string,length:a-c}},e.append=function(a,b,c){"number"!=typeof b&&"string"==typeof b||(c=b,b=void 0);var e=void 0===c;if(e&&(c=this.offset),!this.noAssert){if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}if(a instanceof d||(a=d.wrap(a,b)),0>=(b=a.limit-a.offset))return this;c+=b;var f=this.buffer.byteLength;return c>f&&this.resize((f*=2)>c?f:c),new Uint8Array(this.buffer,c-b).set(new Uint8Array(a.buffer).subarray(a.offset,a.limit)),a.offset+=b,e&&(this.offset+=b),this},e.appendTo=function(a,b){return a.append(this,b),this},e.assert=function(a){return this.noAssert=!a,this},e.capacity=function(){return this.buffer.byteLength},e.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},e.clone=function(a){var b=new d(0,this.littleEndian,this.noAssert);return a?(b.buffer=new ArrayBuffer(this.buffer.byteLength),new Uint8Array(b.buffer).set(this.buffer),b.view=new DataView(b.buffer)):(b.buffer=this.buffer,b.view=this.view),b.offset=this.offset,b.markedOffset=this.markedOffset,b.limit=this.limit,b},e.compact=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}if(0===a&&b===this.buffer.byteLength)return this;var c=b-a;if(0===c)return this.buffer=f,this.view=null,0<=this.markedOffset&&(this.markedOffset-=a),this.limit=this.offset=0,this;var d=new ArrayBuffer(c);return new Uint8Array(d).set(new Uint8Array(this.buffer).subarray(a,b)),this.buffer=d,this.view=new DataView(d),0<=this.markedOffset&&(this.markedOffset-=a),this.offset=0,this.limit=c,this},e.copy=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}if(a===b)return new d(0,this.littleEndian,this.noAssert);var c=b-a,e=new d(c,this.littleEndian,this.noAssert);return e.offset=0,e.limit=c,0<=e.markedOffset&&(e.markedOffset-=a),this.copyTo(e,0,a,b),e},e.copyTo=function(a,b,c,e){var f,g;if(!this.noAssert&&!d.isByteBuffer(a))throw TypeError("Illegal target: Not a ByteBuffer");if(b=(g=void 0===b)?a.offset:0|b,c=(f=void 0===c)?this.offset:0|c,e=void 0===e?this.limit:0|e,0>b||b>a.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+b+" <= "+a.buffer.byteLength);if(0>c||e>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+c+" <= "+this.buffer.byteLength);var h=e-c;return 0===h?a:(a.ensureCapacity(b+h),new Uint8Array(a.buffer).set(new Uint8Array(this.buffer).subarray(c,e),b),f&&(this.offset+=h),g&&(a.offset+=h),this)},e.ensureCapacity=function(a){var b=this.buffer.byteLength;return b<a?this.resize((b*=2)>a?b:a):this},e.fill=function(a,b,c){var d=void 0===b;if(d&&(b=this.offset),"string"==typeof a&&0<a.length&&(a=a.charCodeAt(0)),void 0===b&&(b=this.offset),void 0===c&&(c=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal value: "+a+" (not an integer)");if(a|=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal begin: Not an integer");if(b>>>=0,"number"!=typeof c||0!=c%1)throw TypeError("Illegal end: Not an integer");if(c>>>=0,0>b||b>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+b+" <= "+c+" <= "+this.buffer.byteLength)}if(b>=c)return this;for(;b<c;)this.view.setUint8(b++,a);return d&&(this.offset=b),this},e.flip=function(){return this.limit=this.offset,this.offset=0,this},e.mark=function(a){if(a=void 0===a?this.offset:a,!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");if(0>(a>>>=0)||a+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=a,this},e.order=function(a){if(!this.noAssert&&"boolean"!=typeof a)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!a,this},e.LE=function(a){return this.littleEndian=void 0===a||!!a,this},e.BE=function(a){return this.littleEndian=void 0!==a&&!a,this},e.prepend=function(a,b,c){"number"!=typeof b&&"string"==typeof b||(c=b,b=void 0);var e=void 0===c;if(e&&(c=this.offset),!this.noAssert){if("number"!=typeof c||0!=c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");if(0>(c>>>=0)||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength)}if(a instanceof d||(a=d.wrap(a,b)),0>=(b=a.limit-a.offset))return this;var f=b-c;if(0<f){var g=new ArrayBuffer(this.buffer.byteLength+f),h=new Uint8Array(g);h.set(new Uint8Array(this.buffer).subarray(c,this.buffer.byteLength),b),this.buffer=g,this.view=new DataView(g),this.offset+=f,0<=this.markedOffset&&(this.markedOffset+=f),this.limit+=f,c+=f}else h=new Uint8Array(this.buffer);return h.set(new Uint8Array(a.buffer).subarray(a.offset,a.limit),c-b),a.offset=a.limit,e&&(this.offset-=b),this},e.prependTo=function(a,b){return a.prepend(this,b),this},e.printDebug=function(a){"function"!=typeof a&&(a=console.log.bind(console)),a(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},e.remaining=function(){return this.limit-this.offset},e.reset=function(){return 0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},e.resize=function(a){if(!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal capacity: "+a+" (not an integer)");if(0>(a|=0))throw RangeError("Illegal capacity: 0 <= "+a)}return this.buffer.byteLength<a&&(a=new ArrayBuffer(a),new Uint8Array(a).set(new Uint8Array(this.buffer)),this.buffer=a,this.view=new DataView(a)),this},e.reverse=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}return a===b?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(a,b)),this.view=new DataView(this.buffer),this)},e.skip=function(a){if(!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal length: "+a+" (not an integer)");a|=0}var b=this.offset+a;if(!this.noAssert&&(0>b||b>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+a+" <= "+this.buffer.byteLength);return this.offset=b,this},e.slice=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}var c=this.clone();return c.offset=a,c.limit=b,c},e.toBuffer=function(a){var b=this.offset,c=this.limit;if(!this.noAssert){if("number"!=typeof b||0!=b%1)throw TypeError("Illegal offset: Not an integer");if(b>>>=0,"number"!=typeof c||0!=c%1)throw TypeError("Illegal limit: Not an integer");if(c>>>=0,0>b||b>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+b+" <= "+c+" <= "+this.buffer.byteLength)}return a||0!==b||c!==this.buffer.byteLength?b===c?f:(a=new ArrayBuffer(c-b),new Uint8Array(a).set(new Uint8Array(this.buffer).subarray(b,c),0),a):this.buffer},e.toArrayBuffer=e.toBuffer,e.toString=function(a,b,c){if(void 0===a)return"ByteBufferAB_DataView(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof a&&(c=b=a="utf8"),a){case"utf8":return this.toUTF8(b,c);case"base64":return this.toBase64(b,c);case"hex":return this.toHex(b,c);case"binary":return this.toBinary(b,c);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+a)}};var h=function(){for(var a={},b=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],c=[],d=0,e=b.length;d<e;++d)c[b[d]]=d;return a.encode=function(a,c){for(var d,e;null!==(d=a());)c(b[d>>2&63]),e=(3&d)<<4,null!==(d=a())?(e|=d>>4&15,c(b[63&(e|d>>4&15)]),e=(15&d)<<2,null!==(d=a())?(c(b[63&(e|d>>6&3)]),c(b[63&d])):(c(b[63&e]),c(61))):(c(b[63&e]),c(61),c(61))},a.decode=function(a,b){function d(a){throw Error("Illegal character code: "+a)}for(var e,f,g;null!==(e=a());)if(f=c[e],void 0===f&&d(e),null!==(e=a())&&(g=c[e],void 0===g&&d(e),b(f<<2>>>0|(48&g)>>4),null!==(e=a()))){if(void 0===(f=c[e])){if(61===e)break;d(e)}if(b((15&g)<<4>>>0|(60&f)>>2),null!==(e=a())){if(void 0===(g=c[e])){if(61===e)break;d(e)}b((3&f)<<6>>>0|g)}}},a.test=function(a){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(a)},a}();e.toBase64=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),a|=0,b|=0,0>a||b>this.capacity||a>b)throw RangeError("begin, end");var d;return h.encode(function(){return a<b?this.view.getUint8(a++):null}.bind(this),d=c()),d()},d.fromBase64=function(a,c){if("string"!=typeof a)throw TypeError("str");var e=new d(a.length/4*3,c),f=0;return h.decode(b(a),function(a){e.view.setUint8(f++,a)}),e.limit=f,e},d.btoa=function(a){return d.fromBinary(a).toBase64()},d.atob=function(a){return d.fromBase64(a).toBinary()},e.toBinary=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),a|=0,b|=0,0>a||b>this.capacity()||a>b)throw RangeError("begin, end");if(a===b)return"";for(var c=[],d=[];a<b;)c.push(this.view.getUint8(a++)),1024<=c.length&&(d.push(String.fromCharCode.apply(String,c)),c=[]);return d.join("")+String.fromCharCode.apply(String,c)},d.fromBinary=function(a,b){if("string"!=typeof a)throw TypeError("str");for(var c,e=0,f=a.length,g=new d(f,b);e<f;){if(255<(c=a.charCodeAt(e)))throw RangeError("illegal char code: "+c);g.view.setUint8(e++,c)}return g.limit=f,g},e.toDebug=function(a){for(var b,c=-1,d=this.buffer.byteLength,e="",f="",g="";c<d;){if(-1!==c&&(b=this.view.getUint8(c),e=16>b?e+"0"+b.toString(16).toUpperCase():e+b.toString(16).toUpperCase(),a&&(f+=32<b&&127>b?String.fromCharCode(b):".")),++c,a&&0<c&&0==c%16&&c!==d){for(;51>e.length;)e+=" ";g+=e+f+"\n",e=f=""}e=c===this.offset&&c===this.limit?e+(c===this.markedOffset?"!":"|"):c===this.offset?e+(c===this.markedOffset?"[":"<"):c===this.limit?e+(c===this.markedOffset?"]":">"):e+(c===this.markedOffset?"'":a||0!==c&&c!==d?" ":"")}if(a&&" "!==e){for(;51>e.length;)e+=" ";g+=e+f+"\n"}return a?g:e},d.fromDebug=function(a,b,c){var e=a.length;b=new d((e+1)/3|0,b,c);for(var f,g=0,h=0,i=!1,j=!1,k=!1,l=!1,m=!1;g<e;){switch(f=a.charAt(g++)){case"!":if(!c){if(j||k||l){m=!0;break}j=k=l=!0}b.offset=b.markedOffset=b.limit=h,i=!1;break;case"|":if(!c){if(j||l){m=!0;break}j=l=!0}b.offset=b.limit=h,i=!1;break;case"[":if(!c){if(j||k){m=!0;break}j=k=!0}b.offset=b.markedOffset=h,i=!1;break;case"<":if(!c){if(j){m=!0;break}j=!0}b.offset=h,i=!1;break;case"]":if(!c){if(l||k){m=!0;break}l=k=!0}b.limit=b.markedOffset=h,i=!1;break;case">":if(!c){if(l){m=!0;break}l=!0}b.limit=h,i=!1;break;case"'":if(!c){if(k){m=!0;break}k=!0}b.markedOffset=h,i=!1;break;case" ":i=!1;break;default:if(!c&&i){m=!0;break}if(f=parseInt(f+a.charAt(g++),16),!c&&(isNaN(f)||0>f||255<f))throw TypeError("Illegal str: Not a debug encoded string");b.view.setUint8(h++,f),i=!0}if(m)throw TypeError("Illegal str: Invalid symbol at "+g)}if(!c){if(!j||!l)throw TypeError("Illegal str: Missing offset or limit");if(h<b.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+h+" < "+e)}return b},e.toHex=function(a,b){if(a=void 0===a?this.offset:a,b=void 0===b?this.limit:b,!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}for(var c,d=Array(b-a);a<b;)c=this.view.getUint8(a++),16>c?d.push("0",c.toString(16)):d.push(c.toString(16));return d.join("")},d.fromHex=function(a,b,c){if(!c){if("string"!=typeof a)throw TypeError("Illegal str: Not a string");if(0!=a.length%2)throw TypeError("Illegal str: Length not a multiple of 2")}var e=a.length;b=new d(e/2|0,b);for(var f,g=0,h=0;g<e;g+=2){if(f=parseInt(a.substring(g,g+2),16),!c&&(!isFinite(f)||0>f||255<f))throw TypeError("Illegal str: Contains non-hex characters");b.view.setUint8(h++,f)}return b.limit=h,b};var i=function(){var a={MAX_CODEPOINT:1114111,encodeUTF8:function(a,b){var c=null;for("number"==typeof a&&(c=a,a=function(){return null});null!==c||null!==(c=a());)128>c?b(127&c):(2048>c?b(c>>6&31|192):(65536>c?b(c>>12&15|224):(b(c>>18&7|240),b(c>>12&63|128)),b(c>>6&63|128)),b(63&c|128)),c=null},decodeUTF8:function(a,b){for(var c,d,e,f,g=function(a){a=a.slice(0,a.indexOf(null));var b=Error(a.toString());throw b.name="TruncatedError",b.bytes=a,b};null!==(c=a());)if(0==(128&c))b(c);else if(192==(224&c))null===(d=a())&&g([c,d]),b((31&c)<<6|63&d);else if(224==(240&c))null!==(d=a())&&null!==(e=a())||g([c,d,e]),b((15&c)<<12|(63&d)<<6|63&e);else{if(240!=(248&c))throw RangeError("Illegal starting byte: "+c);null!==(d=a())&&null!==(e=a())&&null!==(f=a())||g([c,d,e,f]),b((7&c)<<18|(63&d)<<12|(63&e)<<6|63&f)}},UTF16toUTF8:function(a,b){for(var c,d=null;null!==(c=null!==d?d:a());)55296<=c&&57343>=c&&null!==(d=a())&&56320<=d&&57343>=d?(b(1024*(c-55296)+d-56320+65536),d=null):b(c);null!==d&&b(d)},UTF8toUTF16:function(a,b){var c=null;for("number"==typeof a&&(c=a,a=function(){return null});null!==c||null!==(c=a());)65535>=c?b(c):(c-=65536,b(55296+(c>>10)),b(c%1024+56320)),c=null},encodeUTF16toUTF8:function(b,c){a.UTF16toUTF8(b,function(b){a.encodeUTF8(b,c)})},decodeUTF8toUTF16:function(b,c){a.decodeUTF8(b,function(b){a.UTF8toUTF16(b,c)})},calculateCodePoint:function(a){return 128>a?1:2048>a?2:65536>a?3:4},calculateUTF8:function(a){for(var b,c=0;null!==(b=a());)c+=128>b?1:2048>b?2:65536>b?3:4;return c},calculateUTF16asUTF8:function(b){var c=0,d=0;return a.UTF16toUTF8(b,function(a){++c,d+=128>a?1:2048>a?2:65536>a?3:4}),[c,d]}};return a}();return e.toUTF8=function(a,b){if(void 0===a&&(a=this.offset),void 0===b&&(b=this.limit),!this.noAssert){if("number"!=typeof a||0!=a%1)throw TypeError("Illegal begin: Not an integer");if(a>>>=0,"number"!=typeof b||0!=b%1)throw TypeError("Illegal end: Not an integer");if(b>>>=0,0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength)}var d;try{i.decodeUTF8toUTF16(function(){return a<b?this.view.getUint8(a++):null}.bind(this),d=c())}catch(c){if(a!==b)throw RangeError("Illegal range: Truncated data, "+a+" != "+b)}return d()},d.fromUTF8=function(a,c,e){if(!e&&"string"!=typeof a)throw TypeError("Illegal str: Not a string");var f=new d(i.calculateUTF16asUTF8(b(a),!0)[1],c,e),g=0;return i.encodeUTF16toUTF8(b(a),function(a){f.view.setUint8(g++,a)}),f.limit=g,f},d});var avp=Autodesk.Viewing.Private,IS_WORKER="undefined"!=typeof self&&"undefined"==typeof window;IS_WORKER&&(avp.logger=avp.logger||WGS.logger,avp.initializeLegacyNamespaces(!0));