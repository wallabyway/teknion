!function(){"use strict";function a(a){this.tool=a,this.viewer=a.viewer,this.velocity=new THREE.Vector3(0,0,0),this.angularVelocity=new THREE.Vector3(0,0,0),this.configuration={}}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var b=(Autodesk.Viewing.Extensions.BimWalk,Autodesk.Viewing.Private),c=a.prototype;c.set=function(a,c){return this.configuration.hasOwnProperty(a)?null===!c||void 0===c?(b.logger.warn("err! configuration value should be a number: "+c),!1):(this.configuration[a]=c,!0):(b.logger.warn("err! configuration not defined for current navigator in BimWalk: "+a),!1)},c.get=function(a){return this.configuration.hasOwnProperty(a)?this.configuration[a]:void b.logger.warn("err! configuration not defined for current navigator in BimWalk: "+a)},c.activate=function(){},c.deactivate=function(){},c.getCursor=function(){return null},c.getVelocity=function(){return this.velocity},c.getAngularVelocity=function(){return this.angularVelocity},c.getMinPitchLimit=function(){return THREE.Math.degToRad(20)},c.getMaxPitchLimit=function(){return THREE.Math.degToRad(160)},c.update=function(a,b,c,d){},c.handleGesture=function(a){return!1},c.handleButtonDown=function(a,b){return!1},c.handleButtonUp=function(a,b){return!1},c.handleMouseClick=function(a,b){return!1},c.handleMouseDoubleClick=function(a,b){return!1},c.handleMouseMove=function(a){return!1},c.handleKeyDown=function(a,b){return!0},c.handleKeyUp=function(a,b){return!0},c.handleWheelInput=function(a){return!1},c.handleSingleTap=function(a){return!1},c.handleDoubleTap=function(a){return!1},c.handleBlur=function(a){return!1},Autodesk.Viewing.Extensions.BimWalk.Navigator=a}(),function(){"use strict";function a(a){b.Navigator.call(this,a),this.configuration={minWalkSpeed:2,maxWalkSpeed:6,topWalkSpeed:4,minRunSpeed:4,maxRunSpeed:12,runMultiplier:2,mouseWalkMaxTargetDistance:2,mouseWalkStopDuration:.5,topVerticalSpeed:2,topVerticalSpeedMultiplier:1.5,allowVerticalSuspension:!1,keyboardTopTurnSpeed:1.5,keyboardTurnStopDuration:.75,mouseTurnInverted:!1,mouseTurnStopDuration:.2,mouseTurnMinPitchLimit:THREE.Math.degToRad(20),mouseTurnMaxPitchLimit:THREE.Math.degToRad(160),teleportDuration:.5,teleportWallDistance:1,cameraDistanceFromFloor:1.8,minAllowedRoofDistance:.6,smallAllowedVerticalStep:.3,bigAllowedVerticalStep:.6,minFloorSidesLengthForBigVerticalStep:5,gravityUpdatesBeforeFalling:10,gravityAcceleration:9.8,gravityTopFallSpeed:10},this.modelToMeters=1,this.metersToModel=1,this.keys=Autodesk.Viewing.theHotkeyManager.KEYCODES,this.mousePosition=new THREE.Vector2(0,0),this.moveForward=0,this.moveBackward=0,this.moveLeft=0,this.moveRight=0,this.moveKeyboardVelocity=new THREE.Vector3,this.moveMouseTargetDistance=0,this.moveMouseLastWheelDelta=0,this.moveMouseVelocity=new THREE.Vector3,this.moveMouseLastVelocity=new THREE.Vector3,this.turningWithMouse=!1,this.turnMouseDelta=new THREE.Vector3,this.turnMouseLastVelocity=new THREE.Vector3,this.turnLeft=0,this.turnRight=0,this.angularKeyboardVelocity=new THREE.Vector3,this.angularMouseVelocity=new THREE.Vector3,this.moveUp=0,this.moveDown=0,this.moveUpDownKeyboardVelocity=new THREE.Vector3,this.gravityEnabled=!0,this.userOverFloor=!1,this.gravityVelocity=new THREE.Vector3,this.updatesToStartFalling=0,this.teleporting=!1,this.teleportInitial=new THREE.Vector3,this.teleportTarget=new THREE.Vector3,this.teleportTime=0,this.teleportVelocity=new THREE.Vector3,this.teleportedDistance=0,this.ui=new b.UI.NavigatorSimple(this),this.trackToolUsed=!1}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var b=Autodesk.Viewing.Extensions.BimWalk,c={x:0,y:0};a.prototype=Object.create(b.Navigator.prototype),a.prototype.constructor=b;var d=a.prototype;d.set=function(a,c){var d=b.Navigator.prototype.set.call(this,a,c),e=this.get("minWalkSpeed"),f=this.get("maxWalkSpeed");return this.configuration.topWalkSpeed=Math.min(Math.max(this.configuration.topWalkSpeed,e),f),d},d.getTopRunSpeed=function(){var a=this.get("minRunSpeed"),b=this.get("maxRunSpeed"),c=this.get("topWalkSpeed")*this.get("runMultiplier");return Math.min(Math.max(c,a,b))},d.getMinPitchLimit=function(){return this.get("mouseTurnMinPitchLimit")},d.getMaxPitchLimit=function(){return this.get("mouseTurnMaxPitchLimit")},d.activate=function(){this.metersToModel=b.metersToModel(1,this.viewer),this.modelToMeters=1/this.metersToModel,this.userOverFloor=!1,this.ui.activate()},d.deactivate=function(){this.ui.deactivate()},d.enableGravity=function(a){this.gravityEnabled!==a&&(this.gravityEnabled=a,this.gravityVelocity.set(0,0,0),this.userOverFloor=!1,this.updatesToStartFalling=Number.MAX_VALUE)},d.update=function(a,b,c,d){if(this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),!this.ui.isDialogOpen||!this.ui.isDialogOpen())return this.viewer.autocam.currentlyAnimating?(this.userOverFloor=!1,void(this.updatesToStartFalling=this.get("gravityUpdatesBeforeFalling"))):void(this.teleporting?(this.updateTeleportDisplacement(a),this.velocity.add(this.teleportVelocity)):(this.updateKeyboardUpDownDisplacement(a),this.updateGravityDisplacement(a,b,c,d),this.updateKeyboardDisplacement(a),this.updateMouseDisplacement(a),this.velocity.add(this.gravityVelocity),this.velocity.add(this.moveUpDownKeyboardVelocity),this.velocity.add(this.moveKeyboardVelocity),this.velocity.add(this.moveMouseVelocity),this.updateKeyboardAngularVelocity(a),this.updateMouseAngularVelocity(a),this.angularVelocity.add(this.angularKeyboardVelocity),this.angularVelocity.add(this.angularMouseVelocity)))},d.updateTeleportDisplacement=function(a){var c=this.teleportInitial,d=this.teleportTarget,e=this.get("teleportDuration"),f=this.teleportVelocity;this.teleportTime=Math.min(e,this.teleportTime+a);var g=b.easeInOutQuad(this.teleportTime,0,1,e),h=c.distanceTo(d)*g,i=this.teleportedDistance;this.teleportedDistance=h,1===g&&(this.teleporting=!1,this.teleportTime=0,this.teleportedDistance=0),f.copy(d),f.sub(c).normalize(),f.multiplyScalar((h-i)*this.modelToMeters/a)},d.updateGravityDisplacement=function(a,c,d,e){var f=this.viewer,g=b.getTempVector(c.worldup).multiplyScalar(-1),h=this.gravityVelocity;this.userOverFloor;if(this.userOverFloor=this.userOverFloor&&0===this.moveMouseVelocity.lengthSq()&&0===this.moveKeyboardVelocity.lengthSq()&&0===this.moveUpDownKeyboardVelocity.lengthSq(),this.gravityEnabled){if(this.userOverFloor)return void h.set(0,0,0);var i=[],j=[],k=this.metersToModel,l=this.get("cameraDistanceFromFloor"),m=this.get("minAllowedRoofDistance"),n=this.get("smallAllowedVerticalStep"),o=this.get("bigAllowedVerticalStep"),p=this.get("minFloorSidesLengthForBigVerticalStep"),q=b.getFloorCandidates(c.position,l*k,m*k,n*k,o*k,p*k,f,i,j);if(-1===q||j.length>0)return void h.set(0,0,0);var r=i[q],s=r.point.distanceTo(c.position)*this.modelToMeters,t=s-l;if(t<1e-4||Math.abs(t)<n)h.copy(g).multiplyScalar(t/a),this.userOverFloor=!0,this.updatesToStartFalling=0;else{if(this.updatesToStartFalling++<this.get("gravityUpdatesBeforeFalling"))return;var u=this.get("gravityAcceleration"),v=this.get("gravityTopFallSpeed"),w=Math.min(v,h.length()+u*a);h.copy(g.multiplyScalar(w))}}},d.updateKeyboardUpDownDisplacement=function(a){var c=this.tool,d=this.running,e=this.moveUp,f=this.moveDown,g=this.get("topVerticalSpeed")*(d?this.get("topVerticalSpeedMultiplier"):1),h=this.moveUpDownKeyboardVelocity,i=b.getTempVector(),j=g/1,k=0!==e||0!==f,l=this.get("allowVerticalSuspension")&&this.moveKeyboardVelocity.lengthSq()>0;if(k&&!l){var m=c.camera.worldup,n=h.length(),o=b.getTempVector(m),p=b.getTempVector(m).multiplyScalar(-1);i.add(o.multiplyScalar(e)),i.add(p.multiplyScalar(f)),i.normalize(),h.copy(i).multiplyScalar(n),i.multiplyScalar(j)}else h.set(0,0,0);this.enableGravity(!k);var q=b.getTempVector();!d&&h.lengthSq()>g*g&&(q.copy(h).normalize(),q.multiplyScalar(-this.getTopRunSpeed()/1),i.copy(q));var r=0===q.lengthSq();b.updateVelocity(a,i,g,r,!1,h)},d.updateKeyboardDisplacement=function(a){var c=(this.tool,this.running),d=this.moveForward,e=this.moveBackward,f=this.moveLeft,g=this.moveRight,h=c?this.getTopRunSpeed():this.get("topWalkSpeed"),i=this.moveKeyboardVelocity,j=b.getTempVector(),k=h/1,l=0!==d||0!==e||0!==f||0!==g;if(l){var m=this.tool.camera,n=m.worldup,o=i.length(),p=b.getForward(m),q=b.getTempVector(p);q.sub(b.getTempVector(n).multiplyScalar(n.dot(p))),q.normalize();var r=b.getTempVector(p).cross(n).normalize(),s=b.getTempVector(r);s.sub(b.getTempVector(n).multiplyScalar(n.dot(r))),s.normalize();var t=b.getTempVector(q).multiplyScalar(-1),u=b.getTempVector(r).multiplyScalar(-1);j.add(q.multiplyScalar(d)),j.add(t.multiplyScalar(e)),j.add(s.multiplyScalar(g)),j.add(u.multiplyScalar(f)),j.normalize(),i.copy(j).multiplyScalar(o),j.multiplyScalar(k)}var v=b.getTempVector();!c&&i.lengthSq()>h*h&&(v.copy(i).normalize(),v.multiplyScalar(-this.getTopRunSpeed()/1),j.copy(v));var w=!l&&b.updateFriction(k,i,j),x=0===v.lengthSq();b.updateVelocity(a,j,h,x,w,i)},d.updateMouseDisplacement=function(a){var c=this.getTopRunSpeed(),d=this.moveMouseTargetDistance,e=this.moveMouseVelocity,f=b.getTempVector(),g=0!==this.moveMouseTargetDistance,h=(g?c:this.moveMouseLastVelocity.length())/this.get("mouseWalkStopDuration");if(g){var i=this.tool.camera,j=i.worldup,k=b.getTempVector(b.getForward(i));k.sub(b.getTempVector(j).multiplyScalar(j.dot(k))),k.normalize(),d>0&&k.multiplyScalar(-1);var l=e.length()+h*a;e.copy(k.multiplyScalar(l)),this.moveMouseLastVelocity.copy(e)}var m=!g&&b.updateFriction(h,e,f);if(b.updateVelocity(a,f,c,!0,m,e),g){var n=e.length()*a;this.moveMouseTargetDistance+=d<0?n:-n,this.moveMouseTargetDistance*d<0&&(this.moveMouseTargetDistance=0)}},d.updateKeyboardAngularVelocity=function(a){var c=this.get("keyboardTopTurnSpeed"),d=this.get("keyboardTurnStopDuration"),e=this.angularKeyboardVelocity,f=b.getTempVector(),g=c/d,h=0!==this.turnLeft||0!==this.turnRight;if(h){var i=Math.min(c,e.length()+g*a);e.y=0,e.y-=this.turnLeft,e.y+=this.turnRight,e.normalize().multiplyScalar(i)}var j=!h&&b.updateFriction(g,e,f);b.updateVelocity(a,f,c,!0,j,e)},d.updateMouseAngularVelocity=function(a){var c=this.get("mouseTurnStopDuration"),d=this.angularMouseVelocity,e=b.getTempVector(),f=this.turnMouseLastVelocity.length()/c,g=(this.tool.camera,this.turnMouseDelta),h=g.lengthSq()>0;if(h){var i=1/(this.get("mouseTurnInverted")?800:200),j=-g.y*i,k=-g.x*i;g.set(0,0,0),d.add(b.getTempVector().set(j/a,k/a,0)),d.multiplyScalar(.5),this.turnMouseLastVelocity.copy(d)}var l=!h&&b.updateFriction(f,d,e);b.updateVelocity(a,e,0,!1,l,d)},d.firstPersonPrototypeUsed=function(){this.trackToolUsed||(avp.logger.track({category:"tool_used",name:"FirstPersonPrototype"}),this.trackToolUsed=!0)},d.getCursor=function(){return Autodesk.Viewing.isIE11?null:this.get("mouseTurnInverted")?this.turningWithMouse?"url(data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAcAAAAHgAAABwAAAAJAAAAAQAAABQAAAAbAQEBBwEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8ACAgIfD4+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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////wB///8Af//+AH///AB///gAP//4AB//8AAf//AAH//wAB//8AAf//wAH//8AB///AA//h+A//4f///+D////gf///4D///+A////wP///////////////////////////////////////8=), auto":"url(data:image/x-icon;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////8AP///AD///wA///4AP//8AB///AAP//gAD//wAA//8AAP//AAB//wAAf/8AAH//wAB//4AAf/+AA//wwAf/8OQv//B+f//wP///8B////Af///4H//////////////////////////////////8=), auto":"url(data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAP//////////////////////////////////////////////////////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////8AAAD/AAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////+P////j////4////+P////j////4////+P////j////4////+P////j////4////////AA+ABwAPgAcAD4AH///////4////+P////j////4////+P////j////4////+P////j////4////+P////j////////////8=) 16 16, auto"},d.ignoreInput=function(){return this.teleporting},d.handleButtonDown=function(a,c){return b.getMousePosition(a,this.viewer,this.mousePosition),0===c&&(this.turningWithMouse=!0,this.turnMouseDelta.set(0,0,0)),!0},d.handleButtonUp=function(a,c){return b.getMousePosition(a,this.viewer,this.mousePosition),0===c&&(this.turningWithMouse=!1),!0},d.handleMouseClick=function(a,c){return b.getMousePosition(a,this.viewer,this.mousePosition),!0},d.handleMouseDoubleClick=function(a,c){var d=function(a){this.teleporting=!0,this.teleportTime=0;var c=this.viewer.impl.camera;this.teleportInitial.copy(c.position);var d=b.getTempVector(c.worldup);d.multiplyScalar(this.get("cameraDistanceFromFloor")*this.metersToModel),this.teleportTarget.copy(a.intersectPoint).add(d),this.teleportVelocity.set(0,0,0)}.bind(this),e=function(a){var c=this.viewer,d=this.viewer.impl.camera,e=this.metersToModel,f=this.get("cameraDistanceFromFloor"),g=b.getTempVector(d.worldup).multiplyScalar(f*e),h=b.getTempVector(d.position),i=b.getTempVector(a.intersectPoint);i.sub(d.position),b.setWorldUpComponent(d,i,0).normalize();var j=b.getTempVector(a.intersectPoint);j.add(i.multiplyScalar(this.get("teleportWallDistance")*e)),j.add(g);var k=[],l=this.get("minAllowedRoofDistance"),m=this.get("bigAllowedVerticalStep"),n=this.get("minFloorSidesLengthForBigVerticalStep"),o=b.getFloorCandidates(j,f*e,l*e,0,m*e,n*e,c,k);-1!==o&&(j.copy(k[o].point).add(g),this.teleporting=!0,this.teleportTime=0,this.teleportInitial.copy(h),this.teleportTarget.copy(j))}.bind(this);if(this.teleporting)return!0;var f=this.viewer;b.getMousePosition(a,f,this.mousePosition);var g=this.mousePosition,h=f.impl.clientToViewport(g.x,g.y),i=f.impl.camera,j=i.worldup,k=f.impl.castRayViewport(h,!1,!1,!1);if(k&&k.face){var l=k.face.normal.normalize();j.dot(l);b.isFloorIntersection(k,i)&&d(k),b.isWallIntersection(k,i)&&e(k)}return!0},d.handleMouseMove=function(a){var d=this.mousePosition,e=c;return b.getMousePosition(a,this.viewer,e),this.turningWithMouse&&(this.get("mouseTurnInverted")?(this.turnMouseDelta.x+=e.x-d.x,this.turnMouseDelta.y+=e.y-d.y):(this.turnMouseDelta.x-=e.x-d.x,this.turnMouseDelta.y-=e.y-d.y)),this.mousePosition.copy(e),!0},d.handleGesture=function(a){a.pointers&&a.pointers.length>0&&(a.pageX=a.pointers[0].pageX,a.pageY=a.pointers[0].pageY);var b=!1;switch(a.type){case"dragstart":b=this.handleButtonDown(a,0);break;case"dragmove":b=this.handleMouseMove(a);break;case"dragend":b=this.handleButtonUp(a,0);break;case"pinchstart":case"pinchmove":case"pinchend":return!0}return b},d.handleKeyDown=function(a,b){var c=!0;switch(b){case this.keys.SHIFT:this.running=!0;break;case this.keys.DASH:var d=this.get("topWalkSpeed")-1;this.tool.set("topWalkSpeed",d);break;case this.keys.EQUALS:case this.keys.PLUS:case this.keys.PLUSMOZ:var d=this.get("topWalkSpeed")+1;this.tool.set("topWalkSpeed",d);break;case this.keys.CONTROL:case this.keys.ALT:break;case this.keys.SPACE:tool._isGravityEnabled=!tool._isGravityEnabled;break;case this.keys.UP:case this.keys.w:this.moveForward=1,this.firstPersonPrototypeUsed();break;case this.keys.LEFT:this.turnLeft=1,this.firstPersonPrototypeUsed();break;case this.keys.RIGHT:this.turnRight=1,this.firstPersonPrototypeUsed();break;case this.keys.DOWN:case this.keys.s:this.moveBackward=1,this.firstPersonPrototypeUsed();break;case this.keys.a:this.moveLeft=1,this.firstPersonPrototypeUsed();break;case this.keys.d:this.moveRight=1,this.firstPersonPrototypeUsed();break;case this.keys.e:this.moveUp=1,this.firstPersonPrototypeUsed();break;case this.keys.q:this.moveDown=1,this.firstPersonPrototypeUsed();break;default:c=!1}return this.running=a.shiftKey,this.ui.onKeyDown&&(c|=this.ui.onKeyDown(a,b)),c},d.handleKeyUp=function(a,c){var d=function(){var a=this.viewer,c=this.viewer.impl.camera,d=this.metersToModel,e=this.get("cameraDistanceFromFloor"),f=b.getTempVector(c.worldup).multiplyScalar(e*d),g=b.getTempVector(c.position),h=(c.worldup,b.getTempVector(c.position))
;h.add(b.getTempVector(c.worldup).multiplyScalar(1.5*d));var i=[],j=(this.get("minAllowedRoofDistance"),this.get("bigAllowedVerticalStep"),this.get("minFloorSidesLengthForBigVerticalStep")),k=b.getFloorCandidates(h,e*d,Number.MAX_SAFE_INTEGER,0,0,j*d,a,i);-1!==k&&(h.copy(i[k].point).add(f),this.teleporting=!0,this.teleportTime=0,this.teleportInitial.copy(g),this.teleportTarget.copy(h))}.bind(this),e=!0,f=this.moveUp,g=this.moveDown;switch(c){case this.keys.SHIFT:this.running=!1;break;case this.keys.CONTROL:case this.keys.ALT:case this.keys.SPACE:break;case this.keys.UP:case this.keys.w:this.moveForward=0;break;case this.keys.LEFT:this.turnLeft=0;break;case this.keys.RIGHT:this.turnRight=0;break;case this.keys.DOWN:case this.keys.s:this.moveBackward=0;break;case this.keys.a:this.moveLeft=0;break;case this.keys.d:this.moveRight=0;break;case this.keys.e:this.moveUp=0;break;case this.keys.q:this.moveDown=0;break;default:e=!1}return 0!==this.moveUp||0!==this.moveDown||this.moveUp===f&&this.moveDown===g||d(),this.running=a.shiftKey,e},d.handleWheelInput=function(a){this.tool.navapi.getReverseZoomDirection()&&(a*=-1);var b=this.moveMouseTargetDistance,c=this.get("mouseWalkMaxTargetDistance"),d=Math.min(c,Math.abs(b+.5*a))*(a>0?1:-1);return this.moveMouseTargetDistance=d,!0},d.handleSingleClick=function(a,b){return!0},d.handleSingleTap=function(a){return!0},d.handleDoubleTap=function(a){return!0},d.handleBlur=function(a){return this.moveForward=this.moveBackward=0,this.moveLeft=this.moveRight=0,this.moveUp=this.moveDown=0,!1},b.NavigatorSimple=a}(),function(){"use strict";function a(a,b){Autodesk.Viewing.Extension.call(this,a,b),this.options=b}function b(a){var b=a.viewer;if(b.getToolbar){var c=Autodesk.Viewing.UI,d=b.getToolbar(!0),e=d.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);a.bimWalkToolButton=new c.Button("toolbar-BimWalkTool"),a.bimWalkToolButton.setToolTip("New First Person"),a.bimWalkToolButton.onClick=function(d){var e=a.bimWalkToolButton.getState();e===c.Button.State.INACTIVE?b.setActiveNavigationTool("bimwalk"):e===c.Button.State.ACTIVE&&b.setActiveNavigationTool()},a.bimWalkToolButton.setIcon("adsk-icon-first-person");var f=e.getControl("toolbar-cameraSubmenuTool");f?e.addControl(a.bimWalkToolButton,{index:e.indexOf(f.getId())}):e.addControl(a.bimWalkToolButton)}}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var c=(Autodesk.Viewing.Extensions.BimWalk,Autodesk.Viewing,Autodesk.Viewing.Private);a.prototype=Object.create(Autodesk.Viewing.Extension.prototype),a.prototype.constructor=a;var d=a.prototype;d.load=function(){var a=this,c=this.viewer,d=Autodesk.Viewing.UI;return this.tool=new Autodesk.Viewing.Extensions.BimWalk.BimWalkTool(c,this.options),c.toolController.registerTool(this.tool),b(this),this.onToolChanged=function(b){if(-1!==b.toolName.indexOf("bimwalk")&&a.bimWalkToolButton){var c=b.active?d.Button.State.ACTIVE:d.Button.State.INACTIVE;a.bimWalkToolButton.setState(c)}},c.addEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,this.onToolChanged),!0},d.unload=function(){var a=this.viewer;if(a.removeEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT,this.onToolChanged),this.onToolChanged=void 0,Autodesk.Viewing.theHotkeyManager.popHotkeys(this.HOTKEYS_ID),this.bimWalkToolButton){var b=a.getToolbar(!1);b&&b.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID).removeControl(this.bimWalkToolButton.getId()),this.bimWalkToolButton=null}return a.getActiveNavigationTool()==this.tool.getName()&&a.setActiveNavigationTool(),a.toolController.deregisterTool(this.tool),this.tool=null,!0},d.set=function(a,b){this.tool.set(a,b)&&c.logger.log("BimWalk "+a+" was set to: "+this.tool.get(a))},d.get=function(a){return this.tool.get(a)},d.setJoystickPosition=function(a,b){this.tool.setJoystickPosition(a,b)},d.setJoystickSize=function(a,b){this.tool.setJoystickSize(a,b)},Autodesk.Viewing.Extensions.BimWalk.BimWalkExtension=a,Autodesk.Viewing.theExtensionManager.registerExtension("Autodesk.BimWalk",a)}(),function(){AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var a=Autodesk.Viewing.Extensions.BimWalk,b=[],c=0,d={x:0,y:0,z:0};a.getTempVector=function(a){for(var e=b.length;e<128;++e)b.push(new THREE.Vector3);return a=a||d,c<128?b[c++].copy(a):(Autodesk.Viewing.Private.logger.warn("Vector pool in Autodesk.Viewing.Extensions.BimWalk reached maximum size"),(new THREE.Vector3).copy(a))},a.freeTempVectors=function(){c=0}}(),function(){function a(a,c){this.viewer=a,this.options=c||{},this.names=["bimwalk"],this.navapi=a.navigation,this.camera=this.navapi.getCamera(),this.active=!1,this.clock=new THREE.Clock(!0),this.restoreOthographic=!1,Autodesk.Viewing.Private.injectCSS("extensions/BimWalk/BimWalk.min.css"),this.navigator=Autodesk.Viewing.isMobileDevice()?new b.NavigatorMobile(this):new b.NavigatorSimple(this)}var b=Autodesk.Viewing.Extensions.BimWalk,c=Autodesk.Viewing;c.EVENT_BIMWALK_CONFIG_CHANGED="EVENT_BIMWALK_CONFIG_CHANGED";var d=a.prototype;d.set=function(a,b){if(!this.navigator.set(a,b))return!1;b=this.navigator.get(a);var d={type:c.EVENT_BIMWALK_CONFIG_CHANGED,data:{configuration:a,value:b}};return this.viewer.dispatchEvent(d),!0},d.get=function(a){return a?this.navigator.get(a):this.navigator.configuration},d.isActive=function(){return this.active},d.activate=function(a){this.active=!0,this.clock.start(),this.viewer.impl.pauseHighlight(!0),this.viewer.clearSelection(),this.restoreOthographic=!this.camera.isPerspective,this.navapi.toPerspective();var b=this.camera,c=(new THREE.Vector3).copy(b.target).sub(b.position).normalize(),d=c.dot(b.worldup);if(Math.abs(d)>=.9999){var e=this.navigator,f=b.position,g=b.target,h=b.up,i=d<0?e.getMinPitchLimit():e.getMaxPitchLimit()-Math.PI,j=(new THREE.Vector3).copy(g).sub(f).length(),k=(new THREE.Vector3).copy(h).multiplyScalar(j*Math.tan(i));k.add(g).sub(f).normalize().multiplyScalar(j),this.navapi.setRequestTransition(!0,f,k.add(f),b.fov)}this.viewer.canvas.focus(),this.navigator.activate()},d.deactivate=function(a){this.active=!1,this.clock.stop(),this.restoreOthographic&&this.navapi.toOrthographic(),this.viewer.impl.pauseHighlight(!1),this.navigator.deactivate()},d.update=function(){if(!this.active||!this.navapi.isActionEnabled("walk"))return!1;for(var a=this.clock.getDelta(),c=0,d=Math.min(0|Math.ceil(a/(1/30)),15),e=this.navigator,f=b.metersToModel(1,this.viewer),g=this.camera.clone(),h=0,i=0,j=0;j<d;++j){var k=Math.min(a,1/30);a-=1/30,b.freeTempVectors(),e.update(k,g,c++,d);var l=b.getTempVector(e.getVelocity()).multiplyScalar(k);g.position.add(l.multiplyScalar(f));var m=b.getTempVector(e.getAngularVelocity()).multiplyScalar(k);h+=m.x,i+=m.y}b.freeTempVectors();var n=0!==g.position.distanceToSquared(this.camera.position),o=b.getTempVector(this.camera.target).sub(this.camera.position),p=b.getTempVector(g.position).add(o),q=0!==p.distanceToSquared(this.camera.target);(n||q)&&(this.navapi.setView(g.position,p),this.navapi.orientCameraUp()),this.camera.isPerspective||(console.log("Lost perspective mode: resetting view."),this.navapi.toPerspective());var r=b.getTempVector(this.camera.target).sub(this.camera.position),s=b.getTempVector(r).cross(this.camera.worldup).normalize();this.navigator.getAngularVelocity();if(0!==h){var t=new THREE.Quaternion;t.setFromAxisAngle(s,-h);var u=b.getTempVector(r);u.applyQuaternion(t);var v=b.getTempVector(this.camera.worldup),w=u.angleTo(v),x=e.getMinPitchLimit(),y=e.getMaxPitchLimit(),z=w<x,A=w>y;z&&t.setFromAxisAngle(s,-(x-w+h)),A&&t.setFromAxisAngle(s,-(y-w+h)),r.applyQuaternion(t),g.up.applyQuaternion(t)}if(0!==i){var B=new THREE.Quaternion;B.setFromAxisAngle(this.camera.worldup,-i),r.applyQuaternion(B),g.up.applyQuaternion(B)}var C=g.position,n=0!==C.distanceToSquared(this.camera.position),p=b.getTempVector(C).add(r),q=0!==p.distanceToSquared(this.camera.target);return(n||q)&&(this.navapi.setView(C,p),this.navapi.orientCameraUp()),this.camera.dirty},d.getNames=function(){return this.names},d.getName=function(){return this.names[0]},d.getCursor=function(){return this.navigator.getCursor()},d.handleButtonDown=function(a,b){return this.navigator.handleButtonDown(a,b)},d.handleButtonUp=function(a,b){return this.navigator.handleButtonUp(a,b)},d.handleMouseMove=function(a){return this.navigator.handleMouseMove(a)},d.handleGesture=function(a){return this.navigator.handleGesture(a)},d.handleSingleClick=function(a,b){return this.navigator.handleMouseClick(a,b)},d.handleDoubleClick=function(a,b){return this.navigator.handleMouseDoubleClick(a,b)},d.handleKeyDown=function(a,b){return this.navigator.handleKeyDown(a,b)},d.handleKeyUp=function(a,b){return this.navigator.handleKeyUp(a,b)},d.handleWheelInput=function(a){return this.navigator.handleWheelInput(a)},d.handleSingleTap=function(a){return this.handleSingleClick(a,0)},d.handleDoubleTap=function(a){return this.navigator.handleMouseDoubleClick(a)},d.handleBlur=function(a){return this.navigator.handleBlur(a)},d.setJoystickPosition=function(a,b){this.navigator.ui&&this.navigator.ui.setJoystickPosition(a,b)},d.setJoystickSize=function(a,b){this.navigator.ui&&this.navigator.ui.setJoystickSize(a,b)},b.BimWalkTool=a}(),function(){AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var a=Autodesk.Viewing.Extensions.BimWalk,b=new Float32Array(6);a.metersToModel=function(a,b){return Autodesk.Viewing.Private.convertUnits("meters",b.model.getUnitString(),1,a,"default")},a.getMousePosition=function(a,b,c){c.x=a.canvasX,c.y=a.canvasY},a.getWorldPosition=function(a,b,c){return viewport=c.navigation.getScreenViewport(),a/=viewport.width,b/=viewport.height,c.navigation.getWorldPoint(a,b)},a.getWorldUpComponent=function(a,b){return a.worldup.y>a.worldup.z?b.y:b.z},a.setWorldUpComponent=function(a,b,c){return a.worldup.y>a.worldup.z?b.y=c:b.z=c,b},a.getSmallestFloorSide=function(a,c,d){var e=0,f=0;return d.getNodeBox(a.dbId,b),c.worldup.y>c.worldup.z?(e=Math.abs(b[0]-b[3]),f=Math.abs(b[2]-b[5])):(e=Math.abs(b[0]-b[3]),f=Math.abs(b[1]-b[4])),Math.min(e,f)},a.isFloorIntersection=function(a,b){if(!a.face)return!1;var c=a.face.normal;return c.lengthSq()>1.0001&&c.normalize(),b.worldup.dot(c)>=.5},a.isWallIntersection=function(a,b){if(!a.face)return!1;var c=a.face.normal;c.lengthSq()>1.0001&&c.normalize();var d=b.worldup.dot(c);return d>=0&&d<=.1},a.getFloorCandidates=function(b,c,d,e,f,g,h,i,j){var k=h.impl.camera,l=a.getTempVector(k.worldup),m=a.getTempVector(b).add(l.multiplyScalar(d)),n=a.getTempVector(l).multiplyScalar(-1);h.impl.rayIntersect(new THREE.Ray(m,n),!1,!1,!1,i);var o=i.length;if(0===o)return-1;if(1===o){if(!a.isFloorIntersection(i[0],k))return-1;var p=d*d;return i[0].point.distanceToSquared(b)<p?-1:0}var q=d+c,r=q-e,s=q-f,t=-1,u=c+d;u*=u;for(var v=Number.MAX_VALUE,w=h.impl.model.getData().instanceTree,x=0;x<o;++x){var y=i[x];if(!a.isWallIntersection(y,k))if(j&&y.distance>d&&y.distance<f)j.push(y);else if(a.isFloorIntersection(y,k)){var z=r;if(w){var A=a.getSmallestFloorSide(y,k,w);A>g&&(z=s)}else z=s;if(!(y.distance<z)){var B=Math.abs(a.getWorldUpComponent(k,b),a.getWorldUpComponent(k,y.point));v>B&&(v=B,t=x)}}}return t},a.easeInOutQuad=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},a.easeInQuad=function(a,b,c,d){return a/=d,c*a*a+b},a.updateFriction=function(b,c,d){var e=c.lengthSq();if(e>0){var f=a.getTempVector();f.copy(c).normalize().multiplyScalar(-1),f.multiplyScalar(b*b),d.add(f)}return e>0},a.updateVelocity=function(b,c,d,e,f,g){var h=a.getTempVector(g);h.add(c.multiplyScalar(b)),e&&h.lengthSq()>d*d&&(h.normalize(),h.multiplyScalar(d)),f&&(h.lengthSq()<1e-4||h.dot(g)<0)&&h.set(0,0,0),g.copy(h)},a.getForward=function(b){return a.getTempVector(b.target).sub(b.position).normalize()}}(),function(){"use strict";function a(a){b.NavigatorSimple.call(this,a),this.configuration.keyboardTopTurnSpeed=.5,this.configuration.keyboardTurnStopDuration=.4,this.ui=new b.UI.NavigatorMobileJoystick(this.viewer,this,a.options.joystickOptions)}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk");var b=Autodesk.Viewing.Extensions.BimWalk,c={x:0,y:0};a.prototype=Object.create(b.NavigatorSimple.prototype),a.prototype.constructor=b;var d=a.prototype;d.updateKeyboardDisplacement=function(a){var c=this.running,d=this.moveForward,e=this.moveBackward,f=c?this.getTopRunSpeed():this.get("topWalkSpeed"),g=this.moveKeyboardVelocity,h=b.getTempVector(),i=15*f,j=0!==d||0!==e;if(j){var k=this.tool.camera,l=k.worldup,m=Math.max(this.moveForward,this.moveBackward),n=b.getForward(k),o=b.getTempVector(n);o.sub(b.getTempVector(l).multiplyScalar(l.dot(n))),o.normalize();var p=b.getTempVector(o).multiplyScalar(-1);h.add(o.multiplyScalar(d)),h.add(p.multiplyScalar(e)),h.normalize(),g.copy(h).multiplyScalar(m),h.multiplyScalar(i*Math.max(this.moveForward,this.moveBackward))}var q=b.getTempVector();!c&&g.lengthSq()>f*f&&(q.copy(g).normalize(),q.multiplyScalar(-this.getTopRunSpeed()/1),h.copy(q));var r=!j&&b.updateFriction(i,g,h),s=0===q.lengthSq();b.updateVelocity(a,h,f,s,r,g)},d.updateKeyboardAngularVelocity=function(a){var c=this.get("keyboardTopTurnSpeed"),d=this.get("keyboardTurnStopDuration"),e=this.angularKeyboardVelocity,f=b.getTempVector(),g=c/d,h=this.turningWithKeyboard;if(h){var i=Math.min(c,Math.max(this.moveLeft,this.moveRight)+g*a);e.y=0,e.y-=this.moveLeft,e.y+=this.moveRight,e.normalize().multiplyScalar(i)}var j=!h&&b.updateFriction(g,e,f);b.updateVelocity(a,f,c,!0,j,e)},d.handleMouseMove=function(a){var d=this.mousePosition,e=c;return b.getMousePosition(a,this.viewer,e),this.turningWithMouse&&(this.turnMouseDelta.x-=e.x-d.x,this.turnMouseDelta.y-=e.y-d.y),this.mousePosition.copy(e),!0},b.NavigatorMobile=a}(),function(){"use strict";AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk.UI"),Autodesk.Viewing.Extensions.BimWalk.UI.NavigatorMobileJoystick=function(a,b,c){var d=a,e=b,f=c||{},g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=f.backCircleRadius||72,o=f.frontCircleRadius||36,p=f.offsetFromCornerRatio||8,q=f.threshold||.1,r=null,s=!1;e.reverseDrag=-1,this.updateJoystickHandlePosition=function(a,b){var c=new THREE.Vector2(a-r.x,b-r.y),d=Math.min(c.length(),n);return c.normalize(),c.multiplyScalar(d),c.add(r),h.style.left=c.x-o+"px",h.style.top=c.y-o+"px",c},this.changeJoystickColor=function(a){a?(h.classList.toggle("focus",!0),i.classList.toggle("focus",!0),h.classList.remove("transition")):(h.classList.remove("focus"),i.classList.remove("focus"),h.classList.toggle("transition",!0))},this.updateNavigator=function(a){var b=(r.x-a.x)/n,c=(r.y-a.y)/n;e.moveForward=0,e.moveBackward=0,e.moveLeft=0,e.moveRight=0,e.turningWithKeyboard=!1,c>q?e.moveForward=c:c<-q&&(e.moveBackward=-c),b>q?(e.moveLeft=b,e.turningWithKeyboard=!0):b<-q&&(e.moveRight=-b,e.turningWithKeyboard=!0)},this.handleGesture=function(a){var b=null;switch(a.type){case"dragstart":s=!0,this.changeJoystickColor(!0),b=this.updateJoystickHandlePosition(a.center.x,a.center.y);break;case"dragmove":s&&(this.changeJoystickColor(!0),b=this.updateJoystickHandlePosition(a.center.x,a.center.y));break;case"dragend":s&&(this.changeJoystickColor(!1),b=this.updateJoystickHandlePosition(r.x,r.y),s=!1)}this.updateNavigator(b),a.preventDefault()},this.setJoystickPosition=function(a,b){h.classList.remove("transition"),r=new THREE.Vector2(a,b),h.style.left=r.x-o+"px",h.style.top=r.y-o+"px",g.style.left=r.x-n+"px",g.style.top=r.y-n+"px",j.style.left=a-10+"px",j.style.top=b-o-20-10+"px",k.style.left=a-10+"px",k.style.top=b+o+20-10+"px",m.style.left=a+o+20-10+"px",m.style.top=b-10+"px",l.style.left=a-o-20-10+"px",l.style.top=b-10+"px"},this.setJoystickPositionRelativeToCorner=function(){var a=d.container.clientWidth/p,b=d.container.clientHeight/p,c=a+n,e=d.container.clientHeight-n-b;this.setJoystickPosition(c,e)},this.setJoystickSize=function(a,b){n=a,i.style.width=2*n+"px",i.style.height=2*n+"px",o=b,h.style.width=2*o+"px",h.style.height=2*o+"px",r&&this.setJoystickPosition(r.x,r.y)},this.init=function(){g||(g=document.createElement("div"),g.className="mobile-joystick",d.container.appendChild(g),i=document.createElement("div"),i.className="mobile-joystick mobile-joystick-back-circle",g.appendChild(i),h=document.createElement("div"),h.className="mobile-joystick mobile-joystick-handle",this.changeJoystickColor(!1),g.appendChild(h),j=document.createElement("div"),j.className="mobile-joystick-arrow arrow-up",j.style.width="20px",j.style.height="20px",g.appendChild(j),m=document.createElement("div"),m.className="mobile-joystick-arrow arrow-right",m.style.width="20px",m.style.height="20px",g.appendChild(m),k=document.createElement("div"),k.className="mobile-joystick-arrow arrow-down",k.style.width="20px",k.style.height="20px",g.appendChild(k),l=document.createElement("div"),l.className="mobile-joystick-arrow arrow-left",l.style.width="20px",l.style.height="20px",g.appendChild(l),this.setJoystickSize(n,o),this.setJoystickPositionRelativeToCorner(),this.hammer=new Hammer.Manager(h,{recognizers:[Autodesk.Viewing.GestureRecognizers.drag],inputClass:Autodesk.Viewing.isIE11?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.on("dragstart dragmove dragend",this.handleGesture.bind(this)),this.onOrientationChanged=this.setJoystickPositionRelativeToCorner.bind(this))},this.init(),this.activate=function(){this.updateJoystickHandlePosition(r.x,r.y),g.classList.toggle("visible",!0),window.addEventListener("resize",this.onOrientationChanged)},this.deactivate=function(){g.classList.remove("visible"),s=!1,window.removeEventListener("resize",this.onOrientationChanged)}}}(),function(){"use strict";function a(a){this.viewer=a.viewer,this.tool=a.tool,this.opened=!1,this.hideTimeoutID,this.dontRemindAgain_Message=!1,this.tooltip=new b.UI.NavigatorSimpleGuide(this);var c=document.createElement("div");c.innerHTML='<div class="bimwalk"><div id  = "tooltip-info" class= "tooltip-info"><div id = "info-icon" class = "info-icon"></div></div><div id = "speed" class= "speed"><div id = "speedText" class = "speed-text"></div></div></div>',this.div=c.childNodes[0],this.onSpeedChange=this.onSpeedChange.bind(this)}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk.UI");var b=Autodesk.Viewing.Extensions.BimWalk,c=Autodesk.Viewing,d=(Autodesk.Viewing.Private,a.prototype);d.activate=function(){if(this.viewer.container.appendChild(this.div),this.viewer.addEventListener(c.EVENT_BIMWALK_CONFIG_CHANGED,this.onSpeedChange),this.viewer.displayViewCube(!1),this.viewer.displayHomeandInfoButton&&this.viewer.displayHomeandInfoButton(!1),!c.isMobileDevice()){var a=this.div.querySelector("#tooltip-info");a.classList.add("open");var b=this;a.addEventListener("click",function(){b.tooltip.showToolTipUI(!0)})}this.viewer.getBimWalkToolPopup()&&this.tooltip.showToolTipUI(!1)},d.deactivate=function(){(this.viewer.removeEventListener(c.EVENT_BIMWALK_CONFIG_CHANGED,this.onSpeedChange),this.speedHide(),this.div.querySelector("#speed").classList.remove("open"),c.isMobileDevice())||(this.div.querySelector("#tooltip-info").classList.remove("open"),this.tooltip.hideToolTipUI());this.viewer.displayViewCube(!0),this.viewer.displayHomeandInfoButton&&this.viewer.displayHomeandInfoButton(!0)},d.isDialogOpen=function(){return this.tooltip.opened},d.onKeyDown=function(){return!!this.tooltip.opened&&(this.tooltip.hideToolTipUI(),!0)},d.onSpeedChange=function(a){if("topWalkSpeed"===a.data.configuration){var b=this,c=Autodesk.Viewing.i18n.translate;this.div.querySelector("#speed").classList.add("open");this.div.querySelector("#speedText").textContent=c("Walk Speed: ")+a.data.value,this.hideTimeoutID=setTimeout(function(){b.speedHide()},5e3),b.opened=!0}},d.speedHide=function(){var a=this;if(a.opened){this.div.querySelector("#speed").classList.remove("open"),a.opened=!1,clearTimeout(this.hideTimeoutID)}},b.UI.NavigatorSimple=a}(),function(){"use strict";function a(a){this.viewer=a.viewer,this.tool=a.tool,this.onTemplate=this.onTemplate.bind(this),this.div=document.createElement("div"),this.opened=!1,d?this.onTemplate(null,d):c.getHtmlTemplate("extensions/BimWalk/res/guide.html",this.onTemplate)}AutodeskNamespace("Autodesk.Viewing.Extensions.BimWalk.UI");var b=Autodesk.Viewing.Extensions.BimWalk,c=Autodesk.Viewing.Private,d=null,e=a.prototype;e.showToolTipUI=function(a){this.viewer.container.appendChild(this.div),this.div.querySelector("#dontRemind").style.display=a?"none":"",this.div.querySelector("#tooltipPanel").classList.add("c-bimwalk-tooltip--open"),this.opened=!0},e.hideToolTipUI=function(){this.div.querySelector("#tooltipPanel").classList.remove("c-bimwalk-tooltip--open"),this.opened=!1},e.onTemplate=function(a,b){if(a)return void c.logger.error("Failed to show BimWalk guide.");d=b;var e=document.createElement("div");e.innerHTML=d,this.div.appendChild(e.childNodes[0]),this.div.querySelector("#tooltipOk").addEventListener("click",this.hideToolTipUI.bind(this)),this.div.querySelector("#dontRemind").addEventListener("click",function(){this.viewer.setBimWalkToolPopup(!1),this.hideToolTipUI.bind(this)}.bind(this)),this.div.addEventListener("click",function(){this.hideToolTipUI()}.bind(this)),Autodesk.Viewing.i18n.localize(this.div)},b.UI.NavigatorSimpleGuide=a}();